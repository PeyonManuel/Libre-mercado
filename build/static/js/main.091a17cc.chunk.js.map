{"version":3,"sources":["Components/Footers/SimpleFooter.js","Actions/userActions.js","Actions/productActions.js","Utils/Utilities.js","Actions/categoryActions.js","Components/CategoriesDropdownList.js","Components/LoadingCircle.js","Components/MessageBox.js","Components/Headers/Header.js","Components/Headers/EmptyHeader.js","Components/Headers/LessHeader.js","Components/Routes/PrivateRoute.js","Components/Routes/NotLogedRoute.js","Components/Routes/ChangePasswordRoute.js","Screens/EnterPassScreen.js","Components/CategorieCards.js","Components/HomeScreenExhibitor.js","Components/Rating.js","Components/Product.js","Screens/HomeScreen.js","Screens/LoginScreen.js","Screens/ProductScreen.js","Screens/RegisterScreen.js","Screens/EmailValidationScreen.js","Screens/NewProductScreen.js","Components/Routes/EnterPassRoute.js","Components/Routes/EmailValidationRoute.js","Components/Routes/HomeScreenRoute.js","Screens/DraftsScreen.js","Actions/addressActions.js","Screens/PostScreen.js","Screens/AddressScreen.js","Screens/ChangePasswordScreen.js","Screens/SearchScreen.js","Screens/ProductPublishedScreen.js","Screens/HistoryScreen.js","Screens/FavoritesScreen.js","Actions/orderActions.js","Components/Publishedproduct.js","Screens/PublishedScreen.js","Screens/ModifyProductScreen.js","Screens/UserQuestionsScreen.js","Components/Routes/CheckoutRoute.js","Components/CheckoutSideBar.js","Screens/CheckoutScreen.js","Components/CartItem.js","Screens/CartScreen.js","Components/Routes/GlobalRoute.js","Components/SubmitRating.js","Screens/UserOrdersScreen.js","Screens/SellerOrdersScreen.js","Screens/NotFoundScreen.js","Components/UserDataAddress.js","Screens/UserDataScreen.js","Screens/AuthenticationScreen.js","Components/Routes/ChangeUserInfoRoute.js","Screens/ChangeUserScreen.js","Screens/ChangeEmailScreen.js","Screens/NotificationScreen.js","App.js","reportWebVitals.js","store.js","Reducers/productReducers.js","Reducers/userReducers.js","Reducers/categoryReducers.js","Reducers/addressReducers.js","Reducers/orderReducers.js","index.js"],"names":["SimpleFooter","className","detailsUser","userId","dispatch","a","type","Axios","get","data","payload","response","message","checkUserName","loginInfo","post","localStorage","setItem","JSON","stringify","loginUser","user","console","log","updateUserFavorites","updateFav","getState","userLogin","headers","Authorization","token","userVerifyEmailExists","email","updateProductDrafts","draft","deleteProductDrafts","draftId","userAddProduct","product","updateUser","userToUpdate","updatePassword","_id","updateHistory","productId","typeOfUpdate","pushNotificationUser","notification","code","process","REACT_APP_NOTIFICATION_CODE","deleteNotificationUser","notificationId","updateCart","item","listByIdsProducts","idArray","detailsProduct","updateProduct","axios","addQuestionProduct","question","seller","text","name","linkTo","answerQuestionProduct","editing","whoAsked","getUserPublishedProducts","formatNumber","num","toString","replace","addErrorToImageList","errorImg","errorDetail","setImageError","errorQuantity","document","querySelector","childElementCount","insertAdjacentHTML","validateVideoId","id","setValidVideoId","setVideoError","img","Image","src","onload","this","width","desktopScreenCondition","window","devicePixelRatio","screen","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","generateAuthenticateToken","jwt","sign","isAdmin","JWT_SECRET","expiresIn","justMinutesFromDate","split","removeMinutesFromDate","listCategories","CategoriesDropdownList","useDispatch","categoryList","useSelector","state","categoryLoading","loading","categoryError","error","categories","useState","technologySection","setTechnologySection","babySection","setBabySection","dropDownTimeout","setDropdownTimeout","useEffect","style","height","onMouseEnter","messageScreen","createElement","clearTimeout","setTimeout","classList","add","onMouseLeave","remove","href","LoadingCircle","color","padding","viewBox","cx","cy","r","fill","stroke","strokeWidth","MessageBox","props","variant","block","children","Header","urlParams","URLSearchParams","location","search","categoryParam","searchParam","stateParam","shippingParam","minimumParam","maximumParam","userUpdateFavs","loadingUpdateFavs","userFavsUpdated","cartUpdate","addToCartSuccess","success","loadingAddToCart","errorAddingToCart","userDeleteNotification","loadingDeleteNotification","errorDeletingNotification","idListProduct","loadingIdList","idListError","idListProducts","products","userData","notifications","localNotifications","setLocalNotifications","setSearch","clickedAddToCart","setClickedAddToCart","userChanged","setUserChanged","favorites","pathname","currentTime","display","justifyContent","alt","placeholder","value","onChange","e","target","onKeyDown","keyCode","onClick","toggle","getElementById","paddingTop","marginLeft","removeItem","includes","onMouseOver","slice","margin","map","fav","position","noDelete","columnGap","active","Finished","price","quantity","editingAddress","cover","noti","i","filter","localNoti","createdAt","fontSize","fontWeight","action","EmptyHeader","marginTop","LessHeader","PrivateRoute","Component","component","redirectTo","rest","render","to","NotLogedRoute","ChangePasswordRoute","userCheckName","emailCodeValidated","getItem","EnterPassScreen","userVerifyEmail","loadingVerifyEmail","errorVerifyingEmail","userSuccess","userName","telephone","password","setPassword","localError","setLocalError","buttonClicked","setButtonClicked","productQuestion","parse","history","push","onSubmit","preventDefault","autoFocus","disabled","CategorieCards","categorieCardsIndex","setCategorieCardsIndex","categoriesContainerWidth","setCategoriesContainerWidth","disableScroll","setDisableScroll","firstClick","setFirstClick","categoryCardWidth","categorieCardsContainerRef","useRef","categorieCardsRef","updateCategoriesContainerWidth","preliminaryWidth","Math","floor","innerWidth","addEventListener","removeEventListener","current","currentTransform","transformMatrix","getComputedStyle","getPropertyValue","parseInt","trim","transform","initialPosition","moving","diff","getStartPosition","pageX","getCurrentPoition","currentPosition","getMouseUp","PointerEvent","ref","ceil","onTransitionEnd","cat","svg","HomeScreenExhibitor","exhibitorRef","index","setIndex","disableBtns","setDisableBtns","moveExhibitorQuantity","items","click","exhibitorContainerRef","newTransformValue","round","transition","updateExhibitorDimensions","dots","renderSlickDots","Rating","rating","numReviews","small","Product","noHover","smallRating","removeBtn","setItemDeleting","reviews","productTotalRating","forEach","review","find","changeHeart","setChangeHeart","HomeScreen","productList","ammountToMoveProductList","setammountToMoveProductList","productListContainerWidth","setProductListContainerWidth","updateProductListContainerWidth","offsetWidth","moveList","moveTo","overflow","LoginScreen","setLoginInfo","loginType","ProductScreen","match","params","productDetails","detailsOfUser","userDetails","productAddQuestion","productQuestionAdded","loadingAddQuestion","errorAddingQuestion","productAnswerQuestion","productAnswerAdded","loadingAnswer","errorAnswering","favError","selectedImg","setSelectedImg","videoSelected","setVideoSelected","selectedQty","setSelectedQty","qtyBtnClicked","setQtyBtnClicked","moreThan6BtnClicked","setMoreThan6BtnClicked","noStock","setNoStock","moreQty","setMoreQty","carouselWidth","setCarouselWidth","historyUpdated","setHistoryUpdated","newQuestion","setNewQuestion","disableQuestionBtn","setDisableQuestionBtn","userQuestions","setUserQuestions","otherQuestions","setOtherQuestions","editingIndex","setEditingIndex","productUnavaiable","setProductUnavaiable","productUnavaiableTimeout","setProductUnavaiableTiemout","productRating","setProductRating","setNumReviews","carouselContainerRef","scrollIntoView","clientWidth","images","video","carouselLimit","scrollWidth","handleClickOutside","event","wrap","wrapperRef","contains","setQuestions","temporaryUserQuestions","questions","temporaryOtherQuestions","renderQuestions","splittedDate","answerDate","answer","maxLength","defaultValue","finished","category","title","allow","frameBorder","maxWidth","isStateNew","draggable","stock","list","min","qtyListDropdown","description","RegisterScreen","body","backgroundColor","checkedEmail","cacheValues","setName","surname","setSurname","dni","setDni","setEmail","nameError","setNameError","surnameError","setSurnameError","dniError","setDniError","emailError","setEmailError","passwordError","setPasswordError","emailExistsScreen","setEmailExistsScreen","isSubmited","setIsSubmited","disableBtn","setDisableBtn","exists","test","opacity","submitHandler","verifyEmail","verifyEmailResponse","undefined","marginBottom","focus","setSelectionRange","EmailValidationScreen","loadingLogin","userRegister","errorRegistering","loadingRegister","input","setInput","hashCode","setHashCode","authType","setAuthType","setSuccess","codeError","setCodeError","loginTypeSwitch","validated","sendEmail","emailjs","send","subject","randomNumber","OTP","random","generateRandomNumber","cacheHashCode","bcrypt","hashSync","compareSync","baseCode","newUser","alert","exist","div","ammount","onPaste","filteredPasteValue","clipboardData","getData","j","String","fromCharCode","createOtpInputs","NewProductScreen","detailsError","details","loadingDetails","userUpdateProductDrafts","updateLoading","updateError","userUpdated","setCacheValues","searchSell","setSearchSell","selectedCategory","setSelectedCategory","setIsStateNew","setImages","percentage","setPercentage","setQuantity","searchError","setSearchError","imageError","quantityError","setQuantityError","showHelpSign","setShowHelpSign","showChangeCategorySign","setShowChangeCategorySign","wrapperRefHelpSign","wrapperRefCategorySign","handleClickOutsideHelpSign","wrapSign","handleClickOutsideCategorySign","handleScroll","scrollY","preventDragAndDrop","productDrafts","scrollTo","scrollHeight","CheckDimension","file","reader","FileReader","readAsDataURL","image","result","secondStep","status","thirdStep","role","onDragEnter","onDragLeave","onDrop","dataTransfer","files","innerHTML","size","dataType","accept","multiple","move","zIndex","onFocus","gap","onLoad","hidden","EnterPassRoute","EmailValidationRoute","loggedUser","HomeScreenRoute","DraftsScreen","userDeleteProductDrafts","loadingDrafts","errorDrafts","setProductDrafts","months","drafts","address","displayDrafts","updateAddress","deleteAddress","addressId","getUserAddresses","PostScreen","errorDetails","userAddresses","loadingAddresses","errorAddresses","addresses","addressDelete","loadingDeletingAddresses","addressDeleted","deleted","errorDeletingDraft","draftDeleted","newProduct","newProductError","creatingProduct","localAddresses","setLocalAddresses","draftValues","setDraftValues","maxPercentage","setMaxPercentage","selectedAddress","setSelectedAddress","setPrice","priceError","setPriceError","noShipping","setNoShipping","setDescription","setVideo","videoError","updatingData","setUpdatingData","descriptionCardOpen","setDescriptionCardOpen","videoCardOpen","setVideoCardOpen","editingDescription","setEditingDescription","editingVideo","setEditingVideo","validVideoId","values","lastUsedAddress","lastUsed","addressToDelete","splice","indexOf","displayAddresses","addressesForReturn","street","streetNumber","city","province","firstStep","fourthStep","fifthStep","videoId","substring","maxHeight","boxSizing","postBtn","allPostErrors","createNewProduct","AddressScreen","addressNew","addressUpdate","loadingUpdate","errorUpdate","currentAddress","postalCode","setPostalCode","setStreet","setStreetNumber","additionalInformation","setAdditionalInformation","betweenStreets","setBetweenStreets","reference","setReference","setProvince","setCity","noNumberCheck","setNoNumberCheck","setAttribute","numberInput","removeAttribute","checkout","handleSubmit","dispatchAddress","top","left","checked","htmlFor","ChangePasswordScreen","loginError","loadingUser","userUpdate","loadingUserUpdate","confirmPassword","setConfirmPassword","confirmPasswordError","setConfirmPasswordError","REACT_APP_CHANGE_PSW_CODE","SearchScreen","customProductList","userError","userLoading","selectedFilter","setSelectedFilter","filterBtnClicked","setFilterBtnClicked","minimum","setMinimum","maximum","setMaximum","phoneFilters","setPhoneFilters","filters","charAt","toUpperCase","aria-hidden","sort","b","xmlns","fillRule","strokeLinecap","ProductPublishedScreen","correctUser","setCorrectUser","HistoryScreen","historyUpdate","updateHistoryError","loadingHistoryUpdate","updateUserError","detailedUser","userHistory","historyError","removeHistoryError","removeHistory","administrateOpen","setAdministrateOpen","updateHistoryParam","setUpdateHistoryParam","localHistory","setLocalHistory","itemDeleting","newLocalHistory","historyItem","hItem","FavoritesScreen","getUserSells","Publishedproduct","localProducts","setLocalProducts","orders","productUpdate","updatedProduct","openOptions","setOpenOptions","productSales","setProductSales","salesCounter","order","orderItems","optionsRef","toBeReplaced","replaceInLocalProducts","PublishedScreen","publishedProducts","userSells","loadingOrders","ordersError","activeParam","setActiveParam","onDisplayProducts","setOnDisplayProducts","searchRegex","RegExp","textAlign","ModifyProductScreen","disableFirstBtn","setDisableFirstBtn","disableNoShippingBtn","setDisableNoShippingBtn","disableDescriptionBtn","setDisableDescriptionBtn","disableVideoBtn","setDisableVideoBtn","disableIsStateNewBtn","setDisableIsStateNewBtn","openNoShippingOptions","setOpenNoShippingOptions","openDescription","setOpenDescription","openVideo","setOpenVideo","openIsStateNew","setOpenIsStateNew","setTitle","UserQuestionsScreen","productGetUserQuestions","errorUser","reverse","productToUpdate","paused","btn","extendedInfo","arrow","unopenedAnswer","CheckoutRoute","localCheckout","CheckoutSideBar","totalPackages","totalProducts","totalPrice","buying","orderCreate","loadingCreatingOrder","errorCreatingOrder","successCreatingOrder","productsUpdateStock","loadingUpdateStock","errorUpdatingStock","successUpdatingStock","sdkReady","setSdkReady","checkoutError","setCheckoutError","paypal","script","REACT_APP_PAYPAL_CLIENT_ID","async","appendChild","packages","pckg","shippingAddress","itemsPriceAcumulator","itemsPrice","shippingPrice","newOrders","amount","onSuccess","productsIds","productsBought","quantityToSubstract","REACT_APP_UPDATE_STOCK_CODE","CheckoutScreen","loadingUserDetails","userDetailsError","setCheckout","setEditingAddress","setBuying","setTotalPackages","setTotalProducts","setTotalPrice","renderPackages","setRenderPackages","setPackages","React","useMemo","sellersPackages","Set","thisProductSeller","packageArray","totalPackagesCounter","totalProductsAcumulator","totalPriceAcumulator","productWithDetails","detProduct","productQuantity","lastPackage","lastPackageTotalQuantity","thisProductQuantity","packagesAcumulator","CartItem","cartItem","setLocalCart","setLocalSaved","localSaved","localCart","hasStock","setHasStock","updateTimeout","setUpdateTimeout","disableOtherBtn","setDisableOtherBtns","removeFromSaved","removeFromCart","resetTimer","updateQuantity","saved","CartScreen","userCart","loadingCart","cartError","cart","cartUpdateError","loadingUpdateCart","cartTotalQuantity","setCartTotalQuantity","savedTotalQuantity","setSavedTotalQuantity","cartSelected","setCartSelected","replaceInSaved","replaceInCart","onlyCartArray","onlySavedArray","cartTotalQuantityAcumulator","savedTotalQuantityAcumulator","GlobalRoute","currentRoute","userRating","localUserRating","setLocalUserRating","loadingProductUpdate","productUpdateError","updateReviews","newRating","oldUserReview","newReviews","UserOrdersScreen","userOrders","localOrders","setLocalOrders","currentDate","deliveredAtDate","isDelivered","deliveredAt","deliveredAtDateSplitted","deliveredAtFormated","orderItem","findUserReview","SubmitRating","SellerOrdersScreen","localSells","setLocalSells","NotFoundScreen","UserDataAddress","UserDataScreen","AuthenticationScreen","userAuthenticate","successVerifyingEmail","authenticateUser","ChangeUserInfoRoute","authenticateToken","verify","err","ChangeUserScreen","setUserName","userNameError","setUserNameError","ChangeEmailScreen","confirmEmail","setConfirmEmail","confirmEmailError","setConfirmEmailError","verifiedEmail","setVerifiedEmail","NotificationScreen","App","updateFontSize","path","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducer","combineReducers","userAddProducts","added","deleteProduct","userDeleteProduct","userPushNotification","cartRemoveMultiple","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.091a17cc.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst SimpleFooter = () => {\r\n  return (\r\n    <footer className='simple-footer'>\r\n      <span className='simple-footer_link'>Cmo cuidamos tu privacidad</span>\r\n      <span className='simple-footer_copyright'>\r\n        Copyright  1999-2021 MercadoLibre S.R.L.\r\n      </span>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default SimpleFooter;\r\n","import Axios from 'axios';\r\n\r\nexport const detailsUser = (userId) => async (dispatch) => {\r\n  dispatch({ type: 'USER_DETAILS_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.get('/api/users/' + userId);\r\n    dispatch({ type: 'USER_DETAILS_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_DETAILS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const checkUserName = (loginInfo) => async (dispatch) => {\r\n  dispatch({ type: 'USER_CHECKNAME_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post('/api/users/checkname', { loginInfo });\r\n    dispatch({ type: 'USER_CHECKNAME_SUCCESS', payload: data });\r\n    localStorage.setItem('userCheckNameInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_CHECKNAME_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const loginUser = (user) => async (dispatch) => {\r\n  dispatch({ type: 'USER_LOGIN_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post('/api/users/login', user);\r\n    console.log(data);\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n    dispatch({ type: 'USER_LOGIN_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_LOGIN_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const authenticateUser = (user) => async (dispatch) => {\r\n  dispatch({ type: 'USER_AUTHENTICATE_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post('/api/users/authenticate', user);\r\n    dispatch({ type: 'USER_AUTHENTICATE_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_AUTHENTICATE_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const loginUserWithCode = (userId, code) => async (dispatch) => {\r\n  dispatch({ type: 'USER_LOGIN_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post('/api/users/loginwithcode', {\r\n      userId,\r\n      code,\r\n    });\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n    dispatch({ type: 'USER_LOGIN_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_LOGIN_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateUserFavorites = (updateFav) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'UPDATE_USER_FAVORITES_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post(\r\n      '/api/users/updatefavs',\r\n      { user, updateFav },\r\n      { headers: { Authorization: 'Bearer ' + user.token } }\r\n    );\r\n    dispatch({ type: 'UPDATE_USER_FAVORITES_SUCCESS', payload: data });\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n    dispatch({ type: 'USER_LOGIN_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'UPDATE_USER_FAVORITES_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const userVerifyEmailExists = (email) => async (dispatch) => {\r\n  dispatch({ type: 'USER_VERIFYEMAILEXISTS_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post('/api/users/verifyemailexists', {\r\n      email,\r\n    });\r\n    dispatch({ type: 'USER_VERIFYEMAILEXISTS_SUCCESS', payload: data });\r\n    localStorage.setItem('verifyEmail', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_VERIFYEMAILEXISTS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const registerUser = (newUser) => async (dispatch) => {\r\n  dispatch({ type: 'USER_REGISTER_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post('/api/users/register', newUser);\r\n    dispatch({ type: 'USER_REGISTER_SUCCESS', payload: data });\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n    dispatch({ type: 'USER_LOGIN_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_REGISTER_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProductDrafts = (draft) => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'USER_UPDATE_PRODUCT_DRAFTS_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post(\r\n      '/api/users/updateProductDrafts',\r\n      {\r\n        draft,\r\n        user,\r\n      },\r\n      { headers: { Authorization: 'Bearer ' + user.token } }\r\n    );\r\n    dispatch({ type: 'USER_UPDATE_PRODUCT_DRAFTS_SUCCESS', payload: data });\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n    dispatch({ type: 'USER_LOGIN_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_UPDATE_PRODUCT_DRAFTS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteProductDrafts = (draftId) => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'USER_DELETE_PRODUCT_DRAFTS_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post(\r\n      '/api/users/deleteProductDrafts',\r\n      {\r\n        draftId,\r\n        user,\r\n      },\r\n      { headers: { Authorization: 'Bearer ' + user.token } }\r\n    );\r\n    dispatch({ type: 'USER_DELETE_PRODUCT_DRAFTS_SUCCESS', payload: data });\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n    dispatch({ type: 'USER_LOGIN_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_DELETE_PRODUCT_DRAFTS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const userAddProduct = (product) => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'USER_ADD_PRODUCTS_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post(\r\n      '/api/users/addProducts',\r\n      {\r\n        product,\r\n        user,\r\n      },\r\n      { headers: { Authorization: 'Bearer ' + user.token } }\r\n    );\r\n    dispatch({ type: 'USER_ADD_PRODUCTS_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_ADD_PRODUCTS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const userDeleteProduct = (productId) => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'USER_DELETE_PRODUCTS_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post(\r\n      '/api/users/delete  Products',\r\n      {\r\n        productId,\r\n        user,\r\n      },\r\n      { headers: { Authorization: 'Bearer ' + user.token } }\r\n    );\r\n    dispatch({ type: 'USER_DELETE_PRODUCTS_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_DELETE_PRODUCTS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateUser = (userToUpdate, updatePassword) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'USER_UPDATE_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post(\r\n      '/api/users/updateuser',\r\n      {\r\n        user: { _id: user._id, ...userToUpdate },\r\n        updatePassword,\r\n      },\r\n      { headers: { Authorization: 'Bearer ' + user.token } }\r\n    );\r\n    dispatch({ type: 'USER_UPDATE_SUCCESS', payload: data });\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n    dispatch({ type: 'USER_LOGIN_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_UPDATE_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateHistory = (productId, typeOfUpdate) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'USER_HISTORY_UPDATE_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post(\r\n      '/api/users/updatehistory',\r\n      {\r\n        productId,\r\n        typeOfUpdate,\r\n      },\r\n      { headers: { Authorization: 'Bearer ' + user.token } }\r\n    );\r\n    dispatch({ type: 'USER_HISTORY_UPDATE_SUCCESS', payload: data });\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n    dispatch({ type: 'USER_LOGIN_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_HISTORY_UPDATE_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const historyRemove = () => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'USER_HISTORY_REMOVE_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post('/api/users/removehistory', user, {\r\n      headers: { Authorization: 'Bearer ' + user.token },\r\n    });\r\n    dispatch({ type: 'USER_HISTORY_REMOVE_SUCCESS', payload: data });\r\n    dispatch({ type: 'USER_HISTORY_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_HISTORY_REMOVE_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getHistoryDetails = () => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'USER_HISTORY_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.get('/api/users/gethistorydetails', {\r\n      headers: { Authorization: 'Bearer ' + user.token },\r\n    });\r\n    dispatch({ type: 'USER_HISTORY_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_HISTORY_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const pushNotificationUser = (userId, notification) => async (\r\n  dispatch\r\n) => {\r\n  dispatch({ type: 'USER_PUSH_NOTIFICATION_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post('/api/users/pushnotification', {\r\n      userId,\r\n      notification,\r\n      code: process.env.REACT_APP_NOTIFICATION_CODE,\r\n    });\r\n    dispatch({ type: 'USER_PUSH_NOTIFICATION_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_PUSH_NOTIFICATION_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteNotificationUser = (notificationId) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'USER_DELETE_NOTIFICATION_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post(\r\n      '/api/users/deletenotification',\r\n      {\r\n        notificationId,\r\n      },\r\n      {\r\n        headers: { Authorization: 'Bearer ' + user.token },\r\n      }\r\n    );\r\n    dispatch({ type: 'USER_DELETE_NOTIFICATION_SUCCESS', payload: data });\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_DELETE_NOTIFICATION_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateCart = (item, typeOfUpdate) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'USER_CART_UPDATE_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post(\r\n      '/api/users/updatecart',\r\n      {\r\n        item,\r\n        typeOfUpdate,\r\n      },\r\n      { headers: { Authorization: 'Bearer ' + user.token } }\r\n    );\r\n    dispatch({ type: 'USER_CART_UPDATE_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_CART_UPDATE_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getCartDetails = () => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'USER_CART_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.get('/api/users/getcartdetails', {\r\n      headers: { Authorization: 'Bearer ' + user.token },\r\n    });\r\n    dispatch({ type: 'USER_CART_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_CART_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const cartRemoveMultiple = (productsIds) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'USER_CART_REMOVE_MULTIPLE_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post(\r\n      '/api/users/cartremovemultiple',\r\n      { productsIds },\r\n      {\r\n        headers: { Authorization: 'Bearer ' + user.token },\r\n      }\r\n    );\r\n    dispatch({ type: 'USER_CART_REMOVE_MULTIPLE_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_CART_REMOVE_MULTIPLE_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n","import axios from 'axios';\r\nimport Axios from 'axios';\r\nimport { pushNotificationUser, userAddProduct } from './userActions';\r\n\r\nexport const listProducts = () => async (dispatch) => {\r\n  dispatch({ type: 'PRODUCT_LIST_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.get('/api/products');\r\n    dispatch({ type: 'PRODUCT_LIST_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'PRODUCT_LIST_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\nexport const customListProducts = (filter) => async (dispatch) => {\r\n  dispatch({ type: 'CUSTOM_PRODUCT_LIST_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.get(\r\n      '/api/products/customsearch?search=' +\r\n        filter.search +\r\n        '&category=' +\r\n        filter.category +\r\n        '&isStateNew=' +\r\n        filter.isStateNew +\r\n        '&noShipping=' +\r\n        filter.noShipping +\r\n        '&minimum=' +\r\n        filter.minimum +\r\n        '&maximum=' +\r\n        filter.maximum\r\n    );\r\n    dispatch({ type: 'CUSTOM_PRODUCT_LIST_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'CUSTOM_PRODUCT_LIST_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const listByIdsProducts = (idArray) => async (dispatch) => {\r\n  dispatch({ type: 'PRODUCT_ID_LIST_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.get('/api/products/idlist', {\r\n      headers: { idArray },\r\n    });\r\n    dispatch({ type: 'PRODUCT_ID_LIST_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'PRODUCT_ID_LIST_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const detailsProduct = (productId) => async (dispatch) => {\r\n  dispatch({ type: 'PRODUCT_DETAILS_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.get('/api/products/' + productId);\r\n    dispatch({ type: 'PRODUCT_DETAILS_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'PRODUCT_DETAILS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const createNewProduct = (product) => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'NEW_PRODUCT_REQUEST' });\r\n  try {\r\n    const { data } = await axios.post(\r\n      '/api/products/newProduct',\r\n      { product, userId: user._id },\r\n      { headers: { Authorization: 'Bearer ' + user.token } }\r\n    );\r\n    dispatch({ type: 'NEW_PRODUCT_SUCCESS', payload: data });\r\n    dispatch(userAddProduct(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'NEW_PRODUCT_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteProduct = (productId) => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'DELETE_PRODUCT_REQUEST' });\r\n  try {\r\n    const { data } = await axios.post(\r\n      '/api/products/deleteProduct',\r\n      { productId },\r\n      { headers: { Authorization: 'Bearer ' + user.token } }\r\n    );\r\n    dispatch({ type: 'DELETE_PRODUCT_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'DELETE_PRODUCT_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProduct = (product) => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'UPDATE_PRODUCT_REQUEST' });\r\n  try {\r\n    const { data } = await axios.post(\r\n      '/api/products/updateproduct',\r\n      { product },\r\n      { headers: { Authorization: 'Bearer ' + user.token } }\r\n    );\r\n    dispatch({ type: 'UPDATE_PRODUCT_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'UPDATE_PRODUCT_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const addQuestionProduct = (product, question) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'PRODUCT_ADD_QUESTION_REQUEST' });\r\n  try {\r\n    const { data } = await axios.post(\r\n      '/api/products/addquestion',\r\n      { productId: product._id, question },\r\n      { headers: { Authorization: 'Bearer ' + user.token } }\r\n    );\r\n    dispatch({ type: 'PRODUCT_ADD_QUESTION_SUCCESS', payload: data });\r\n    dispatch(\r\n      pushNotificationUser(product.seller._id, {\r\n        text: 'Te han hecho una pregunta en: ' + product.name,\r\n        linkTo: '/product/' + product._id,\r\n      })\r\n    );\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'PRODUCT_ADD_QUESTION_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const answerQuestionProduct = (product, question, editing) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'PRODUCT_ANSWER_QUESTION_REQUEST' });\r\n  try {\r\n    const { data } = await axios.post(\r\n      '/api/products/answerquestion',\r\n      { productId: product._id, question },\r\n      { headers: { Authorization: 'Bearer ' + user.token } }\r\n    );\r\n    dispatch({ type: 'PRODUCT_ANSWER_QUESTION_SUCCESS', payload: data });\r\n    if (!editing) {\r\n      dispatch(\r\n        pushNotificationUser(question.whoAsked, {\r\n          text: 'Te respondieron a tu pregunta en: ' + product.name,\r\n          linkTo: '/product/' + product._id,\r\n        })\r\n      );\r\n    }\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'PRODUCT_ANSWER_QUESTION_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUserQuestionProducts = () => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'PRODUCT_USER_QUESTIONS_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.get('/api/products/getuserquestionsproducts', {\r\n      headers: { Authorization: 'Bearer ' + user.token },\r\n    });\r\n    dispatch({ type: 'PRODUCT_USER_QUESTIONS_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'PRODUCT_USER_QUESTIONS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProductsStock = (products) => async (dispatch) => {\r\n  dispatch({ type: 'PRODUCT_UPDATE_STOCK_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post('/api/products/stockupdate', {\r\n      code: process.env.REACT_APP_UPDATE_STOCK_CODE,\r\n      products,\r\n    });\r\n    dispatch({ type: 'PRODUCT_UPDATE_STOCK_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'PRODUCT_UPDATE_STOCK_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUserPublishedProducts = () => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'USER_PUBLISHED_PRODUCTS_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.get('/api/products/getuserpublishedproducts', {\r\n      headers: { Authorization: 'Bearer ' + user.token },\r\n    });\r\n    dispatch({ type: 'USER_PUBLISHED_PRODUCTS_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_PUBLISHED_PRODUCTS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n","import jwt from 'jsonwebtoken';\r\n\r\nexport const formatNumber = (num) => {\r\n  return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1.');\r\n};\r\n\r\nexport const generateRandomNumber = (length) => {\r\n  var digits = '0123456789';\r\n  let OTP = '';\r\n  for (let i = 0; i < length; i++) {\r\n    OTP += digits[Math.floor(Math.random() * 10)];\r\n  }\r\n  return OTP;\r\n};\r\nexport const addErrorToImageList = (errorImg, errorDetail, setImageError) => {\r\n  const errorQuantity = document.querySelector('#error-list')\r\n    ? document.querySelector('#error-list').childElementCount + 1\r\n    : 1;\r\n  setImageError(\r\n    `${\r\n      errorQuantity + (errorQuantity > 1 ? ' fotos' : ' foto')\r\n    } no cumple los requisitos. Revisa los errores.`\r\n  );\r\n  document\r\n    .querySelector('#error-list')\r\n    .insertAdjacentHTML(\r\n      'beforeend',\r\n      `<li><div class='row nowrap flex-start list-item ${\r\n        document.querySelector('#error-list').childElementCount === 0\r\n          ? 'first-child'\r\n          : ''\r\n      }'><img class='center-cropped invalid-img'src='${errorImg}' alt='error'/><p class='bold'>${errorDetail}</p></div></li>`\r\n    );\r\n};\r\n\r\nexport const validateVideoId = (id, setValidVideoId, setVideoError) => {\r\n  var img = new Image();\r\n  img.src = 'http://img.youtube.com/vi/' + id + '/mqdefault.jpg';\r\n  img.onload = function () {\r\n    if (this.width === 120) {\r\n      setValidVideoId('');\r\n      setVideoError('Solo pods agregar links a videos de YouTube.');\r\n    } else {\r\n      setValidVideoId(id);\r\n      setVideoError('');\r\n    }\r\n  };\r\n};\r\nexport const desktopScreenCondition =\r\n  (window.devicePixelRatio < 2 && window.screen.width <= 2560) ||\r\n  (window.devicePixelRatio >= 2 && window.screen.width >= 1280);\r\n\r\nexport const formatDate = (date) => {\r\n  var d = new Date(date),\r\n    month = '' + (d.getMonth() + 1),\r\n    day = '' + d.getDate(),\r\n    year = d.getFullYear();\r\n\r\n  if (month.length < 2) month = '0' + month;\r\n  if (day.length < 2) day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n};\r\n\r\nexport const generateAuthenticateToken = (user) => {\r\n  return jwt.sign(\r\n    {\r\n      _id: user._id,\r\n      name: user.name,\r\n      email: user.email,\r\n      isAdmin: user.isAdmin,\r\n    },\r\n    process.env.JWT_SECRET || 'somethingsecret',\r\n    { expiresIn: '10m' }\r\n  );\r\n};\r\n\r\nexport const verifyAuthenticationToken = (token) => {\r\n  return jwt.verify(\r\n    token,\r\n    process.env.JWT_SECRET || 'somethingsecret',\r\n    (err) => {\r\n      if (err) {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\nexport const justMinutesFromDate = (date) => {\r\n  return [\r\n    date.split('T')[1].split(':')[0],\r\n    date.split('T')[1].split(':')[1],\r\n  ].join(':');\r\n};\r\n\r\nexport const removeMinutesFromDate = (date) => {\r\n  return date.split('T')[0];\r\n};\r\n","import Axios from 'axios';\r\n\r\nexport const listCategories = () => async (dispatch) => {\r\n  dispatch({ type: 'CATEGORY_LIST_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.get('/api/categories');\r\n    dispatch({ type: 'CATEGORY_LIST_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'CATEGORY_LIST_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listCategories } from '../Actions/categoryActions';\r\n\r\nconst CategoriesDropdownList = () => {\r\n  const dispatch = useDispatch();\r\n  const categoryList = useSelector((state) => state.categoryList);\r\n  const {\r\n    loading: categoryLoading,\r\n    error: categoryError,\r\n    categories,\r\n  } = categoryList;\r\n\r\n  const [technologySection, setTechnologySection] = useState(false);\r\n  const [babySection, setBabySection] = useState(false);\r\n  const [dropDownTimeout, setDropdownTimeout] = useState(null);\r\n\r\n  useEffect(() => {\r\n    categories && categories.length === 0 && dispatch(listCategories());\r\n  }, [dispatch, categories]);\r\n\r\n  return (\r\n    <div style={{ height: '2.6rem' }}>\r\n      {!categoryError && categories && !categoryLoading && (\r\n        <ul className='row market-options top'>\r\n          <li\r\n            onMouseEnter={() => {\r\n              const messageScreen = document.createElement('div');\r\n              messageScreen.id = 'categories-black-screen';\r\n              messageScreen.className = 'message-screen';\r\n              clearTimeout(dropDownTimeout);\r\n              setDropdownTimeout(\r\n                setTimeout(() => {\r\n                  document\r\n                    .querySelector('.categories-dropdown-header')\r\n                    .classList.add('active');\r\n                }, 500)\r\n              );\r\n            }}\r\n            onMouseLeave={() => {\r\n              clearTimeout(dropDownTimeout);\r\n              document\r\n                .querySelector('.categories-dropdown-header')\r\n                .classList.remove('active');\r\n              setTechnologySection(false);\r\n              setBabySection(false);\r\n            }}\r\n          >\r\n            <div className='dropdown categories-dropdown-header'>\r\n              <a className='nodecoration' href='#categorias'>\r\n                Categorias <i className='fa fa-caret-down'></i>\r\n              </a>\r\n              <div className='categories-dropdown'>\r\n                <section>\r\n                  <ul className='categs-dropdown-1'>\r\n                    <li\r\n                      className='margin-top'\r\n                      onMouseEnter={() => {\r\n                        setBabySection(false);\r\n                        setTechnologySection(false);\r\n                      }}\r\n                    >\r\n                      <a\r\n                        className='nodecoration '\r\n                        href='/productos?categoria=607db70973b32618a8d3b506'\r\n                      >\r\n                        Vehiculos\r\n                      </a>\r\n                    </li>\r\n                    <li\r\n                      onMouseEnter={() => {\r\n                        setBabySection(false);\r\n                        setTechnologySection(false);\r\n                      }}\r\n                    >\r\n                      <a\r\n                        className='nodecoration'\r\n                        href='/productos?categoria=607db70973b32618a8d3b50d'\r\n                      >\r\n                        Inmuebles\r\n                      </a>\r\n                    </li>\r\n                    <li\r\n                      onMouseEnter={() => {\r\n                        setBabySection(false);\r\n                        setTechnologySection(true);\r\n                      }}\r\n                    >\r\n                      <a className='nodecoration' href='#Tecnologia'>\r\n                        Tecnologa\r\n                      </a>\r\n                      <i\r\n                        className='fas fa-angle-right absolute-right'\r\n                        style={{ height: '1.6rem' }}\r\n                      ></i>\r\n                    </li>\r\n\r\n                    <li\r\n                      onMouseEnter={() => {\r\n                        setTechnologySection(false);\r\n                        setBabySection(true);\r\n                      }}\r\n                    >\r\n                      <a className='nodecoration' href='#Bebes'>\r\n                        Juguetes y Bebs\r\n                      </a>\r\n                      <i\r\n                        className='fas fa-angle-right absolute-right'\r\n                        style={{ height: '1.6rem' }}\r\n                      ></i>\r\n                    </li>\r\n                    <li\r\n                      onMouseEnter={() => {\r\n                        setBabySection(false);\r\n                        setTechnologySection(false);\r\n                      }}\r\n                    >\r\n                      <a\r\n                        className='nodecoration '\r\n                        href='/productos?categoria=607db70973b32618a8d3b50d'\r\n                      >\r\n                        Hogar y Muebles\r\n                      </a>\r\n                    </li>\r\n                    <li\r\n                      onMouseEnter={() => {\r\n                        setBabySection(false);\r\n                        setTechnologySection(false);\r\n                      }}\r\n                    >\r\n                      <a\r\n                        className='nodecoration '\r\n                        href='/productos?categoria=607db70973b32618a8d3b508'\r\n                      >\r\n                        Electrodomsticos\r\n                      </a>\r\n                    </li>\r\n                    <li\r\n                      onMouseEnter={() => {\r\n                        setBabySection(false);\r\n                        setTechnologySection(false);\r\n                      }}\r\n                    >\r\n                      <a\r\n                        className='nodecoration '\r\n                        href='/productos?categoria=607db70973b32618a8d3b515'\r\n                      >\r\n                        Herramientas\r\n                      </a>\r\n                    </li>\r\n                    <li\r\n                      onMouseEnter={() => {\r\n                        setBabySection(false);\r\n                        setTechnologySection(false);\r\n                      }}\r\n                    >\r\n                      {' '}\r\n                      <a\r\n                        className='nodecoration '\r\n                        href='/productos?categoria=607db70973b32618a8d3b509'\r\n                      >\r\n                        Deportes y Fitness\r\n                      </a>\r\n                    </li>\r\n                    <li\r\n                      onMouseEnter={() => {\r\n                        setBabySection(false);\r\n                        setTechnologySection(false);\r\n                      }}\r\n                    >\r\n                      <a\r\n                        className='nodecoration '\r\n                        href='/productos?categoria=607db70973b32618a8d3b512'\r\n                      >\r\n                        Accesorios para Vehiculos\r\n                      </a>\r\n                    </li>\r\n                    <li\r\n                      onMouseEnter={() => {\r\n                        setBabySection(false);\r\n                        setTechnologySection(false);\r\n                      }}\r\n                    >\r\n                      {' '}\r\n                      <a\r\n                        className='nodecoration '\r\n                        href='/productos?categoria=607db70973b32618a8d3b50f'\r\n                      >\r\n                        Belleza y Cuidado Personal\r\n                      </a>\r\n                    </li>\r\n                    <li\r\n                      onMouseEnter={() => {\r\n                        setBabySection(false);\r\n                        setTechnologySection(false);\r\n                      }}\r\n                    >\r\n                      <a\r\n                        className='nodecoration '\r\n                        href='/productos?categoria=607db70973b32618a8d3b522'\r\n                      >\r\n                        Salud y Equipamiento Medico\r\n                      </a>\r\n                    </li>\r\n                    <li\r\n                      onMouseEnter={() => {\r\n                        setBabySection(false);\r\n                        setTechnologySection(false);\r\n                      }}\r\n                    >\r\n                      <a\r\n                        className='nodecoration '\r\n                        href='/productos?categoria=607db70973b32618a8d3b51b'\r\n                      >\r\n                        Industrias y Oficinas\r\n                      </a>\r\n                    </li>\r\n                    <li\r\n                      onMouseEnter={() => {\r\n                        setBabySection(false);\r\n                        setTechnologySection(false);\r\n                      }}\r\n                    >\r\n                      <a\r\n                        className='nodecoration '\r\n                        href='/productos?categoria=607db70973b32618a8d3b524'\r\n                      >\r\n                        Agro\r\n                      </a>\r\n                    </li>\r\n                    <li\r\n                      onMouseEnter={() => {\r\n                        setBabySection(false);\r\n                        setTechnologySection(false);\r\n                      }}\r\n                    >\r\n                      <a\r\n                        className='nodecoration '\r\n                        href='/productos?categoria=607db70973b32618a8d3b523'\r\n                      >\r\n                        Servicios\r\n                      </a>\r\n                    </li>\r\n                  </ul>\r\n                </section>\r\n                {technologySection && (\r\n                  <section className='categs-dropdown-2'>\r\n                    <div className='width-100'>\r\n                      <h3>Tecnologa</h3>\r\n                    </div>\r\n                    <div className='categs-body'>\r\n                      <a\r\n                        className='nodecoration margin-right'\r\n                        href='/productos?categoria=607db70973b32618a8d3b50a'\r\n                      >\r\n                        <h5>Celulares y telfonos</h5>\r\n                      </a>\r\n                      <a\r\n                        className='nodecoration margin-right'\r\n                        href='/productos?categoria=607db70973b32618a8d3b507'\r\n                      >\r\n                        <h5>Computacin</h5>\r\n                      </a>\r\n                      <a\r\n                        className='nodecoration margin-right'\r\n                        href='/productos?categoria=607db70973b32618a8d3b51a'\r\n                      >\r\n                        <h5>Cmaras y Accesorios</h5>\r\n                      </a>\r\n                      <a\r\n                        className='nodecoration margin-right'\r\n                        href='/productos?categoria=607db70973b32618a8d3b50b'\r\n                      >\r\n                        <h5>Electrnica, Audio y Video</h5>\r\n                      </a>\r\n                      <a\r\n                        className='nodecoration margin-right'\r\n                        href='/productos?categoria=607db70973b32618a8d3b513'\r\n                      >\r\n                        <h5>Consolas y Videojuegos</h5>\r\n                      </a>\r\n                    </div>\r\n                  </section>\r\n                )}\r\n                {babySection && (\r\n                  <section className='categs-dropdown-2'>\r\n                    <div className='width-100'>\r\n                      <h3>Juguetes y Bebs</h3>\r\n                    </div>\r\n                    <div className='categs-body'>\r\n                      <a\r\n                        className='nodecoration margin-right'\r\n                        href='/productos?categoria=607db70973b32618a8d3b510'\r\n                      >\r\n                        <h5>Juegos y Juguetes</h5>\r\n                      </a>\r\n                      <a\r\n                        className='nodecoration margin-right'\r\n                        href='/productos?categoria=607db70973b32618a8d3b521'\r\n                      >\r\n                        <h5>Souvenirs, Cotilln y Fiestas</h5>\r\n                      </a>\r\n                      <a\r\n                        className='nodecoration margin-right'\r\n                        href='/productos?categoria=607db70973b32618a8d3b516'\r\n                      >\r\n                        <h5>Bebs</h5>\r\n                      </a>\r\n                    </div>\r\n                  </section>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </li>\r\n          <li>\r\n            <a className='nodecoration' href='/historial'>\r\n              Historial\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a className='nodecoration' href='/vender'>\r\n              Vender\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a className='nodecoration' href='/ayuda'>\r\n              Ayuda\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoriesDropdownList;\r\n","import React from 'react';\r\n\r\nconst LoadingCircle = ({ color, padding }) => {\r\n  return (\r\n    <div id='wrapper'>\r\n      <div className={'profile-main-loader' + (padding ? ' padding' : '')}>\r\n        <div className={'loader ' + color}>\r\n          <svg className='circular-loader' viewBox='25 25 50 50'>\r\n            <circle\r\n              className='loader-path'\r\n              cx='50'\r\n              cy='50'\r\n              r='20'\r\n              fill='none'\r\n              stroke='#70c542'\r\n              strokeWidth='2'\r\n            />\r\n          </svg>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingCircle;\r\n","import React from 'react';\r\n\r\nconst MessageBox = (props) => {\r\n  return (\r\n    <div\r\n      className={\r\n        'margin-top alert alert-' +\r\n        (props.variant || 'info') +\r\n        (props.block ? ' width-100' : '')\r\n      }\r\n    >\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessageBox;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listByIdsProducts } from '../../Actions/productActions';\r\nimport {\r\n  deleteNotificationUser,\r\n  updateCart,\r\n  updateUserFavorites,\r\n} from '../../Actions/userActions';\r\nimport {\r\n  desktopScreenCondition,\r\n  formatDate,\r\n  formatNumber,\r\n  justMinutesFromDate,\r\n  removeMinutesFromDate,\r\n} from '../../Utils/Utilities';\r\nimport CategoriesDropdownList from '../CategoriesDropdownList';\r\nimport LoadingCircle from '../LoadingCircle';\r\nimport MessageBox from '../MessageBox';\r\n\r\nconst Header = (props) => {\r\n  useEffect(() => {\r\n    document.querySelector('.grid-container').classList.remove('less-header');\r\n  }, []);\r\n  const urlParams = new URLSearchParams(props.location.search);\r\n  const categoryParam = urlParams.get('categoria');\r\n  const searchParam = urlParams.get('busqueda');\r\n  const stateParam = urlParams.get('estado');\r\n  const shippingParam = urlParams.get('con-envio');\r\n  const minimumParam = urlParams.get('minimo');\r\n  const maximumParam = urlParams.get('maximo');\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user } = userLogin;\r\n  const userUpdateFavs = useSelector((state) => state.userUpdateFavs);\r\n  const {\r\n    error,\r\n    loading: loadingUpdateFavs,\r\n    user: userFavsUpdated,\r\n  } = userUpdateFavs;\r\n  const cartUpdate = useSelector((state) => state.cartUpdate);\r\n  const {\r\n    success: addToCartSuccess,\r\n    loading: loadingAddToCart,\r\n    error: errorAddingToCart,\r\n  } = cartUpdate;\r\n  const userDeleteNotification = useSelector(\r\n    (state) => state.userDeleteNotification\r\n  );\r\n  const {\r\n    loading: loadingDeleteNotification,\r\n    error: errorDeletingNotification,\r\n  } = userDeleteNotification;\r\n  const idListProduct = useSelector((state) => state.idListProduct);\r\n  const {\r\n    loading: loadingIdList,\r\n    error: idListError,\r\n    products: idListProducts,\r\n  } = idListProduct;\r\n  const dispatch = useDispatch();\r\n  const [localNotifications, setLocalNotifications] = useState(\r\n    user && user.userData && user.userData.notifications\r\n      ? user.userData.notifications\r\n      : []\r\n  );\r\n  const [search, setSearch] = useState(searchParam ? searchParam : '');\r\n  const [clickedAddToCart, setClickedAddToCart] = useState(false);\r\n  const [userChanged, setUserChanged] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setUserChanged(true);\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (userFavsUpdated) {\r\n      setUserChanged(false);\r\n      if (userFavsUpdated.userData.favorites.length === 0) {\r\n        dispatch({ type: 'PRODUCT_ID_LIST_RESET' });\r\n      }\r\n      dispatch({ type: 'UPDATE_USER_FAVORITES_RESET' });\r\n    }\r\n  }, [userFavsUpdated, dispatch]);\r\n\r\n  useEffect(() => {\r\n    switch (props.location.pathname) {\r\n      case '/':\r\n        document.querySelector('#inicio') &&\r\n          document.querySelector('#inicio').classList.add('current');\r\n        break;\r\n      case '/notificaciones':\r\n        document.querySelector('#notificaciones') &&\r\n          document.querySelector('#notificaciones').classList.add('current');\r\n        break;\r\n      case '/mis-compras':\r\n        document.querySelector('#compras') &&\r\n          document.querySelector('#compras').classList.add('current');\r\n        break;\r\n      case '/mis-ventas':\r\n        document.querySelector('#ventas') &&\r\n          document.querySelector('#ventas').classList.add('current');\r\n        break;\r\n      case '/preguntas':\r\n        document.querySelector('#preguntas') &&\r\n          document.querySelector('#preguntas').classList.add('current');\r\n        break;\r\n      case '/publicaciones':\r\n        document.querySelector('#publicaciones') &&\r\n          document.querySelector('#publicaciones').classList.add('current');\r\n        break;\r\n      case '/favoritos':\r\n        document.querySelector('#favoritos') &&\r\n          document.querySelector('#favoritos').classList.add('current');\r\n        break;\r\n      case '/historial':\r\n        document.querySelector('#historial') &&\r\n          document.querySelector('#historial').classList.add('current');\r\n        break;\r\n      case '/vender':\r\n        document.querySelector('#vender') &&\r\n          document.querySelector('#vender').classList.add('current');\r\n        break;\r\n      case '/ayuda':\r\n        document.querySelector('#ayuda') &&\r\n          document.querySelector('#ayuda').classList.add('current');\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }, [props]);\r\n  useEffect(() => {\r\n    if (user && user.userData && user.userData.notifications) {\r\n      setLocalNotifications(user.userData.notifications);\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (addToCartSuccess && clickedAddToCart) {\r\n      window.location.href = '/carrito';\r\n      dispatch({ type: 'USER_CART_UPDATE_RESET' });\r\n      setClickedAddToCart(false);\r\n    }\r\n  }, [addToCartSuccess, dispatch, user, clickedAddToCart]);\r\n\r\n  var currentTime = new Date();\r\n\r\n  return (\r\n    <header className='row flex-center'>\r\n      <div\r\n        style={{\r\n          width: '120rem',\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n        }}\r\n      >\r\n        <div className='halfs'>\r\n          <div className='row half left'>\r\n            <div className='logo-container'>\r\n              <a className='nodecoration' href='/'>\r\n                <img\r\n                  className='logo big-logo'\r\n                  src='https://i.imgur.com/xDUqlt2.png'\r\n                  alt='Mercado libre logo'\r\n                ></img>\r\n                <img\r\n                  className='logo small-logo'\r\n                  src='https://global-selling.mercadolibre.com/brandprotection/enforcement/images?src=meli-logo.png'\r\n                  alt='Mercado libre logo'\r\n                ></img>\r\n              </a>\r\n            </div>\r\n            <div className='searchbar'>\r\n              <input\r\n                type='text'\r\n                placeholder={\r\n                  desktopScreenCondition\r\n                    ? 'Buscar productos, marcas y mas...'\r\n                    : 'Buscar'\r\n                }\r\n                value={search}\r\n                onChange={(e) => setSearch(e.target.value)}\r\n                onKeyDown={(e) => {\r\n                  if (e.keyCode === 13 && search.length > 2) {\r\n                    window.location.href =\r\n                      '/productos?busqueda=' +\r\n                      search +\r\n                      (categoryParam ? '&categoria=' + categoryParam : '') +\r\n                      (stateParam ? '&estado=' + !stateParam : '') +\r\n                      (shippingParam ? '&con-envio=' + shippingParam : '') +\r\n                      (minimumParam ? '&minimo=' + minimumParam : '') +\r\n                      (maximumParam ? '&maximo=' + maximumParam : '');\r\n                  }\r\n                }}\r\n              ></input>\r\n              <a\r\n                href={\r\n                  search.length > 0\r\n                    ? '/productos?busqueda=' +\r\n                      search +\r\n                      (categoryParam ? '&categoria=' + categoryParam : '') +\r\n                      (stateParam ? '&estado=' + !stateParam : '') +\r\n                      (shippingParam ? '&con-envio=' + shippingParam : '') +\r\n                      (minimumParam ? '&minimo=' + minimumParam : '') +\r\n                      (maximumParam ? '&maximo=' + maximumParam : '')\r\n                    : '#short-search'\r\n                }\r\n                className='nodecoration'\r\n              >\r\n                <i className='fa fa-search'></i>\r\n              </a>\r\n            </div>\r\n\r\n            <div className='row cart'>\r\n              <div\r\n                className='burger'\r\n                onClick={(e) => {\r\n                  document.querySelector('.burger').classList.toggle('toggle');\r\n                  document\r\n                    .getElementById('small-screen-nav-bar')\r\n                    .classList.toggle('active');\r\n                }}\r\n              >\r\n                <div className='line1'></div>\r\n                <div className='line2'></div>\r\n                <div className='line3'></div>\r\n              </div>\r\n              <a href='/carrito' className='nodecoration'>\r\n                <i className='fa fa-shopping-cart fa-lg'></i>\r\n              </a>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className='row first-half half left'\r\n            style={{ paddingTop: '1.5rem' }}\r\n          >\r\n            <div style={{ width: '14rem' }}></div>\r\n            {desktopScreenCondition && <CategoriesDropdownList />}\r\n          </div>\r\n        </div>\r\n        <ul className='row user-options half'>\r\n          <li>\r\n            {user ? (\r\n              <div className='dropdown'>\r\n                <a className='nodecoration' href='#user'>\r\n                  <i className='fa fa-user  fa-lg margin-right'></i>{' '}\r\n                  <p>{user.name}</p>{' '}\r\n                  <i\r\n                    className='fa fa-caret-down'\r\n                    style={{ marginLeft: '0.5rem' }}\r\n                  ></i>\r\n                </a>\r\n                <ul className='dropdown-content'>\r\n                  <li>\r\n                    <a className='nodecoration' href='/mis-datos'>\r\n                      <i className='fa fa-user  fa-3x'></i>\r\n                      <span>{' Hola ' + user.name}</span>\r\n                    </a>\r\n                  </li>\r\n                  <li className='separator'>\r\n                    <a className='nodecoration ' href='/mis-compras'>\r\n                      Compras\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a className='nodecoration' href='/Preguntas'>\r\n                      Preguntas\r\n                    </a>\r\n                  </li>\r\n                  <li className='separator'>\r\n                    <a className='nodecoration' href='/publicaciones'>\r\n                      Publicaciones\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a className='nodecoration' href='/mis-ventas'>\r\n                      Ventas\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a className='nodecoration separator' href='/mis-datos'>\r\n                      Mis datos\r\n                    </a>\r\n                  </li>\r\n                  <li className='separator'>\r\n                    <a\r\n                      className='nodecoration'\r\n                      href={props.location.search}\r\n                      onClick={() => {\r\n                        localStorage.removeItem('userInfo');\r\n                      }}\r\n                    >\r\n                      Salir\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            ) : (\r\n              <a className='nodecoration' href='/register'>\r\n                Cre tu cuenta{' '}\r\n              </a>\r\n            )}\r\n          </li>\r\n          {!user && (\r\n            <li>\r\n              <a className='nodecoration' href='/login'>\r\n                Ingres{' '}\r\n              </a>\r\n            </li>\r\n          )}\r\n          <li>\r\n            <a className='nodecoration' href='/mis-compras'>\r\n              Mis compras{' '}\r\n            </a>\r\n          </li>\r\n          {user && !window.location.href.split('/')[3].includes('favoritos') && (\r\n            <li>\r\n              <div\r\n                className='dropdown'\r\n                onMouseOver={() => {\r\n                  if (\r\n                    ((!loadingIdList && !idListProducts) || userChanged) &&\r\n                    user.userData.favorites.length > 0\r\n                  ) {\r\n                    setUserChanged(false);\r\n                    dispatch(\r\n                      listByIdsProducts(user.userData.favorites.slice(0, 3))\r\n                    );\r\n                  }\r\n                }}\r\n              >\r\n                <a className='nodecoration' href='#favorites'>\r\n                  {'Favoritos '}\r\n\r\n                  <i\r\n                    className='fa fa-caret-down'\r\n                    style={{ marginLeft: '0.5rem' }}\r\n                  ></i>\r\n                </a>\r\n                <ul className='dropdown-content favorites'>\r\n                  <li>\r\n                    <h2 style={{ margin: '0' }}>Favoritos</h2>\r\n                  </li>\r\n                  {loadingAddToCart || loadingIdList || !idListProducts ? (\r\n                    <LoadingCircle color='blue' padding={true} />\r\n                  ) : idListError ? (\r\n                    <MessageBox variant='danger'>\r\n                      Ha ocurrido un error con los favoritos\r\n                    </MessageBox>\r\n                  ) : idListProducts && idListProducts.length >= 1 ? (\r\n                    <>\r\n                      {loadingUpdateFavs ? (\r\n                        <LoadingCircle color='blue' padding={true} />\r\n                      ) : error ? (\r\n                        <MessageBox variant='danger'>\r\n                          Ha ocurrido un error con los favoritos\r\n                        </MessageBox>\r\n                      ) : (\r\n                        idListProducts.map((fav) => (\r\n                          <li\r\n                            className='separator'\r\n                            key={fav._id}\r\n                            style={{ position: 'relative' }}\r\n                          >\r\n                            <div className='delbtn-div'>\r\n                              <button\r\n                                onClick={() => {\r\n                                  dispatch(\r\n                                    updateUserFavorites({\r\n                                      _id: fav._id,\r\n                                      noDelete: false,\r\n                                    })\r\n                                  );\r\n                                  dispatch({ type: 'PRODUCT_ID_LIST_RESET' });\r\n                                }}\r\n                              >\r\n                                Eliminar\r\n                              </button>\r\n                            </div>\r\n                            <div\r\n                              className='row buybtns-div'\r\n                              style={{ columnGap: '1rem' }}\r\n                            >\r\n                              <a\r\n                                href={'/checkout/shipping'}\r\n                                onClick={() => {\r\n                                  if (fav.active && !fav.Finished) {\r\n                                    localStorage.setItem(\r\n                                      'localCheckout',\r\n                                      JSON.stringify({\r\n                                        products: [\r\n                                          {\r\n                                            _id: fav._id,\r\n                                            seller: fav.seller,\r\n                                            price: fav.price,\r\n                                            quantity: 1,\r\n                                          },\r\n                                        ],\r\n                                        editingAddress: false,\r\n                                      })\r\n                                    );\r\n                                  }\r\n                                  if (!fav.active || fav.Finished) {\r\n                                    window.location.href = '/product' + fav._id;\r\n                                  }\r\n                                }}\r\n                              >\r\n                                Comprar\r\n                              </a>\r\n                              <a\r\n                                className={errorAddingToCart ? 'red' : ''}\r\n                                href='#aadir-al-carrito'\r\n                                onClick={() => {\r\n                                  dispatch(\r\n                                    updateCart(\r\n                                      {\r\n                                        product: fav._id,\r\n                                        quantity: 1,\r\n                                      },\r\n                                      'add'\r\n                                    )\r\n                                  );\r\n                                  setClickedAddToCart(true);\r\n                                }}\r\n                              >\r\n                                Agregar al carrito\r\n                              </a>\r\n                            </div>\r\n                            <a\r\n                              className='row top nodecoration'\r\n                              href={'/product/' + fav._id}\r\n                            >\r\n                              <img\r\n                                className='favimg'\r\n                                src={fav.cover}\r\n                                alt='product'\r\n                              ></img>\r\n                              <div className='column favinfo'>\r\n                                <h2 className='favname'>{fav.name}</h2>\r\n                                <span className='favprice'>\r\n                                  $ {formatNumber(fav.price)}\r\n                                </span>\r\n                              </div>\r\n                            </a>\r\n                          </li>\r\n                        ))\r\n                      )}\r\n                      {idListProducts.length >= 3 && (\r\n                        <li>\r\n                          <a href='/favoritos'>Ver todos tus favoritos</a>\r\n                        </li>\r\n                      )}\r\n                    </>\r\n                  ) : (\r\n                    <span className='nofavs'>\r\n                      Agreg a tus favoritos y seguilos desde aca\r\n                    </span>\r\n                  )}\r\n                </ul>\r\n              </div>\r\n            </li>\r\n          )}\r\n          <li>\r\n            <a className='nodecoration' href='/carrito'>\r\n              <i className='fa fa-shopping-cart fa-lg'></i>{' '}\r\n            </a>\r\n          </li>\r\n          {user &&\r\n            !window.location.href.split('/')[3].includes('notificaciones') && (\r\n              <li>\r\n                <div className='dropdown'>\r\n                  <a className='nodecoration' href='#notificaciones'>\r\n                    <i className='fa fa-bell fa-lg'></i>\r\n                    {localNotifications.length > 0 && (\r\n                      <div className='notification-badge'>\r\n                        {localNotifications.length < 10\r\n                          ? localNotifications.length\r\n                          : '+9'}\r\n                      </div>\r\n                    )}\r\n                  </a>\r\n                  <ul className='dropdown-content notifications'>\r\n                    <li>\r\n                      <h2 style={{ margin: '0' }}>Notificaciones</h2>\r\n                    </li>\r\n                    {loadingDeleteNotification ? (\r\n                      <div className='absolute-loading'>\r\n                        <LoadingCircle color='blue' padding={true} />\r\n                      </div>\r\n                    ) : errorDeletingNotification ? (\r\n                      <MessageBox variant='danger'>\r\n                        Ha ocurrido un error con las notificaciones\r\n                      </MessageBox>\r\n                    ) : localNotifications.length >= 1 ? (\r\n                      localNotifications.map(\r\n                        (noti, i) =>\r\n                          i < 3 && (\r\n                            <li\r\n                              className='separator'\r\n                              key={noti._id}\r\n                              style={{ position: 'relative' }}\r\n                            >\r\n                              <div className='delbtn-div'>\r\n                                <button\r\n                                  onClick={() => {\r\n                                    dispatch(deleteNotificationUser(noti._id));\r\n                                    setLocalNotifications(\r\n                                      localNotifications.filter(\r\n                                        (localNoti) =>\r\n                                          localNoti._id !== noti._id\r\n                                      )\r\n                                    );\r\n                                  }}\r\n                                >\r\n                                  Eliminar\r\n                                </button>\r\n                              </div>\r\n                              <a\r\n                                className='row top nodecoration'\r\n                                href={noti.linkTo}\r\n                                onClick={() =>\r\n                                  dispatch(deleteNotificationUser(noti._id))\r\n                                }\r\n                              >\r\n                                <h4>\r\n                                  {noti.text.split(':')[0]}\r\n                                  <br />\r\n                                  {noti.text.split(':')[1]}\r\n                                </h4>\r\n                              </a>\r\n                              <p className='notification-date'>\r\n                                <i className='fas fa-clock'></i>\r\n                                {formatDate(currentTime) ===\r\n                                removeMinutesFromDate(noti.createdAt)\r\n                                  ? justMinutesFromDate(noti.createdAt)\r\n                                  : removeMinutesFromDate(noti.createdAt)}\r\n                              </p>\r\n                            </li>\r\n                          )\r\n                      )\r\n                    ) : (\r\n                      <li>\r\n                        <span className='nofavs'>No hay nada por aqu</span>\r\n                      </li>\r\n                    )}\r\n                  </ul>\r\n                </div>\r\n              </li>\r\n            )}\r\n        </ul>\r\n      </div>\r\n      <nav className='small-screen-nav-bar' id='small-screen-nav-bar'>\r\n        <ul className='dropdown-content'>\r\n          <li>\r\n            {user ? (\r\n              <a\r\n                className='nodecoration'\r\n                style={{ color: 'rgba(0, 0, 0, 0.8)', margin: '1rem 0rem' }}\r\n                href='/mis-datos'\r\n              >\r\n                <i className='fa fa-user  fa-3x'></i>\r\n                <span>{' Hola ' + user.name}</span>\r\n              </a>\r\n            ) : (\r\n              <div className='small-navbar-notlogged-div'>\r\n                <div className='row nowrap'>\r\n                  <i className='fa fa-user  fa-3x'></i>\r\n                  <div className='column margin-left'>\r\n                    <span style={{ fontSize: '1.8rem', fontWeight: 'bold' }}>\r\n                      Bienvenido\r\n                    </span>\r\n                    <span>\r\n                      Ingresa a tu cuenta para ver tus compras, favoritos, etc.\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  className='row'\r\n                  style={{ paddingTop: '1rem', width: '100%' }}\r\n                >\r\n                  <form action='/login' style={{ width: '49%' }}>\r\n                    <button type='submit' className='primary block'>\r\n                      Ingres\r\n                    </button>\r\n                  </form>\r\n                  <form action='/register' style={{ width: '49%' }}>\r\n                    <button className='secondary block margin-left'>\r\n                      Cre tu cuenta\r\n                    </button>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </li>\r\n          <li className='separator'>\r\n            <a id='inicio' className='nodecoration small-nav-bar' href='/'>\r\n              <i className='fas fa-home fa-lg'></i>\r\n              Inicio\r\n            </a>\r\n          </li>\r\n          {user && (\r\n            <li>\r\n              <a\r\n                id='notificaciones'\r\n                className='nodecoration small-nav-bar relative'\r\n                href='/notificaciones'\r\n              >\r\n                <i className='fas fa-bell fa-lg relative'>\r\n                  {' '}\r\n                  {localNotifications.length > 0 && (\r\n                    <div className='notification-badge'>\r\n                      {localNotifications.length < 10\r\n                        ? localNotifications.length\r\n                        : '+9'}\r\n                    </div>\r\n                  )}\r\n                </i>\r\n                Notificaciones\r\n              </a>\r\n            </li>\r\n          )}\r\n         \r\n          {user && (\r\n            <li>\r\n              <a\r\n                id='compras'\r\n                className='nodecoration small-nav-bar'\r\n                href='/mis-compras'\r\n              >\r\n                <i className='fas fa-shopping-bag fa-lg'></i>\r\n                Mis compras\r\n              </a>\r\n            </li>\r\n          )}\r\n          {user && (\r\n            <li>\r\n              <a\r\n                id='ventas'\r\n                className='nodecoration small-nav-bar'\r\n                href='/mis-ventas'\r\n              >\r\n                <i className='fas fa-tags'></i>\r\n                Mis ventas\r\n              </a>\r\n            </li>\r\n          )}\r\n          {user && (\r\n            <li>\r\n              <a\r\n                id='preguntas'\r\n                className='nodecoration small-nav-bar'\r\n                href='/preguntas'\r\n              >\r\n                <i className='fas fa-question'></i>\r\n                Preguntas\r\n              </a>\r\n            </li>\r\n          )}\r\n          {user && (\r\n            <li>\r\n              <a\r\n                id='publicaciones'\r\n                className='nodecoration small-nav-bar'\r\n                href='/publicaciones'\r\n              >\r\n                <i className='fas fa-store'></i>\r\n                Publicaciones\r\n              </a>\r\n            </li>\r\n          )}\r\n          {user && (\r\n            <li>\r\n              <a\r\n                id='favoritos'\r\n                className='nodecoration small-nav-bar'\r\n                href='/favoritos'\r\n              >\r\n                <i className='fas fa-heart fa-lg'></i>\r\n                Favoritos\r\n              </a>\r\n            </li>\r\n          )}\r\n          <li>\r\n            <a\r\n              id='historial'\r\n              className='nodecoration small-nav-bar'\r\n              href='/historial'\r\n            >\r\n              <i className='fas fa-clock fa-lg'></i>\r\n              Historial\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a\r\n              id='vender'\r\n              className='nodecoration small-nav-bar'\r\n              href='/vender'\r\n            >\r\n              <i className='fas fa-ticket-alt fa-lg'></i>\r\n              Vender\r\n            </a>\r\n          </li>\r\n          {user && (\r\n            <li>\r\n              <a\r\n                id='vender'\r\n                className='nodecoration small-nav-bar'\r\n                href='/'\r\n                onClick={() => {\r\n                  localStorage.removeItem('userInfo');\r\n                }}\r\n              >\r\n                <i className='fas fa-sign-out-alt'></i>\r\n                Salir\r\n              </a>\r\n            </li>\r\n          )}\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect } from 'react';\r\n\r\nconst EmptyHeader = () => {\r\n  useEffect(() => {\r\n    document.querySelector('.grid-container').classList.add('less-header');\r\n  }, []);\r\n  return (\r\n    <header className='empty'>\r\n      <div className='logo-container'>\r\n        <a\r\n          className='nodecoration'\r\n          href='/'\r\n          onClick={() => {\r\n            localStorage.removeItem('userCheckNameInfo');\r\n            localStorage.removeItem('hashCode');\r\n          }}\r\n        >\r\n          <img\r\n            className='logo big-logo'\r\n            src='https://i.imgur.com/xDUqlt2.png'\r\n            alt='Mercado libre logo'\r\n          ></img>\r\n          <img\r\n            className='logo small-logo'\r\n            src='https://global-selling.mercadolibre.com/brandprotection/enforcement/images?src=meli-logo.png'\r\n            alt='Mercado libre logo'\r\n            style={{ marginTop: '-0.5rem' }}\r\n          ></img>\r\n        </a>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default EmptyHeader;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst LessHeader = (props) => {\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user } = userLogin;\r\n\r\n  const [localNotifications, setLocalNotifications] = useState(\r\n    user && user.userData && user.userData.notifications\r\n      ? user.userData.notifications\r\n      : []\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (user && user.userData && user.userData.notifications) {\r\n      setLocalNotifications(user.userData.notifications);\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    document.querySelector('.grid-container').classList.add('less-header');\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    switch (props.location.pathname) {\r\n      case '/':\r\n        document.querySelector('#inicio') &&\r\n          document.querySelector('#inicio').classList.add('current');\r\n        break;\r\n      case '/notificaciones':\r\n        document.querySelector('#notificaciones') &&\r\n          document.querySelector('#notificaciones').classList.add('current');\r\n        break;\r\n      case '/mis-compras':\r\n        document.querySelector('#compras') &&\r\n          document.querySelector('#compras').classList.add('current');\r\n        break;\r\n      case '/favoritos':\r\n        document.querySelector('#favoritos') &&\r\n          document.querySelector('#favoritos').classList.add('current');\r\n        break;\r\n      case '/ofertas':\r\n        document.querySelector('#ofertas') &&\r\n          document.querySelector('#ofertas').classList.add('current');\r\n        break;\r\n      case '/historial':\r\n        document.querySelector('#historial') &&\r\n          document.querySelector('#historial').classList.add('current');\r\n        break;\r\n      case '/vender':\r\n        document.querySelector('#vender') &&\r\n          document.querySelector('#vender').classList.add('current');\r\n        break;\r\n      case '/categorias':\r\n        document.querySelector('#categorias') &&\r\n          document.querySelector('#categorias').classList.add('current');\r\n        break;\r\n      case '/supermercado':\r\n        document.querySelector('#supermercado') &&\r\n          document.querySelector('#supermercado').classList.add('current');\r\n        break;\r\n      case '/ayuda':\r\n        document.querySelector('#ayuda') &&\r\n          document.querySelector('#ayuda').classList.add('current');\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }, [props]);\r\n  return (\r\n    <header className='empty less row'>\r\n      <div className='logo-container'>\r\n        <a\r\n          className='nodecoration'\r\n          href='/'\r\n          onClick={() => {\r\n            localStorage.removeItem('userCheckNameInfo');\r\n            localStorage.removeItem('hashCode');\r\n          }}\r\n        >\r\n          <img\r\n            className='logo big-logo'\r\n            src='https://i.imgur.com/xDUqlt2.png'\r\n            alt='Mercado libre logo'\r\n          ></img>\r\n          <img\r\n            className='logo small-logo'\r\n            src='https://global-selling.mercadolibre.com/brandprotection/enforcement/images?src=meli-logo.png'\r\n            alt='Mercado libre logo'\r\n            style={{ marginTop: '-0.5rem' }}\r\n          ></img>\r\n        </a>\r\n      </div>\r\n      <div\r\n        className='burger less-header'\r\n        onClick={() => {\r\n          document.querySelector('.burger').classList.toggle('toggle');\r\n          document\r\n            .getElementById('small-screen-nav-bar')\r\n            .classList.toggle('active');\r\n        }}\r\n      >\r\n        <div className='line1'></div>\r\n        <div className='line2'></div>\r\n        <div className='line3'></div>\r\n      </div>\r\n      <div className='dropdown less-header'>\r\n        <a className='nodecoration' href='#user'>\r\n          <i className='fa fa-user  fa-lg'></i> {user.name}{' '}\r\n          <i className='fa fa-caret-down'></i>\r\n        </a>\r\n        <ul className='dropdown-content less-header'>\r\n          <li>\r\n            <a className='nodecoration' href='/mis-datos'>\r\n              <i className='fa fa-user  fa-3x'></i>\r\n              <span>{' Hola ' + user.name}</span>\r\n            </a>\r\n          </li>\r\n          <li className='separator'>\r\n            <a className='nodecoration ' href='/mis-compras'>\r\n              Compras\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a className='nodecoration' href='/Preguntas'>\r\n              Preguntas\r\n            </a>\r\n          </li>\r\n          <li className='separator'>\r\n            <a className='nodecoration' href='/publicaciones'>\r\n              Publicaciones\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a className='nodecoration' href='/mis-ventas'>\r\n              Ventas\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a className='nodecoration separator' href='/mis-datos'>\r\n              Mis datos\r\n            </a>\r\n          </li>\r\n          <li className='separator'>\r\n            <a\r\n              className='nodecoration'\r\n              href={props.location.search}\r\n              onClick={() => {\r\n                localStorage.removeItem('userInfo');\r\n              }}\r\n            >\r\n              Salir\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <nav\r\n        className='small-screen-nav-bar less-header'\r\n        id='small-screen-nav-bar'\r\n      >\r\n        <ul className='dropdown-content'>\r\n          <li>\r\n            {user ? (\r\n              <a\r\n                className='nodecoration'\r\n                style={{ color: 'rgba(0, 0, 0, 0.8)', margin: '1rem 0rem' }}\r\n                href='/mis-datos'\r\n              >\r\n                <i className='fa fa-user  fa-3x'></i>\r\n                <span>{' Hola ' + user.name}</span>\r\n              </a>\r\n            ) : (\r\n              <div className='small-navbar-notlogged-div'>\r\n                <div className='row nowrap'>\r\n                  <i className='fa fa-user  fa-3x'></i>\r\n                  <div className='column margin-left'>\r\n                    <span style={{ fontSize: '1.8rem', fontWeight: 'bold' }}>\r\n                      Bienvenido\r\n                    </span>\r\n                    <span>\r\n                      Ingresa a tu cuenta para ver tus compras, favoritos, etc.\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  className='row'\r\n                  style={{ paddingTop: '1rem', width: '100%' }}\r\n                >\r\n                  <form action='/login' style={{ width: '49%' }}>\r\n                    <button type='submit' className='primary block'>\r\n                      Ingres\r\n                    </button>\r\n                  </form>\r\n                  <form action='/register' style={{ width: '49%' }}>\r\n                    <button className='secondary block margin-left'>\r\n                      Cre tu cuenta\r\n                    </button>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </li>\r\n          <li className='separator'>\r\n            <a id='inicio' className='nodecoration small-nav-bar' href='/'>\r\n              <i className='fas fa-home fa-lg'></i>\r\n              Inicio\r\n            </a>\r\n          </li>\r\n          {user && (\r\n            <li>\r\n              <a\r\n                id='notificaciones'\r\n                className='nodecoration small-nav-bar relative'\r\n                href='/notificaciones'\r\n              >\r\n                <i className='fas fa-bell fa-lg relative'>\r\n                  {' '}\r\n                  {localNotifications.length > 0 && (\r\n                    <div className='notification-badge'>\r\n                      {localNotifications.length < 10\r\n                        ? localNotifications.length\r\n                        : '+9'}\r\n                    </div>\r\n                  )}\r\n                </i>\r\n                Notificaciones\r\n              </a>\r\n            </li>\r\n          )}\r\n\r\n          {user && (\r\n            <li>\r\n              <a\r\n                id='compras'\r\n                className='nodecoration small-nav-bar'\r\n                href='/mis-compras'\r\n              >\r\n                <i className='fas fa-shopping-bag fa-lg'></i>\r\n                Mis compras\r\n              </a>\r\n            </li>\r\n          )}\r\n          {user && (\r\n            <li>\r\n              <a\r\n                id='ventas'\r\n                className='nodecoration small-nav-bar'\r\n                href='/mis-ventas'\r\n              >\r\n                <i className='fas fa-tags'></i>\r\n                Mis ventas\r\n              </a>\r\n            </li>\r\n          )}\r\n          {user && (\r\n            <li>\r\n              <a\r\n                id='preguntas'\r\n                className='nodecoration small-nav-bar'\r\n                href='/preguntas'\r\n              >\r\n                <i className='fas fa-question'></i>\r\n                Preguntas\r\n              </a>\r\n            </li>\r\n          )}\r\n          {user && (\r\n            <li>\r\n              <a\r\n                id='publicaciones'\r\n                className='nodecoration small-nav-bar'\r\n                href='/publicaciones'\r\n              >\r\n                <i className='fas fa-store'></i>\r\n                Publicaciones\r\n              </a>\r\n            </li>\r\n          )}\r\n          {user && (\r\n            <li>\r\n              <a\r\n                id='favoritos'\r\n                className='nodecoration small-nav-bar'\r\n                href='/favoritos'\r\n              >\r\n                <i className='fas fa-heart fa-lg'></i>\r\n                Favoritos\r\n              </a>\r\n            </li>\r\n          )}\r\n          <li>\r\n            <a\r\n              id='historial'\r\n              className='nodecoration small-nav-bar'\r\n              href='/historial'\r\n            >\r\n              <i className='fas fa-clock fa-lg'></i>\r\n              Historial\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a\r\n              id='vender'\r\n              className='nodecoration small-nav-bar'\r\n              href='/vender'\r\n            >\r\n              <i className='fas fa-ticket-alt fa-lg'></i>\r\n              Vender\r\n            </a>\r\n          </li>\r\n          {user && (\r\n            <li>\r\n              <a\r\n                id='vender'\r\n                className='nodecoration small-nav-bar'\r\n                href='/'\r\n                onClick={() => {\r\n                  localStorage.removeItem('userInfo');\r\n                }}\r\n              >\r\n                <i className='fas fa-sign-out-alt'></i>\r\n                Salir\r\n              </a>\r\n            </li>\r\n          )}\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default LessHeader;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({ component: Component, redirectTo, ...rest }) => {\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user } = userLogin;\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        user ? (\r\n          <Component {...props}></Component>\r\n        ) : (\r\n          <Redirect to={'/login' + (redirectTo ? redirectTo : '')} />\r\n        )\r\n      }\r\n    ></Route>\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nconst NotLogedRoute = ({ component: Component, ...rest }) => {\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user } = userLogin;\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        !user ? <Component {...props}></Component> : <Redirect to='/' />\r\n      }\r\n    ></Route>\r\n  );\r\n};\r\n\r\nexport default NotLogedRoute;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nconst ChangePasswordRoute = ({ component: Component, ...rest }) => {\r\n  const userCheckName = useSelector((state) => state.userCheckName);\r\n  const { user } = userCheckName;\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        const emailCodeValidated = localStorage.getItem('emailCodeValidated');\r\n        console.log(user, emailCodeValidated);\r\n        return user && emailCodeValidated ? (\r\n          <Component {...props}></Component>\r\n        ) : (\r\n          <Redirect to='/' />\r\n        );\r\n      }}\r\n    ></Route>\r\n  );\r\n};\r\n\r\nexport default ChangePasswordRoute;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  loginUser,\r\n  updateUserFavorites,\r\n  userVerifyEmailExists,\r\n} from '../Actions/userActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\n\r\nconst EnterPassScreen = (props) => {\r\n  const userCheckName = useSelector((state) => state.userCheckName);\r\n  const { user } = userCheckName;\r\n  const userVerifyEmail = useSelector((state) => state.userVerifyEmail);\r\n  const {\r\n    loading: loadingVerifyEmail,\r\n    error: errorVerifyingEmail,\r\n    success,\r\n  } = userVerifyEmail;\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { error, user: userSuccess, loading } = userLogin;\r\n  const [loginInfo] = useState(\r\n    user &&\r\n      (user.userName\r\n        ? user.userName\r\n        : user.email\r\n        ? user.email\r\n        : user.telephone\r\n        ? user.telephone\r\n        : '')\r\n  );\r\n  const [password, setPassword] = useState('');\r\n  const [localError, setLocalError] = useState('');\r\n  const [buttonClicked, setButtonClicked] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (success) {\r\n      window.location.href = '/email-validation?authType=changepsw';\r\n    }\r\n  }, [success]);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      window.location.href = '/login';\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (userSuccess) {\r\n      const urlParams = new URLSearchParams(props.location.search);\r\n      const condition = urlParams\r\n        ? urlParams.get('loginType')\r\n          ? true\r\n          : false\r\n        : false;\r\n      if (condition) {\r\n        switch (urlParams.get('loginType')) {\r\n          case 'favorito':\r\n            dispatch(\r\n              updateUserFavorites({\r\n                _id: props.location.search.split('item_id=')[1],\r\n                noDelete: true,\r\n              })\r\n            );\r\n            break;\r\n          case 'vender':\r\n            window.location.href = '/vender';\r\n            break;\r\n          case 'new-address':\r\n            window.location.href = '/nueva-direccion';\r\n            break;\r\n          case 'product-question':\r\n            const productQuestion = localStorage.getItem('product-question')\r\n              ? JSON.parse(localStorage.getItem('product-question'))\r\n              : null;\r\n            if (productQuestion) {\r\n              window.location.href = '/product/' + productQuestion._id;\r\n            } else {\r\n              window.location.href = '/';\r\n            }\r\n            break;\r\n          default:\r\n            props.history.push('/');\r\n            break;\r\n        }\r\n      }\r\n      dispatch({ type: 'USER_CHECKNAME_RESET' });\r\n      localStorage.removeItem('userCheckNameInfo');\r\n    }\r\n  }, [userSuccess, dispatch, props]);\r\n  useEffect(() => {\r\n    if (error) {\r\n      setLocalError(error);\r\n    }\r\n  }, [error]);\r\n  useEffect(() => {\r\n    if (errorVerifyingEmail) {\r\n      setLocalError('Ha ocurrido un error');\r\n    }\r\n  }, [errorVerifyingEmail]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (buttonClicked === 'login') {\r\n      if (password) {\r\n        dispatch(loginUser({ _id: user._id, password }));\r\n      } else {\r\n        setLocalError('Ingres la clave');\r\n      }\r\n    } else if (buttonClicked === 'dontknowpass') {\r\n      dispatch(userVerifyEmailExists(user.email));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      <div className='extra-header'></div>\r\n      <form onSubmit={submitHandler} className='screen-card login-screen'>\r\n        <div>\r\n          <h1>Ahora, tu clave</h1>\r\n          <div className='email-badge row top'>\r\n            <i className='fa fa-user'></i>\r\n            <p className='email-badge__user-name'>{loginInfo}</p>\r\n            <a\r\n              href='/login'\r\n              onClick={() => localStorage.removeItem('userCheckNameInfo')}\r\n            >\r\n              <i className='fa fa-times' style={{ color: 'black' }}></i>\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div className='wrapper password'>\r\n          <div className='underline-label-input'>\r\n            <input\r\n              id='password'\r\n              type='password'\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              onKeyDown={(e) => {\r\n                if (e.keyCode === 13) {\r\n                  if (password) {\r\n                    dispatch(loginUser({ _id: user._id, password }));\r\n                  } else {\r\n                    setLocalError('Ingres la clave');\r\n                  }\r\n                }\r\n              }}\r\n              autoFocus\r\n            ></input>\r\n            <div className={'underline' + (localError ? ' error' : '')}></div>\r\n            <label>Clave</label>\r\n            <span className={localError ? ' error' : ' noerror'}>\r\n              {localError && localError}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <button\r\n            type='submit'\r\n            className={'primary block' + (loading ? ' loading-padding' : '')}\r\n            onClick={() => {\r\n              setButtonClicked('login');\r\n            }}\r\n            disabled={loading}\r\n          >\r\n            {loading ? <LoadingCircle color='blue' /> : 'Ingresar'}\r\n          </button>\r\n          <button\r\n            type='submit'\r\n            className={\r\n              'secondary block' + (loadingVerifyEmail ? ' no-padding' : '')\r\n            }\r\n            onClick={() => {\r\n              setButtonClicked('dontknowpass');\r\n            }}\r\n            disabled={loadingVerifyEmail}\r\n          >\r\n            {loadingVerifyEmail ? (\r\n              <LoadingCircle color='blue' />\r\n            ) : (\r\n              'No s mi clave'\r\n            )}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EnterPassScreen;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listCategories } from '../Actions/categoryActions';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\nimport LoadingCircle from './LoadingCircle';\r\nimport MessageBox from './MessageBox';\r\n\r\nconst CategorieCards = () => {\r\n  const dispatch = useDispatch();\r\n  const categoryList = useSelector((state) => state.categoryList);\r\n  const {\r\n    loading: categoryLoading,\r\n    error: categoryError,\r\n    categories,\r\n  } = categoryList;\r\n  const [categorieCardsIndex, setCategorieCardsIndex] = useState(0);\r\n  const [categoriesContainerWidth, setCategoriesContainerWidth] = useState();\r\n  const [disableScroll, setDisableScroll] = useState(false);\r\n  const [firstClick, setFirstClick] = useState(false);\r\n  const [categoryCardWidth] = useState(window.screen.width > 340 ? 170 : 135);\r\n\r\n  const categorieCardsContainerRef = useRef();\r\n  const categorieCardsRef = useRef();\r\n\r\n  useEffect(() => {\r\n    categories &&\r\n      categories.length === 0 &&\r\n      !desktopScreenCondition &&\r\n      dispatch(listCategories());\r\n  }, [dispatch, categories]);\r\n\r\n  useEffect(() => {\r\n    const updateCategoriesContainerWidth = () => {\r\n      const preliminaryWidth = Math.floor(\r\n        window.innerWidth /\r\n          ((desktopScreenCondition ? window.devicePixelRatio : 1) *\r\n            categoryCardWidth)\r\n      );\r\n      setCategoriesContainerWidth(\r\n        preliminaryWidth % 2 !== 0\r\n          ? (preliminaryWidth - 1) *\r\n              (desktopScreenCondition ? window.devicePixelRatio : 1) *\r\n              categoryCardWidth\r\n          : preliminaryWidth *\r\n              (desktopScreenCondition ? window.devicePixelRatio : 1) *\r\n              categoryCardWidth\r\n      );\r\n    };\r\n    updateCategoriesContainerWidth();\r\n    window.addEventListener('resize', updateCategoriesContainerWidth);\r\n    return () =>\r\n      window.removeEventListener('resize', updateCategoriesContainerWidth);\r\n  }, [categoryCardWidth]);\r\n  useEffect(() => {\r\n    if (categorieCardsRef.current) {\r\n      let currentTransform = 0;\r\n      const transformMatrix =\r\n        categorieCardsRef.current &&\r\n        window\r\n          .getComputedStyle(categorieCardsRef.current)\r\n          .getPropertyValue('transform');\r\n      if (transformMatrix !== 'none') {\r\n        currentTransform = transformMatrix\r\n          ? parseInt(transformMatrix.split(',')[4].trim()) * -1\r\n          : 0;\r\n      }\r\n      setCategorieCardsIndex(\r\n        Math.floor(currentTransform / categoriesContainerWidth)\r\n      );\r\n    }\r\n  }, [categoriesContainerWidth]);\r\n\r\n  useEffect(() => {\r\n    if (categorieCardsRef.current) {\r\n      categorieCardsRef.current.style.transform =\r\n        'translateX(' + -categoriesContainerWidth * categorieCardsIndex + 'px)';\r\n    }\r\n  }, [categorieCardsIndex, categoriesContainerWidth]);\r\n  useEffect(() => {\r\n    if (categorieCardsContainerRef.current && !desktopScreenCondition) {\r\n      let initialPosition = null;\r\n      let moving = false;\r\n      let transform = 0;\r\n      let diff = 0;\r\n      const getStartPosition = (e) => {\r\n        if (e.target.className === 'categorie-card flex-center column') {\r\n          initialPosition = e.pageX;\r\n          moving = true;\r\n          const transformMatrix =\r\n            categorieCardsRef.current &&\r\n            window\r\n              .getComputedStyle(categorieCardsRef.current)\r\n              .getPropertyValue('transform');\r\n          if (transformMatrix !== 'none') {\r\n            transform = transformMatrix\r\n              ? parseInt(transformMatrix.split(',')[4].trim())\r\n              : 0;\r\n          }\r\n        }\r\n      };\r\n      const getCurrentPoition = (e) => {\r\n        if (moving && !disableScroll) {\r\n          const currentPosition = e.pageX;\r\n          diff = transform + (currentPosition - initialPosition);\r\n          categorieCardsRef.current.style.transform =\r\n            'translateX(' + diff + 'px)';\r\n          if (\r\n            currentPosition - initialPosition >= window.innerWidth - 10 ||\r\n            currentPosition - initialPosition <= -window.innerWidth + 10\r\n          ) {\r\n            getMouseUp();\r\n          }\r\n        }\r\n      };\r\n      const getMouseUp = () => {\r\n        moving = false;\r\n        if (diff % window.innerWidth !== 0) {\r\n          setCategorieCardsIndex(\r\n            categorieCardsIndex + (diff < transform ? +1 : -1)\r\n          );\r\n          setDisableScroll(true);\r\n        }\r\n      };\r\n      if (window.PointerEvent) {\r\n        window.addEventListener('pointerdown', getStartPosition);\r\n        window.addEventListener('pointermove', getCurrentPoition);\r\n        window.addEventListener('pointerup', getMouseUp);\r\n      } else {\r\n        window.addEventListener('touchdown', getStartPosition);\r\n        window.addEventListener('touchmove', getCurrentPoition);\r\n        window.addEventListener('touchup', getMouseUp);\r\n      }\r\n\r\n      return () => {\r\n        if (window.PointerEvent) {\r\n          window.removeEventListener('pointerdown', getStartPosition);\r\n          window.removeEventListener('pointermove', getCurrentPoition);\r\n          window.removeEventListener('pointerup', getMouseUp);\r\n        } else {\r\n          window.removeEventListener('touchdown', getStartPosition);\r\n          window.removeEventListener('touchmove', getCurrentPoition);\r\n          window.removeEventListener('touchup', getMouseUp);\r\n        }\r\n      };\r\n    }\r\n    // eslint-disable-next-line\r\n  });\r\n  return (\r\n    <div className='categorie-cards-screen'>\r\n      {categoryLoading ? (\r\n        <LoadingCircle color='blue' />\r\n      ) : categoryError ? (\r\n        <MessageBox variant='danger'>{categoryError}</MessageBox>\r\n      ) : (\r\n        <>\r\n          <h2>Categoras populares</h2>\r\n          <div style={{ position: 'relative' }}>\r\n            {desktopScreenCondition && categorieCardsIndex > 0 && (\r\n              <button\r\n                className='card-back-button'\r\n                onClick={() => {\r\n                  setCategorieCardsIndex(categorieCardsIndex - 1);\r\n                }}\r\n              ></button>\r\n            )}\r\n            <div\r\n              className='categorie-cards-container'\r\n              ref={categorieCardsContainerRef}\r\n              style={{ width: categoriesContainerWidth }}\r\n            >\r\n              <div\r\n                className='categorie-cards-track'\r\n                style={{\r\n                  width: desktopScreenCondition\r\n                    ? Math.ceil(categories.length / 2) *\r\n                      Math.floor(window.devicePixelRatio * categoryCardWidth)\r\n                    : Math.ceil(categories.length / 2) * categoryCardWidth,\r\n                }}\r\n                ref={categorieCardsRef}\r\n                onTransitionEnd={() => {\r\n                  setDisableScroll(false);\r\n                  if (categorieCardsIndex < 0) {\r\n                    setCategorieCardsIndex(categorieCardsIndex + 1);\r\n                    setDisableScroll(true);\r\n                  }\r\n                  if (\r\n                    categoriesContainerWidth *\r\n                      Math.ceil(\r\n                        categorieCardsRef.current &&\r\n                          parseInt(categorieCardsRef.current.style.width) /\r\n                            categoriesContainerWidth\r\n                      ) <\r\n                      (categorieCardsIndex + 1) * categoriesContainerWidth &&\r\n                    !desktopScreenCondition\r\n                  ) {\r\n                    setCategorieCardsIndex(categorieCardsIndex - 1);\r\n                    setDisableScroll(true);\r\n                  }\r\n                }}\r\n              >\r\n                {categories.map((cat) => {\r\n                  return (\r\n                    <a\r\n                      key={cat.name}\r\n                      className='categorie-card flex-center column'\r\n                      href={'/productos?categoria=' + cat._id}\r\n                    >\r\n                      <img src={cat.svg} alt='categorie' />\r\n                      <span>{cat.name}</span>\r\n                    </a>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n            {((desktopScreenCondition &&\r\n              categorieCardsRef.current &&\r\n              parseInt(categorieCardsRef.current.style.width) >\r\n                (categorieCardsIndex + 1) * categoriesContainerWidth) ||\r\n              !firstClick) && (\r\n              <button\r\n                className='card-next-button'\r\n                onClick={() => {\r\n                  if (!firstClick) {\r\n                    setFirstClick(true);\r\n                  }\r\n                  setCategorieCardsIndex(categorieCardsIndex + 1);\r\n                }}\r\n              ></button>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategorieCards;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\n\r\nconst HomeScreenExhibitor = () => {\r\n  const exhibitorRef = useRef();\r\n  const [index, setIndex] = useState(1);\r\n  const [disableBtns, setDisableBtns] = useState(false);\r\n  const [disableScroll, setDisableScroll] = useState(false);\r\n  const [moveExhibitorQuantity] = useState(\r\n    window.screen.width > 1280 && window.devicePixelRatio > 1\r\n      ? 1600 * window.devicePixelRatio\r\n      : 1600\r\n  );\r\n  const items = desktopScreenCondition\r\n    ? [\r\n        'https://http2.mlstatic.com/D_NQ_797135-MLA45643423773_042021-OO.webp',\r\n        'https://http2.mlstatic.com/D_NQ_953329-MLA45598416456_042021-OO.webp',\r\n        'https://http2.mlstatic.com/D_NQ_895676-MLA45598052818_042021-OO.webp',\r\n        'https://http2.mlstatic.com/D_NQ_908982-MLA45599687016_042021-OO.webp',\r\n        'https://http2.mlstatic.com/D_NQ_843709-MLA45630710225_042021-OO.webp',\r\n        'https://http2.mlstatic.com/D_NQ_797135-MLA45643423773_042021-OO.webp',\r\n        'https://http2.mlstatic.com/D_NQ_953329-MLA45598416456_042021-OO.webp',\r\n      ]\r\n    : [\r\n        'https://http2.mlstatic.com/D_NQ_970780-MLA45598416468_042021-OO.webp',\r\n        'https://http2.mlstatic.com/D_NQ_601816-MLA45598361317_042021-OO.webp',\r\n        'https://http2.mlstatic.com/D_NQ_606224-MLA45599436546_042021-OO.webp',\r\n        'https://http2.mlstatic.com/D_NQ_736003-MLA45630645358_042021-OO.webp',\r\n        'https://http2.mlstatic.com/D_NQ_644199-MLA45643429697_042021-OO.webp',\r\n        'https://http2.mlstatic.com/D_NQ_970780-MLA45598416468_042021-OO.webp',\r\n        'https://http2.mlstatic.com/D_NQ_601816-MLA45598361317_042021-OO.webp',\r\n      ];\r\n  useEffect(() => {\r\n    for (let i = 1; i < items.length - 1; i++) {\r\n      setTimeout(() => {\r\n        document.querySelector('.card-next-button') &&\r\n          document.querySelector('.card-next-button').click();\r\n      }, 5000 * i);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const exhibitorContainerRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (exhibitorContainerRef.current && !desktopScreenCondition) {\r\n      let initialPosition = null;\r\n      let moving = false;\r\n      let transform = 0;\r\n      let diff = 0;\r\n      const getStartPosition = (e) => {\r\n        if (e.target.className === 'exhibitor-img') {\r\n          initialPosition = e.pageX;\r\n          moving = true;\r\n          const transformMatrix =\r\n            exhibitorRef.current &&\r\n            window\r\n              .getComputedStyle(exhibitorRef.current)\r\n              .getPropertyValue('transform');\r\n          if (transformMatrix !== 'none') {\r\n            transform = transformMatrix\r\n              ? parseInt(transformMatrix.split(',')[4].trim())\r\n              : 0;\r\n          }\r\n        }\r\n      };\r\n      const getCurrentPoition = (e) => {\r\n        if (moving && !disableScroll) {\r\n          const currentPosition = e.pageX;\r\n          diff = transform + (currentPosition - initialPosition);\r\n          exhibitorRef.current.style.transform = 'translateX(' + diff + 'px)';\r\n          if (\r\n            currentPosition - initialPosition >=\r\n              (window.innerWidth < moveExhibitorQuantity\r\n                ? window.innerWidth\r\n                : moveExhibitorQuantity) -\r\n                10 ||\r\n            currentPosition - initialPosition <=\r\n              -(window.innerWidth < moveExhibitorQuantity\r\n                ? window.innerWidth\r\n                : moveExhibitorQuantity) +\r\n                10\r\n          ) {\r\n            getMouseUp();\r\n          }\r\n        }\r\n      };\r\n      const getMouseUp = () => {\r\n        moving = false;\r\n        if (\r\n          diff %\r\n            (window.innerWidth < moveExhibitorQuantity\r\n              ? window.innerWidth\r\n              : moveExhibitorQuantity) !==\r\n          0\r\n        ) {\r\n          const newTransformValue =\r\n            Math.round(\r\n              (diff < transform\r\n                ? diff -\r\n                  0.3 *\r\n                    (window.innerWidth < moveExhibitorQuantity\r\n                      ? window.innerWidth\r\n                      : moveExhibitorQuantity)\r\n                : diff +\r\n                  0.3 *\r\n                    (window.innerWidth < moveExhibitorQuantity\r\n                      ? window.innerWidth\r\n                      : moveExhibitorQuantity)) /\r\n                (window.innerWidth < moveExhibitorQuantity\r\n                  ? window.innerWidth\r\n                  : moveExhibitorQuantity)\r\n            ) *\r\n            (window.innerWidth < moveExhibitorQuantity\r\n              ? window.innerWidth\r\n              : moveExhibitorQuantity);\r\n          exhibitorRef.current.style.transition = '0.5s';\r\n          exhibitorRef.current.style.transform =\r\n            'translateX(' + newTransformValue + 'px)';\r\n          setIndex(index + (diff < transform ? +1 : -1));\r\n          setDisableScroll(true);\r\n        }\r\n      };\r\n      if (window.PointerEvent) {\r\n        window.addEventListener('pointerdown', getStartPosition);\r\n        window.addEventListener('pointermove', getCurrentPoition);\r\n        window.addEventListener('pointerup', getMouseUp);\r\n      } else {\r\n        window.addEventListener('touchdown', getStartPosition);\r\n        window.addEventListener('touchmove', getCurrentPoition);\r\n        window.addEventListener('touchup', getMouseUp);\r\n      }\r\n\r\n      return () => {\r\n        if (window.PointerEvent) {\r\n          window.removeEventListener('pointerdown', getStartPosition);\r\n          window.removeEventListener('pointermove', getCurrentPoition);\r\n          window.removeEventListener('pointerup', getMouseUp);\r\n        } else {\r\n          window.removeEventListener('touchdown', getStartPosition);\r\n          window.removeEventListener('touchmove', getCurrentPoition);\r\n          window.removeEventListener('touchup', getMouseUp);\r\n        }\r\n      };\r\n    }\r\n    // eslint-disable-next-line\r\n  });\r\n\r\n  useEffect(() => {\r\n    const updateExhibitorDimensions = () => {\r\n      setDisableBtns(true);\r\n      exhibitorRef.current.style.transform =\r\n        'translateX(' +\r\n        index *\r\n          -(window.innerWidth < moveExhibitorQuantity\r\n            ? window.innerWidth\r\n            : moveExhibitorQuantity) +\r\n        'px)';\r\n      setDisableBtns(false);\r\n    };\r\n\r\n    window.addEventListener('resize', updateExhibitorDimensions);\r\n\r\n    return () =>\r\n      window.removeEventListener('resize', updateExhibitorDimensions);\r\n  }, [index, moveExhibitorQuantity]);\r\n  const renderSlickDots = () => {\r\n    const dots = [];\r\n    for (let i = 1; i < items.length - 1; i++) {\r\n      dots.push(\r\n        <li\r\n          key={i}\r\n          className={\r\n            index === i ||\r\n            (index === 0 && i === items.length - 2) ||\r\n            (index === items.length - 1 && i === 1)\r\n              ? 'slick-active'\r\n              : ''\r\n          }\r\n        >\r\n          <button\r\n            onClick={() => {\r\n              if (!disableBtns) {\r\n                setDisableBtns(true);\r\n                exhibitorRef.current.style.transition = '0.5s';\r\n                exhibitorRef.current.style.transform =\r\n                  'translateX(' +\r\n                  -(window.innerWidth < moveExhibitorQuantity\r\n                    ? window.innerWidth\r\n                    : moveExhibitorQuantity) *\r\n                    i +\r\n                  'px)';\r\n                setIndex(i);\r\n                setDisableBtns(false);\r\n              }\r\n            }}\r\n          />\r\n        </li>\r\n      );\r\n    }\r\n    return dots;\r\n  };\r\n  return (\r\n    <div className='exhibitor-container' ref={exhibitorContainerRef}>\r\n      {desktopScreenCondition && (\r\n        <button\r\n          disabled={disableBtns}\r\n          onClick={() => {\r\n            setDisableBtns(true);\r\n            exhibitorRef.current.style.transition = '0.5s';\r\n            exhibitorRef.current.style.transform =\r\n              'translateX(' +\r\n              (index - 1) *\r\n                -(window.innerWidth < moveExhibitorQuantity\r\n                  ? window.innerWidth\r\n                  : moveExhibitorQuantity) +\r\n              'px)';\r\n            setIndex(index - 1);\r\n          }}\r\n          className='card-back-button exhibitor'\r\n        ></button>\r\n      )}\r\n      <div\r\n        className='fit-content row home-screen-exhibitor'\r\n        style={{\r\n          transform:\r\n            'translateX(' +\r\n            -(window.innerWidth < moveExhibitorQuantity\r\n              ? window.innerWidth\r\n              : moveExhibitorQuantity) +\r\n            'px)',\r\n        }}\r\n        onTransitionEnd={() => {\r\n          exhibitorRef.current.style.transition = 'none';\r\n          if (index === 0) {\r\n            exhibitorRef.current.style.transform =\r\n              'translateX(' +\r\n              (items.length - 2) *\r\n                -(window.innerWidth < moveExhibitorQuantity\r\n                  ? window.innerWidth\r\n                  : moveExhibitorQuantity) +\r\n              'px)';\r\n            setIndex(items.length - 2);\r\n          } else if (index === items.length - 1) {\r\n            exhibitorRef.current.style.transform =\r\n              'translateX(' +\r\n              -(window.innerWidth < moveExhibitorQuantity\r\n                ? window.innerWidth\r\n                : moveExhibitorQuantity) +\r\n              'px)';\r\n            setIndex(1);\r\n          }\r\n          setDisableBtns(false);\r\n          setDisableScroll(false);\r\n        }}\r\n        ref={exhibitorRef}\r\n      >\r\n        {items.map((item, i) => (\r\n          <div className='home-item' key={i}>\r\n            <img src={item} alt='item' className='exhibitor-img'></img>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {desktopScreenCondition && (\r\n        <>\r\n          <button\r\n            disabled={disableBtns}\r\n            onClick={() => {\r\n              setDisableBtns(true);\r\n              exhibitorRef.current.style.transition = '0.5s';\r\n              exhibitorRef.current.style.transform =\r\n                'translateX(' +\r\n                (index + 1) *\r\n                  -(window.innerWidth < moveExhibitorQuantity\r\n                    ? window.innerWidth\r\n                    : moveExhibitorQuantity) +\r\n                'px)';\r\n              setIndex(index + 1);\r\n            }}\r\n            className='card-next-button exhibitor'\r\n          ></button>\r\n          <ul className='slick-dots'>{renderSlickDots()}</ul>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomeScreenExhibitor;\r\n","import React from 'react';\r\n\r\nconst Rating = ({ rating, numReviews, small }) => {\r\n  return (\r\n    <div className='rating'>\r\n      {numReviews > 0 && (\r\n        <>\r\n          <span key={0}>\r\n            <i\r\n              className={\r\n                rating >= 1\r\n                  ? 'fas fa-star'\r\n                  : rating >= 0.5\r\n                  ? 'fas fa-star-half-alt'\r\n                  : 'far fa-star'\r\n              }\r\n            ></i>\r\n          </span>\r\n          <span key={1}>\r\n            <i\r\n              className={\r\n                rating >= 2\r\n                  ? 'fas fa-star'\r\n                  : rating >= 1.5\r\n                  ? 'fas fa-star-half-alt'\r\n                  : 'far fa-star'\r\n              }\r\n            ></i>\r\n          </span>\r\n          <span key={2}>\r\n            <i\r\n              className={\r\n                rating >= 3\r\n                  ? 'fas fa-star'\r\n                  : rating >= 2.5\r\n                  ? 'fas fa-star-half-alt'\r\n                  : 'far fa-star'\r\n              }\r\n            ></i>\r\n          </span>\r\n          <span key={3}>\r\n            <i\r\n              className={\r\n                rating >= 4\r\n                  ? 'fas fa-star'\r\n                  : rating >= 3.5\r\n                  ? 'fas fa-star-half-alt'\r\n                  : 'far fa-star'\r\n              }\r\n            ></i>\r\n          </span>\r\n          <span key={4}>\r\n            <i\r\n              className={\r\n                rating >= 5\r\n                  ? 'fas fa-star'\r\n                  : rating >= 4.5\r\n                  ? 'fas fa-star-half-alt'\r\n                  : 'far fa-star'\r\n              }\r\n            ></i>\r\n          </span>\r\n        </>\r\n      )}\r\n      <span key={0} className={small ? 'subtle-text' : ''}>\r\n        {numReviews +\r\n          (!small &&\r\n            (numReviews > 1 || numReviews === 0 ? ' opiniones' : ' opinion'))}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rating;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { updateHistory, updateUserFavorites } from '../Actions/userActions';\r\nimport { formatNumber } from '../Utils/Utilities';\r\nimport Rating from './Rating';\r\n\r\nconst Product = ({\r\n  product,\r\n  user,\r\n  noHover,\r\n  smallRating,\r\n  removeBtn,\r\n  setItemDeleting,\r\n}) => {\r\n  const { _id, name, cover, price, reviews } = product;\r\n  let productTotalRating = 0;\r\n  let numReviews = 0;\r\n  reviews.forEach((review) => {\r\n    productTotalRating += review.rating;\r\n    numReviews++;\r\n  });\r\n  const rating = productTotalRating / numReviews;\r\n  const userUpdateFavs = useSelector((state) => state.userUpdateFavs);\r\n  const { error, loading: loadingUpdateFavs } = userUpdateFavs;\r\n  const dispatch = useDispatch();\r\n  const [changeHeart, setChangeHeart] = useState(\r\n    user &&\r\n      user.userData &&\r\n      user.userData.favorites &&\r\n      user.userData.favorites.find((fav) => fav === _id)\r\n      ? true\r\n      : false\r\n  );\r\n  useEffect(() => {\r\n    if (\r\n      user &&\r\n      user.userData &&\r\n      user.userData.favorites &&\r\n      user.userData.favorites.filter((fav) => fav === _id).length === 1\r\n    ) {\r\n      setChangeHeart(true);\r\n    } else {\r\n      setChangeHeart(false);\r\n    }\r\n    if (error) {\r\n      setChangeHeart(false);\r\n    }\r\n  }, [user, _id, error]);\r\n  return (\r\n    <div className={'card' + (noHover ? ' opened' : '')} key={_id}>\r\n      <div className='favorite-btn'>\r\n        <a\r\n          href={'/login?loginType=favorito&item_id=' + _id}\r\n          onClick={(e) => {\r\n            if (user) {\r\n              e.preventDefault();\r\n              if (!loadingUpdateFavs) {\r\n                dispatch(updateUserFavorites({ _id: _id, noDelete: false }));\r\n                setChangeHeart(!changeHeart);\r\n              }\r\n            }\r\n          }}\r\n        >\r\n          {user ? (\r\n            changeHeart ? (\r\n              <i className='fas fa-heart'></i>\r\n            ) : (\r\n              <i className='far fa-heart'></i>\r\n            )\r\n          ) : (\r\n            <i className='far fa-heart'></i>\r\n          )}\r\n        </a>\r\n      </div>\r\n      <Link className='nodecoration card-link' key={_id} to={'/product/' + _id}>\r\n        <img className='card-img center-cropped' src={cover} alt={name} />\r\n        <div className='card-body'>\r\n          <div className='row top card-price'>\r\n            <div className='price'>$ {formatNumber(price)}</div>\r\n          </div>\r\n          <div className='name-module'>\r\n            <p className='product-name'>{name}</p>\r\n          </div>\r\n          {noHover && numReviews > 0 && (\r\n            <Rating\r\n              rating={rating && rating}\r\n              numReviews={numReviews && numReviews}\r\n              small={smallRating}\r\n            ></Rating>\r\n          )}\r\n        </div>\r\n      </Link>\r\n      {removeBtn && (\r\n        <button\r\n          className='anchor-lookalike'\r\n          onClick={() => {\r\n            dispatch(updateHistory(_id, 'remove'));\r\n            setItemDeleting(_id);\r\n          }}\r\n        >\r\n          Eliminar\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listProducts } from '../Actions/productActions';\r\nimport CategorieCards from '../Components/CategorieCards';\r\nimport HomeScreenExhibitor from '../Components/HomeScreenExhibitor';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport Product from '../Components/Product';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\n\r\nconst HomeScreen = (props) => {\r\n  const dispatch = useDispatch();\r\n  const productList = useSelector((state) => state.productList);\r\n  const { loading, error, products } = productList;\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user } = userLogin;\r\n  const [ammountToMoveProductList, setammountToMoveProductList] = useState(0);\r\n  const [productListContainerWidth, setProductListContainerWidth] = useState(\r\n    desktopScreenCondition ? Math.floor(window.innerWidth / 240) * 240 : '100%'\r\n  );\r\n  useEffect(() => {\r\n    dispatch(listProducts());\r\n  }, [dispatch]);\r\n  useEffect(() => {\r\n    const updateProductListContainerWidth = () => {\r\n      if (desktopScreenCondition) {\r\n        setProductListContainerWidth(Math.floor(window.innerWidth / 240) * 240);\r\n      } else {\r\n        setProductListContainerWidth('100%');\r\n      }\r\n    };\r\n    window.addEventListener('resize', updateProductListContainerWidth);\r\n    return () =>\r\n      window.removeEventListener('resize', updateProductListContainerWidth);\r\n  }, []);\r\n  useEffect(() => {\r\n    if (\r\n      document.getElementById('product-cards') &&\r\n      document.getElementById('product-cards').offsetWidth <\r\n        ammountToMoveProductList +\r\n          (window.screen.width / devicePixelRatio) * 0.9375\r\n    ) {\r\n      document.getElementById('card-next-button').style.display = 'none';\r\n    } else if (document.getElementById('card-next-button')) {\r\n      document.getElementById('card-next-button').style.display = 'block';\r\n    }\r\n  }, [ammountToMoveProductList]);\r\n\r\n  const moveList = (moveTo) => {\r\n    if (moveTo === 'forward') {\r\n      setammountToMoveProductList(\r\n        ammountToMoveProductList + 1200 * devicePixelRatio\r\n      );\r\n    } else {\r\n      setammountToMoveProductList(\r\n        ammountToMoveProductList - 1200 * devicePixelRatio\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className='column flex-center'\r\n      style={{\r\n        overflow: 'hidden',\r\n        width: desktopScreenCondition ? 'calc(100vw - 1.7rem)' : '100%',\r\n      }}\r\n    >\r\n      <HomeScreenExhibitor />\r\n      {error ? (\r\n        <MessageBox variant='danger'>{error}</MessageBox>\r\n      ) : (\r\n        <div\r\n          className='product-list-container'\r\n          style={{\r\n            width: productListContainerWidth,\r\n          }}\r\n        >\r\n          {loading ? (\r\n            <LoadingCircle color='blue' />\r\n          ) : (\r\n            <div className='relative'>\r\n              {desktopScreenCondition && ammountToMoveProductList > 0 && (\r\n                <button\r\n                  className='card-back-button'\r\n                  onClick={() => moveList('backwards')}\r\n                ></button>\r\n              )}\r\n              <div\r\n                className='flex-center relative'\r\n                style={{\r\n                  width: desktopScreenCondition ? '120rem' : '100vw',\r\n                }}\r\n              >\r\n                <div className='product-list'>\r\n                  <h1>Productos</h1>\r\n                  <div\r\n                    className='row top product-cards'\r\n                    id='product-cards'\r\n                    style={{\r\n                      transform:\r\n                        'translate3d(' +\r\n                        -ammountToMoveProductList +\r\n                        'px, 0px, 0px)',\r\n                    }}\r\n                  >\r\n                    {products\r\n                      .filter((product, i) => {\r\n                        return i < 5;\r\n                      })\r\n                      .map((product) => (\r\n                        <>\r\n                          <Product\r\n                            key={product._id}\r\n                            product={product}\r\n                            user={user && user}\r\n                          />\r\n                        </>\r\n                      ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {desktopScreenCondition && (\r\n                <button\r\n                  id='card-next-button'\r\n                  className='card-next-button'\r\n                  onClick={() => moveList('forward')}\r\n                ></button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n      <CategorieCards />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomeScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { checkUserName } from '../Actions/userActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\n\r\nconst LoginScreen = (props) => {\r\n  const userCheckName = useSelector((state) => state.userCheckName);\r\n  const { error, user, success, loading } = userCheckName;\r\n  const [loginInfo, setLoginInfo] = useState(\r\n    user &&\r\n      (user.name\r\n        ? user.name\r\n        : user.email\r\n        ? user.email\r\n        : user.telephone\r\n        ? user.telephone\r\n        : '')\r\n  );\r\n  const [localError, setLocalError] = useState('');\r\n  const [buttonClicked, setButtonClicked] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      setLocalError(error);\r\n    }\r\n  }, [error]);\r\n  useEffect(() => {\r\n    if (success) {\r\n      const urlParams = new URLSearchParams(props.location.search);\r\n      const loginType = urlParams.get('loginType');\r\n      if (loginType) {\r\n        if (loginType === 'favorito') {\r\n          window.location.href =\r\n            '/login/enterpass?loginType=favorito&item_id=' +\r\n            props.location.search.split('item_id=')[1];\r\n        } else {\r\n          window.location.href = '/login/enterpass?loginType=' + loginType;\r\n        }\r\n      } else {\r\n        window.location.href = '/login/enterpass';\r\n      }\r\n      dispatch({ type: 'USER_LOGIN_RESET' });\r\n      dispatch({ type: 'USER_CHECKNAME_RESET_SUCCESS' });\r\n    }\r\n  }, [success, props, dispatch]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (buttonClicked === 'continue') {\r\n      if (loginInfo && loginInfo.trim()) {\r\n        dispatch(checkUserName(loginInfo));\r\n      } else {\r\n        setLocalError('Complet este dato');\r\n      }\r\n    } else if (buttonClicked === 'register') {\r\n      const urlParams = new URLSearchParams(props.location.search);\r\n      const loginType = urlParams.get('loginType');\r\n      if (loginType) {\r\n        if (loginType === 'favorito') {\r\n          window.location.href =\r\n            '/register?loginType=favorito&item_id=' +\r\n            props.location.search.split('item_id=')[1];\r\n        } else {\r\n          window.location.href = '/register?loginType=' + loginType;\r\n        }\r\n      } else {\r\n        window.location.href = '/register';\r\n      }\r\n      dispatch({ type: 'USER_LOGIN_RESET' });\r\n      dispatch({ type: 'USER_CHECKNAME_RESET_SUCCESS' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      <div className='extra-header'></div>\r\n      <form onSubmit={submitHandler} className='screen-card login-screen'>\r\n        <h1>Hola! Ingres tu telfono, e-mail o usuario</h1>\r\n        <div className='wrapper login'>\r\n          <div className='underline-label-input'>\r\n            <input\r\n              id='login'\r\n              type='text'\r\n              value={loginInfo ? loginInfo : ''}\r\n              onChange={(e) => {\r\n                setLoginInfo(e.target.value);\r\n                setLocalError('');\r\n              }}\r\n              onKeyDown={(e) => {\r\n                if (e.keyCode === 13) {\r\n                  if (loginInfo.trim()) {\r\n                    dispatch(checkUserName(loginInfo));\r\n                  } else {\r\n                    setLocalError('Complet este dato');\r\n                  }\r\n                }\r\n              }}\r\n              className={localError ? 'error' : ''}\r\n              autoFocus\r\n            ></input>\r\n            <div className={'underline' + (localError ? ' error' : '')}></div>\r\n            <label>Telfono, e-mail o usuario</label>\r\n            <span className={localError ? ' error' : ' noerror'}>\r\n              {localError && localError}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <button\r\n            type='submit'\r\n            className={'primary block' + (loading ? ' loading-padding' : '')}\r\n            onClick={() => {\r\n              setButtonClicked('continue');\r\n            }}\r\n            disabled={loading}\r\n          >\r\n            {loading ? <LoadingCircle color='blue' /> : 'Continuar'}\r\n          </button>\r\n          <button\r\n            type='submit'\r\n            className='secondary block'\r\n            onClick={() => setButtonClicked('register')}\r\n          >\r\n            Crear cuenta\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginScreen;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport {\r\n  detailsProduct,\r\n  addQuestionProduct,\r\n  answerQuestionProduct,\r\n} from '../Actions/productActions';\r\nimport Rating from '../Components/Rating';\r\nimport { desktopScreenCondition, formatNumber } from '../Utils/Utilities';\r\nimport {\r\n  detailsUser,\r\n  updateCart,\r\n  updateHistory,\r\n  updateUserFavorites,\r\n} from '../Actions/userActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\n\r\nconst ProductScreen = (props) => {\r\n  const dispatch = useDispatch();\r\n  const productId = props.match.params.id;\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { loading, error, product } = productDetails;\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const { user: detailsOfUser } = userDetails;\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user } = userLogin;\r\n  const productAddQuestion = useSelector((state) => state.productAddQuestion);\r\n  const {\r\n    product: productQuestionAdded,\r\n    loading: loadingAddQuestion,\r\n    error: errorAddingQuestion,\r\n  } = productAddQuestion;\r\n  const productAnswerQuestion = useSelector(\r\n    (state) => state.productAnswerQuestion\r\n  );\r\n  const {\r\n    product: productAnswerAdded,\r\n    loading: loadingAnswer,\r\n    error: errorAnswering,\r\n  } = productAnswerQuestion;\r\n  const cartUpdate = useSelector((state) => state.cartUpdate);\r\n  const {\r\n    success: addToCartSuccess,\r\n    loading: loadingAddToCart,\r\n    error: errorAddingToCart,\r\n  } = cartUpdate;\r\n  const userUpdateFavs = useSelector((state) => state.userUpdateFavs);\r\n  const { error: favError, loading: loadingUpdateFavs } = userUpdateFavs;\r\n  const [selectedImg, setSelectedImg] = useState(0);\r\n  const [videoSelected, setVideoSelected] = useState(false);\r\n  const [selectedQty, setSelectedQty] = useState(1);\r\n  const [qtyBtnClicked, setQtyBtnClicked] = useState(false);\r\n  const [moreThan6BtnClicked, setMoreThan6BtnClicked] = useState(false);\r\n  const [noStock, setNoStock] = useState(false);\r\n  const [moreQty, setMoreQty] = useState('');\r\n  const [changeHeart, setChangeHeart] = useState(\r\n    user &&\r\n      user.userData &&\r\n      user.userData.favorites &&\r\n      product &&\r\n      product._id &&\r\n      user.userData.favorites.find(\r\n        (fav) => fav.toString() === product._id.toString()\r\n      )\r\n      ? true\r\n      : false\r\n  );\r\n  const [carouselWidth, setCarouselWidth] = useState('');\r\n  const [historyUpdated, setHistoryUpdated] = useState(false);\r\n  const [newQuestion, setNewQuestion] = useState('');\r\n  const [disableQuestionBtn, setDisableQuestionBtn] = useState(false);\r\n  const [userQuestions, setUserQuestions] = useState([]);\r\n  const [otherQuestions, setOtherQuestions] = useState([]);\r\n  const [editingIndex, setEditingIndex] = useState(null);\r\n  const [productUnavaiable, setProductUnavaiable] = useState(false);\r\n  const [productUnavaiableTimeout, setProductUnavaiableTiemout] = useState(\r\n    false\r\n  );\r\n  const [productRating, setProductRating] = useState(null);\r\n  const [numReviews, setNumReviews] = useState(null);\r\n  const carouselContainerRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (product) {\r\n      let productTotalRating = 0;\r\n      let numReviews = 0;\r\n      product.reviews.forEach((review) => {\r\n        productTotalRating += review.rating;\r\n        numReviews++;\r\n      });\r\n      setProductRating(productTotalRating / numReviews);\r\n      setNumReviews(numReviews);\r\n    }\r\n  }, [product]);\r\n  useEffect(() => {\r\n    if (productUnavaiable) {\r\n      clearTimeout(productUnavaiableTimeout);\r\n      setProductUnavaiableTiemout(\r\n        setTimeout(() => {\r\n          setProductUnavaiable(false);\r\n        }, 10000)\r\n      );\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [productUnavaiable]);\r\n\r\n  useEffect(() => {\r\n    if (addToCartSuccess) {\r\n      window.location.href = '/carrito';\r\n      dispatch({ type: 'USER_CART_UPDATE_RESET' });\r\n    }\r\n  }, [addToCartSuccess, dispatch, user]);\r\n\r\n  useEffect(() => {\r\n    const productQuestion = localStorage.getItem('product-question')\r\n      ? JSON.parse(localStorage.getItem('product-question'))\r\n      : null;\r\n    if (productQuestion && user && product) {\r\n      if (user._id !== product.seller._id) {\r\n        setNewQuestion(productQuestion.question);\r\n        localStorage.removeItem('product-question');\r\n        document.querySelector('#new-question') &&\r\n          document.querySelector('#new-question').scrollIntoView();\r\n      } else {\r\n        localStorage.removeItem('product-question');\r\n      }\r\n    }\r\n  }, [product, user]);\r\n  useEffect(() => {\r\n    document.querySelector('#product-info') &&\r\n      console.log(document.querySelector('#product-info').clientWidth);\r\n    carouselContainerRef.current &&\r\n      product &&\r\n      setCarouselWidth(\r\n        ((product.images.length + (product.video ? 1 : 0)) *\r\n          (260 < document.querySelector('#product-info').clientWidth\r\n            ? 260\r\n            : document.querySelector('#product-info').clientWidth - 40)) /\r\n          10 +\r\n          'rem'\r\n      );\r\n  }, [product, carouselContainerRef]);\r\n  useEffect(() => {\r\n    if (carouselContainerRef.current && product) {\r\n      let initialPosition = null;\r\n      let moving = false;\r\n      let transform = 0;\r\n      let diff = 0;\r\n      const carouselLimit =\r\n        (product.images.length - (product.video ? 0 : 1)) *\r\n        -(260 < document.querySelector('#product-info').clientWidth\r\n          ? 260\r\n          : document.querySelector('#product-info').clientWidth - 40);\r\n      const getStartPosition = (e) => {\r\n        if (\r\n          e.target.className === 'center-cropped big' ||\r\n          'carousel-card' ||\r\n          'track row nowrap'\r\n        ) {\r\n          initialPosition = e.pageX;\r\n          moving = true;\r\n          const transformMatrix =\r\n            document.querySelector('.track') &&\r\n            window\r\n              .getComputedStyle(document.querySelector('.track'))\r\n              .getPropertyValue('transform');\r\n          if (transformMatrix !== 'none') {\r\n            transform = transformMatrix\r\n              ? parseInt(transformMatrix.split(',')[4].trim())\r\n              : 0;\r\n          }\r\n        }\r\n      };\r\n      const getCurrentPoition = (e) => {\r\n        if (moving && product) {\r\n          const currentPosition = e.pageX;\r\n          diff = transform + (currentPosition - initialPosition);\r\n          document.querySelector('.track').style.transform =\r\n            'translateX(' + diff + 'px)';\r\n        }\r\n      };\r\n      const getMouseUp = () => {\r\n        if (moving) {\r\n          moving = false;\r\n          if (diff < carouselLimit) {\r\n            document.querySelector('.track').style.transform =\r\n              'translateX(' + carouselLimit + 'px)';\r\n          } else if (diff > 0) {\r\n            document.querySelector('.track').style.transform =\r\n              'translateX(' + 0 + 'px)';\r\n          } else if (diff % carouselContainerRef.current.scrollWidth !== 0) {\r\n            document.querySelector('.track').style.transform =\r\n              'translateX(' +\r\n              Math.round(diff / carouselContainerRef.current.scrollWidth) *\r\n                carouselContainerRef.current.scrollWidth +\r\n              'px)';\r\n          }\r\n        }\r\n      };\r\n      if (window.PointerEvent) {\r\n        window.addEventListener('pointerdown', getStartPosition);\r\n        window.addEventListener('pointermove', getCurrentPoition);\r\n        window.addEventListener('pointerup', getMouseUp);\r\n      } else {\r\n        window.addEventListener('touchdown', getStartPosition);\r\n        window.addEventListener('touchmove', getCurrentPoition);\r\n        window.addEventListener('touchup', getMouseUp);\r\n      }\r\n\r\n      return () => {\r\n        if (window.PointerEvent) {\r\n          window.removeEventListener('pointerdown', getStartPosition);\r\n          window.removeEventListener('pointermove', getCurrentPoition);\r\n          window.removeEventListener('pointerup', getMouseUp);\r\n        } else {\r\n          window.removeEventListener('touchdown', getStartPosition);\r\n          window.removeEventListener('touchmove', getCurrentPoition);\r\n          window.removeEventListener('touchup', getMouseUp);\r\n        }\r\n      };\r\n    }\r\n    // eslint-disable-next-line\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch(detailsProduct(productId));\r\n  }, [dispatch, productId]);\r\n  useEffect(() => {\r\n    user && !historyUpdated && dispatch(detailsUser(user._id));\r\n  }, [user, historyUpdated, dispatch]);\r\n  useEffect(() => {\r\n    if (\r\n      product &&\r\n      detailsOfUser &&\r\n      detailsOfUser.updateHistory &&\r\n      !historyUpdated\r\n    ) {\r\n      if (\r\n        detailsOfUser.history.find(\r\n          (item) => item.toString() === product._id.toString()\r\n        )\r\n      ) {\r\n        dispatch(updateHistory(product._id, 'readd'));\r\n        setHistoryUpdated(true);\r\n      } else {\r\n        dispatch(updateHistory(product._id, 'add'));\r\n        setHistoryUpdated(true);\r\n      }\r\n    }\r\n  }, [product, dispatch, detailsOfUser, historyUpdated]);\r\n  useEffect(() => {\r\n    if (\r\n      user &&\r\n      product &&\r\n      product._id &&\r\n      user.userData.favorites.filter((fav) => fav === product._id).length === 1\r\n    ) {\r\n      setChangeHeart(true);\r\n    } else {\r\n      setChangeHeart(false);\r\n    }\r\n    if (favError) {\r\n      setChangeHeart(false);\r\n    }\r\n  }, [user, product, favError]);\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      const { current: wrap } = wrapperRef;\r\n      if (wrap && !wrap.contains(event.target) && qtyBtnClicked) {\r\n        setQtyBtnClicked(false);\r\n      }\r\n    };\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [qtyBtnClicked]);\r\n\r\n  useEffect(() => {\r\n    if (!loadingAnswer) {\r\n      setDisableQuestionBtn(false);\r\n      if (editingIndex || editingIndex === 0) {\r\n        document.querySelector('#answer-' + editingIndex).style.display =\r\n          'flex';\r\n        document.querySelector('#edit-answer-' + editingIndex).style.display =\r\n          'none';\r\n        setEditingIndex(null);\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [loadingAnswer]);\r\n\r\n  useEffect(() => {\r\n    !loadingAddQuestion && setNewQuestion('');\r\n  }, [loadingAddQuestion]);\r\n\r\n  const setQuestions = (product) => {\r\n    if (user) {\r\n      const temporaryUserQuestions = product.questions.filter(\r\n        (question) => question.whoAsked.toString() === user._id\r\n      );\r\n      if (temporaryUserQuestions && temporaryUserQuestions.length > 0) {\r\n        setUserQuestions(temporaryUserQuestions);\r\n      }\r\n      const temporaryOtherQuestions = product.questions.filter(\r\n        (question) => question.whoAsked.toString() !== user._id\r\n      );\r\n      if (temporaryOtherQuestions && temporaryOtherQuestions.length > 0) {\r\n        setOtherQuestions(temporaryOtherQuestions);\r\n      }\r\n    } else {\r\n      setOtherQuestions(product.questions);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    product && setQuestions(product);\r\n    // eslint-disable-next-line\r\n  }, [product]);\r\n  useEffect(() => {\r\n    productQuestionAdded && setQuestions(productQuestionAdded);\r\n    // eslint-disable-next-line\r\n  }, [productQuestionAdded]);\r\n  useEffect(() => {\r\n    productAnswerAdded && setQuestions(productAnswerAdded);\r\n    // eslint-disable-next-line\r\n  }, [productAnswerAdded]);\r\n\r\n  useEffect(() => {\r\n    if (!loadingAddQuestion) {\r\n      newQuestion.length > 10\r\n        ? setDisableQuestionBtn(false)\r\n        : setDisableQuestionBtn(true);\r\n    }\r\n  }, [newQuestion, loadingAddQuestion]);\r\n\r\n  const wrapperRef = useRef(null);\r\n\r\n  const qtyListDropdown = (stock) => {\r\n    const list = [];\r\n    for (let i = 1; i <= stock; i++) {\r\n      if (i <= 6)\r\n        list.push(\r\n          <li\r\n            key={i}\r\n            className={i === selectedQty ? 'current' : ''}\r\n            onClick={() => {\r\n              setSelectedQty(i);\r\n              setQtyBtnClicked(!qtyBtnClicked);\r\n              setMoreThan6BtnClicked(false);\r\n              setNoStock(false);\r\n              setMoreQty('');\r\n            }}\r\n          >\r\n            {i + (i === 1 ? ' unidad' : ' unidades')}\r\n          </li>\r\n        );\r\n      if (i === 7)\r\n        list.push(\r\n          <li\r\n            className={moreThan6BtnClicked ? 'last-item' : ''}\r\n            onClick={() => {\r\n              !moreThan6BtnClicked && setMoreThan6BtnClicked(true);\r\n            }}\r\n          >\r\n            <span className={moreThan6BtnClicked ? 'hidden' : ''}>\r\n              Ms de 6 unidades\r\n            </span>\r\n\r\n            <span\r\n              className={\r\n                'row relative' + (moreThan6BtnClicked ? '' : ' hidden')\r\n              }\r\n            >\r\n              <div className='wrapper width-100'>\r\n                <div className='underline-label-input quantity'>\r\n                  <input\r\n                    className={moreThan6BtnClicked ? '' : ' hidden'}\r\n                    id='qtynumber'\r\n                    type='number'\r\n                    min='1'\r\n                    maxLength='5'\r\n                    value={moreQty}\r\n                    onKeyDown={(e) => {\r\n                      setNoStock(false);\r\n                      if (\r\n                        e.keyCode === 189 ||\r\n                        (e.target.value === '' && e.keyCode === 48)\r\n                      )\r\n                        e.preventDefault();\r\n                      if (e.keyCode === 13) {\r\n                        if (moreQty && moreQty <= product.stock) {\r\n                          setSelectedQty(moreQty);\r\n                          setQtyBtnClicked(!qtyBtnClicked);\r\n                          setMoreThan6BtnClicked(false);\r\n                          setNoStock(false);\r\n                        } else {\r\n                          setNoStock(true);\r\n                        }\r\n                      }\r\n                    }}\r\n                    onChange={(e) => setMoreQty(e.target.value)}\r\n                  ></input>\r\n                  <div\r\n                    className={'underline' + (noStock ? ' error' : '')}\r\n                  ></div>\r\n                  <label>Cantidad</label>\r\n                  <span\r\n                    className={'reg-info-after' + (noStock ? ' error' : '')}\r\n                  >\r\n                    {noStock && 'Sin stock'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <button\r\n                type='button'\r\n                className='arrow-btn absolute-right-top'\r\n                onClick={() => {\r\n                  if (moreQty && moreQty <= product.stock) {\r\n                    setSelectedQty(moreQty);\r\n                    setQtyBtnClicked(!qtyBtnClicked);\r\n                    setMoreThan6BtnClicked(false);\r\n                    setNoStock(false);\r\n                  } else {\r\n                    setNoStock(true);\r\n                  }\r\n                }}\r\n              >\r\n                <i className='fa fa-caret-right'></i>\r\n              </button>\r\n            </span>\r\n          </li>\r\n        );\r\n    }\r\n    return list;\r\n  };\r\n\r\n  const renderQuestions = (type, questions) => {\r\n    return (\r\n      <div className={type === 'other' ? 'other-questions' : 'user-questions'}>\r\n        <h3>\r\n          {type === 'other'\r\n            ? 'ltimas realizadas'\r\n            : questions.length === 1\r\n            ? 'Tu pregunta'\r\n            : 'Tus preguntas'}\r\n        </h3>\r\n        <div className='width-100'>\r\n          <ul>\r\n            {questions.map((question, i) => {\r\n              const splittedDate = question.answerDate\r\n                ? question.answerDate.toString().split('-')\r\n                : null;\r\n              const day = splittedDate ? splittedDate[2].split('T')[0] : null;\r\n              const month = splittedDate ? splittedDate[1] : null;\r\n              const year = splittedDate ? splittedDate[0] : null;\r\n              const answerDate =\r\n                day && month && year ? day + '/' + month + '/' + year : null;\r\n              return (\r\n                <li className='product-question column' key={question._id}>\r\n                  <div className='question column'>\r\n                    <span>{question.question}</span>\r\n                    {!question.answer &&\r\n                      type === 'other' &&\r\n                      user &&\r\n                      user._id === product.seller._id && (\r\n                        <div className='answer-div'>\r\n                          <textarea\r\n                            id={'answer-' + i}\r\n                            maxLength='2000'\r\n                            type='text'\r\n                          ></textarea>\r\n                          <button\r\n                            className={\r\n                              'primary' + (loadingAnswer ? ' no-padding' : '')\r\n                            }\r\n                            disabled={loadingAnswer}\r\n                            onClick={() => {\r\n                              if (\r\n                                document.querySelector('#answer-' + i).value !==\r\n                                ''\r\n                              ) {\r\n                                dispatch(\r\n                                  answerQuestionProduct(\r\n                                    { _id: product._id, name: product.name },\r\n                                    {\r\n                                      _id: question._id,\r\n                                      answer: document.querySelector(\r\n                                        '#answer-' + i\r\n                                      ).value,\r\n                                      whoAsked: question.whoAsked,\r\n                                    },\r\n                                    false\r\n                                  )\r\n                                );\r\n                              }\r\n                            }}\r\n                          >\r\n                            {loadingAnswer ? (\r\n                              <LoadingCircle color='blue' />\r\n                            ) : (\r\n                              'Responder'\r\n                            )}\r\n                          </button>\r\n                          {errorAnswering && (\r\n                            <MessageBox variant='danger'>\r\n                              Ha ocurrido un problema respondiendo la pregunta\r\n                            </MessageBox>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                  </div>\r\n                  {question.answer && (\r\n                    <div className='question-answered'>\r\n                      <div id={'answer-' + i} className='column'>\r\n                        <div className='answer'>\r\n                          <img src='https://svgshare.com/i/Wv_.svg' alt='svg' />\r\n                          <p>\r\n                            {question.answer}{' '}\r\n                            {answerDate && <small>{' ' + answerDate}</small>}\r\n                          </p>\r\n                        </div>\r\n                        {user && user._id === product.seller._id && (\r\n                          <button\r\n                            className='anchor-lookalike'\r\n                            onClick={() => {\r\n                              document.querySelector(\r\n                                '#answer-' + i\r\n                              ).style.display = 'none';\r\n                              document.querySelector(\r\n                                '#edit-answer-' + i\r\n                              ).style.display = 'flex';\r\n                            }}\r\n                          >\r\n                            Editar respuesta\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                      {user && user._id === product.seller._id && (\r\n                        <div\r\n                          id={'edit-answer-' + i}\r\n                          className='answer-div'\r\n                          style={{ display: 'none' }}\r\n                        >\r\n                          <textarea\r\n                            id={'answer-edit-' + i}\r\n                            maxLength='2000'\r\n                            type='text'\r\n                            defaultValue={question.answer}\r\n                          ></textarea>\r\n                          <div className='row flex-start'>\r\n                            <button\r\n                              className='secondary margin-right'\r\n                              onClick={() => {\r\n                                document.querySelector(\r\n                                  '#answer-' + i\r\n                                ).style.display = 'flex';\r\n                                document.querySelector(\r\n                                  '#edit-answer-' + i\r\n                                ).style.display = 'none';\r\n                              }}\r\n                            >\r\n                              Cancelar\r\n                            </button>\r\n                            <button\r\n                              className={\r\n                                'primary' + (loadingAnswer ? ' no-padding' : '')\r\n                              }\r\n                              disabled={loadingAnswer}\r\n                              onClick={() => {\r\n                                if (\r\n                                  document.querySelector('#answer-edit-' + i)\r\n                                    .value !== ''\r\n                                ) {\r\n                                  dispatch(\r\n                                    answerQuestionProduct(\r\n                                      { _id: product._id },\r\n                                      {\r\n                                        _id: question._id,\r\n                                        answer: document.querySelector(\r\n                                          '#answer-edit-' + i\r\n                                        ).value,\r\n                                      },\r\n                                      true\r\n                                    )\r\n                                  );\r\n                                  setEditingIndex(i);\r\n                                }\r\n                              }}\r\n                            >\r\n                              {loadingAnswer ? (\r\n                                <LoadingCircle color='blue' />\r\n                              ) : (\r\n                                'Responder'\r\n                              )}\r\n                            </button>\r\n                          </div>\r\n                          {errorAnswering && (\r\n                            <MessageBox variant='danger'>\r\n                              Ha ocurrido un problema editando la pregunta\r\n                            </MessageBox>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      {loading ? (\r\n        <LoadingCircle color='blue' />\r\n      ) : error ? (\r\n        <MessageBox variant='danger'>{error}</MessageBox>\r\n      ) : (\r\n        product && (\r\n          <div className='screen product-screen'>\r\n            <div className='column'>\r\n              {!product.active ||\r\n                (product.finished && (\r\n                  <div className={'message-div orange'}>\r\n                    <div className='relative flex-center'>\r\n                      <p className='paragraph-with-icon bold'>\r\n                        <img\r\n                          src='https://svgshare.com/i/UQW.svg'\r\n                          alt='tip'\r\n                          className='absolute-left-top circle badge'\r\n                        />\r\n                        Publicacin{' '}\r\n                        {!product.active && !product.finished\r\n                          ? ' pausada'\r\n                          : ' finalizada'}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              <span>\r\n                {'| '}\r\n                <a href={'/productos?categoria=' + product.category._id}>\r\n                  {product.category.name}\r\n                </a>\r\n              </span>\r\n            </div>\r\n            <div className='column screen-card'>\r\n              <div className='top width-100 screen-segment first'>\r\n                {desktopScreenCondition && (\r\n                  <div className='row top product-col-1'>\r\n                    <div className='miniature-images column'>\r\n                      {product &&\r\n                        product.images &&\r\n                        product.images.map((img, i) => (\r\n                          <img\r\n                            key={i}\r\n                            className={\r\n                              'img miniature-selector' +\r\n                              (selectedImg === i ? ' selected' : '')\r\n                            }\r\n                            src={img}\r\n                            alt='Miniature preview'\r\n                            onMouseOver={() => {\r\n                              setVideoSelected(false);\r\n                              setSelectedImg(i);\r\n                            }}\r\n                          ></img>\r\n                        ))}\r\n                      {product.images.length < 8 && product.video && (\r\n                        <img\r\n                          key='video'\r\n                          className={\r\n                            'img miniature-selector' +\r\n                            (videoSelected ? ' selected' : '')\r\n                          }\r\n                          src='https://svgshare.com/i/WY_.svg'\r\n                          alt='Miniature preview'\r\n                          onMouseOver={() => {\r\n                            setSelectedImg(-1);\r\n                            setVideoSelected(true);\r\n                          }}\r\n                        ></img>\r\n                      )}\r\n                    </div>\r\n                    <div\r\n                      className='flex-center'\r\n                      style={{ width: '85%', height: '48rem' }}\r\n                    >\r\n                      {selectedImg >= 0 ? (\r\n                        <img\r\n                          className='product-image'\r\n                          src={\r\n                            product &&\r\n                            product.images &&\r\n                            product.images[selectedImg]\r\n                          }\r\n                          alt='Selected product'\r\n                        ></img>\r\n                      ) : (\r\n                        videoSelected && (\r\n                          <iframe\r\n                            className='margin-top'\r\n                            title='Video seleccionado'\r\n                            src={product.video}\r\n                            allow='autoplay; encrypted-media'\r\n                            frameBorder='0'\r\n                            height='380px'\r\n                            width='100%'\r\n                          ></iframe>\r\n                        )\r\n                      )}\r\n                    </div>\r\n                    <div className='column' style={{ maxWidth: '35rem' }}></div>\r\n                  </div>\r\n                )}\r\n                <div\r\n                  id='product-info'\r\n                  className='column top product-col-2 screen-mini-card'\r\n                >\r\n                  <div className='favorite-btn product-screen'>\r\n                    <a\r\n                      href={'/login?loginType=FAVORITE&item_id=' + product._id}\r\n                      onClick={(e) => {\r\n                        if (user) {\r\n                          e.preventDefault();\r\n                          if (!loadingUpdateFavs) {\r\n                            dispatch(\r\n                              updateUserFavorites({\r\n                                _id: product._id,\r\n                                noDelete: false,\r\n                              })\r\n                            );\r\n                            setChangeHeart(!changeHeart);\r\n                          }\r\n                        }\r\n                      }}\r\n                    >\r\n                      {user ? (\r\n                        changeHeart ? (\r\n                          <i className='fas fa-heart'></i>\r\n                        ) : (\r\n                          <i className='far fa-heart'></i>\r\n                        )\r\n                      ) : (\r\n                        <i className='far fa-heart'></i>\r\n                      )}\r\n                    </a>\r\n                  </div>\r\n                  <div>\r\n                    <span className='subtle-text'>\r\n                      {product.isStateNew && product.isStateNew\r\n                        ? 'Nuevo'\r\n                        : 'Usado'}\r\n                    </span>\r\n                  </div>\r\n                  <div>\r\n                    <h1 className='break' style={{ margin: '0' }}>\r\n                      {product.name && product.name}\r\n                    </h1>\r\n                  </div>\r\n                  <div>\r\n                    <Rating\r\n                      rating={productRating && productRating}\r\n                      numReviews={numReviews && numReviews}\r\n                    ></Rating>\r\n                  </div>\r\n                  {!desktopScreenCondition && (\r\n                    <div\r\n                      className='carousel-container width-100 margin-top'\r\n                      ref={carouselContainerRef}\r\n                    >\r\n                      <div className='carousel'>\r\n                        <div\r\n                          className='track row nowrap'\r\n                          style={{\r\n                            width: carouselWidth,\r\n                          }}\r\n                        >\r\n                          {product.images.map((img, i) => (\r\n                            <div className='carousel-card' key={i}>\r\n                              <img\r\n                                src={img}\r\n                                alt='product'\r\n                                className='center-cropped big'\r\n                                draggable='false'\r\n                              ></img>\r\n                            </div>\r\n                          ))}\r\n                          {product.video && (\r\n                            <div className='carousel-card'>\r\n                              <iframe\r\n                                className='margin-top'\r\n                                title='Video seleccionado'\r\n                                src={product.video}\r\n                                allow='autoplay; encrypted-media'\r\n                                frameBorder='0'\r\n                                height={15.8 * 10}\r\n                                width='100%'\r\n                              ></iframe>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  <div className='column'>\r\n                    <div className='row'>\r\n                      <span className='price big row'>\r\n                        $ {product.price && formatNumber(product.price)}{' '}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <span className='seller-link'>\r\n                      Vendido por {product.seller.userName}\r\n                    </span>\r\n                  </div>\r\n                  {(user\r\n                    ? product.seller._id.toString() !== user._id.toString()\r\n                    : true) &&\r\n                  product.active &&\r\n                  !product.finished ? (\r\n                    <>\r\n                      <div>\r\n                        {product.stock && product.stock === 0 ? (\r\n                          <MessageBox variant='danger'>\r\n                            Producto fuera de stock\r\n                          </MessageBox>\r\n                        ) : product.stock === 1 ? (\r\n                          <div>\r\n                            <h2>ltimo disponible!</h2>\r\n                          </div>\r\n                        ) : (\r\n                          <div>\r\n                            <h2>Stock disponible</h2>\r\n                            <span\r\n                              className='styled-dropdown width-100'\r\n                              ref={wrapperRef}\r\n                            >\r\n                              <button\r\n                                className='styled-dropdown-btn'\r\n                                onClick={() => {\r\n                                  setQtyBtnClicked(!qtyBtnClicked);\r\n                                }}\r\n                              >\r\n                                <span>{'Cantidad: '}</span>\r\n                                <span className='selected-qty'>\r\n                                  {selectedQty +\r\n                                    (selectedQty === 1\r\n                                      ? ' unidad'\r\n                                      : ' unidades')}\r\n                                </span>{' '}\r\n                                <span>\r\n                                  <i\r\n                                    className={\r\n                                      'fa fa-caret-down style-list-caret' +\r\n                                      (qtyBtnClicked ? ' selected' : '')\r\n                                    }\r\n                                  ></i>\r\n                                </span>\r\n                                <span\r\n                                  className='subtle-text'\r\n                                  style={{ fontWeight: '100' }}\r\n                                >\r\n                                  {' (' + product.stock + ' disponibles)'}\r\n                                </span>\r\n                              </button>\r\n                              <ul\r\n                                className={\r\n                                  'styled-list product-screen' +\r\n                                  (qtyBtnClicked ? ' active' : '')\r\n                                }\r\n                              >\r\n                                {product &&\r\n                                  product.stock &&\r\n                                  qtyListDropdown(product.stock).map(\r\n                                    (item) => item\r\n                                  )}\r\n                              </ul>\r\n                            </span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n\r\n                      <div className='column width-100'>\r\n                        <button\r\n                          className='primary block'\r\n                          onClick={() => {\r\n                            if (product.active && !product.finished) {\r\n                              window.location.href = '/checkout/shipping';\r\n                              localStorage.setItem(\r\n                                'localCheckout',\r\n                                JSON.stringify({\r\n                                  products: [\r\n                                    {\r\n                                      _id: product._id,\r\n                                      seller: product.seller,\r\n                                      price: product.price,\r\n                                      quantity: selectedQty,\r\n                                    },\r\n                                  ],\r\n                                  editingAddress: false,\r\n                                })\r\n                              );\r\n                            }\r\n                            if (!product.active || product.finished) {\r\n                              setProductUnavaiable(true);\r\n                            }\r\n                          }}\r\n                        >\r\n                          Comprar ahora\r\n                        </button>\r\n                        <button\r\n                          className='secondary block margin-top'\r\n                          onClick={() => {\r\n                            dispatch(\r\n                              updateCart(\r\n                                {\r\n                                  product: product._id,\r\n                                  quantity: selectedQty,\r\n                                },\r\n                                'add'\r\n                              )\r\n                            );\r\n                          }}\r\n                        >\r\n                          {loadingAddToCart ? (\r\n                            <LoadingCircle color='blue' />\r\n                          ) : (\r\n                            'Agregar al carrito'\r\n                          )}\r\n                        </button>\r\n                      </div>\r\n                    </>\r\n                  ) : user ? (\r\n                    product.seller._id.toString() !== user._id.toString()\r\n                  ) : (\r\n                    true && (\r\n                      <div className={'message-div orange'}>\r\n                        <div className='flex-center relative'>\r\n                          <p className='paragraph-with-icon bold'>\r\n                            <img\r\n                              src='https://svgshare.com/i/UQW.svg'\r\n                              alt='tip'\r\n                              className='absolute-left-top circle badge'\r\n                            />\r\n                            Publicacin\r\n                            {!product.active && !product.finished\r\n                              ? ' pausada'\r\n                              : ' finalizada'}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    )\r\n                  )}\r\n                  {errorAddingToCart && (\r\n                    <MessageBox variant='danger'>\r\n                      Hubo un problema aadiendo al carrito, intent de nuvo\r\n                    </MessageBox>\r\n                  )}\r\n                  {productUnavaiable && (\r\n                    <MessageBox block={true} variant='danger'>\r\n                      El producto no esta disponible\r\n                    </MessageBox>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className='screen-segment second'>\r\n                {product.description && (\r\n                  <div className='description'>\r\n                    <h1 style={{ fontSize: '2.4rem' }}>Descripcin</h1>\r\n                    <pre className='product-description width-100'>\r\n                      {product.description}\r\n                    </pre>\r\n                  </div>\r\n                )}\r\n                {(user && user._id === product.seller._id\r\n                  ? product.questions.length > 0\r\n                  : true) && (\r\n                  <div className='product-questions separator width-100'>\r\n                    <h1>Preguntas y respuestas</h1>\r\n                    {((user && product.seller._id !== user._id) || !user) && (\r\n                      <div className='column'>\r\n                        <h4>Preguntale a {product.seller.userName}</h4>\r\n                        <div className='row ask-div'>\r\n                          <textarea\r\n                            id='new-question'\r\n                            type='text'\r\n                            value={newQuestion}\r\n                            maxLength='2000'\r\n                            onChange={(e) => setNewQuestion(e.target.value)}\r\n                            placeholder='Escrib tu pregunta...'\r\n                          />\r\n                          <button\r\n                            disabled={disableQuestionBtn}\r\n                            className={\r\n                              'primary big-form' +\r\n                              (loadingAddQuestion ? ' no-padding' : '')\r\n                            }\r\n                            onClick={() => {\r\n                              if (user) {\r\n                                dispatch(\r\n                                  addQuestionProduct(product, {\r\n                                    whoAsked: user._id,\r\n                                    question: newQuestion,\r\n                                  })\r\n                                );\r\n                                setDisableQuestionBtn(true);\r\n                              } else {\r\n                                localStorage.setItem(\r\n                                  'product-question',\r\n                                  JSON.stringify({\r\n                                    _id: product._id,\r\n                                    question: newQuestion,\r\n                                  })\r\n                                );\r\n                                window.location.href =\r\n                                  '/login?loginType=product-question';\r\n                              }\r\n                            }}\r\n                          >\r\n                            {loadingAddQuestion ? (\r\n                              <LoadingCircle color='blue' />\r\n                            ) : (\r\n                              'Preguntar'\r\n                            )}\r\n                          </button>\r\n                        </div>\r\n                        {errorAddingQuestion && (\r\n                          <MessageBox variant='danger'>\r\n                            Ha ocurrido un error con tu pregunta\r\n                          </MessageBox>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                    <div className='column margin-top'>\r\n                      {userQuestions.length > 0 &&\r\n                        renderQuestions('user', userQuestions)}\r\n                      {otherQuestions.length > 0 &&\r\n                        renderQuestions('other', otherQuestions)}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductScreen;\r\n","// import axios from 'axios';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { userVerifyEmailExists } from '../Actions/userActions';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\n\r\nconst RegisterScreen = (props) => {\r\n  document.body.style.backgroundColor = '#f7f7f7';\r\n  const dispatch = useDispatch();\r\n  const userVerifyEmail = useSelector((state) => state.userVerifyEmail);\r\n  const { checkedEmail, success } = userVerifyEmail;\r\n  const cacheValues = localStorage.getItem('RegisterCacheValues')\r\n    ? JSON.parse(localStorage.getItem('RegisterCacheValues'))\r\n    : null;\r\n  const [name, setName] = useState(cacheValues ? cacheValues.name : '');\r\n  const [surname, setSurname] = useState(\r\n    cacheValues ? cacheValues.surname : ''\r\n  );\r\n  const [dni, setDni] = useState(cacheValues ? cacheValues.dni : '');\r\n  const [email, setEmail] = useState(cacheValues ? cacheValues.email : '');\r\n  const [password, setPassword] = useState('');\r\n  const [nameError, setNameError] = useState('Complet este campo');\r\n  const [surnameError, setSurnameError] = useState('Complet este campo');\r\n  const [dniError, setDniError] = useState('Complet este campo');\r\n  const [emailError, setEmailError] = useState('Complet este campo');\r\n  const [passwordError, setPasswordError] = useState(\r\n    'Us entre 6 y 20 caracteres.'\r\n  );\r\n  const [emailExistsScreen, setEmailExistsScreen] = useState(false);\r\n  const [isSubmited, setIsSubmited] = useState(false);\r\n  const [disableBtn, setDisableBtn] = useState(true);\r\n\r\n  const wrapperRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    localStorage.removeItem('hashCode');\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      const { current: wrap } = wrapperRef;\r\n      if (wrap && !wrap.contains(event.target) && emailExistsScreen) {\r\n        setEmailExistsScreen(false);\r\n        setDisableBtn(false);\r\n      }\r\n    };\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [emailExistsScreen]);\r\n\r\n  useEffect(() => {\r\n    if (checkedEmail && checkedEmail.exists === false && success) {\r\n      const urlParams = new URLSearchParams(props.location.search);\r\n      const loginType = urlParams.get('loginType');\r\n      if (loginType) {\r\n        if ('favorito') {\r\n          window.location.href =\r\n            '/email-validation?authType=register&loginType=favorito&item_id=' +\r\n            props.location.search.split('item_id=')[1];\r\n        } else {\r\n          window.location.href =\r\n            '/email-validation?authType=register&loginType=' + loginType;\r\n        }\r\n      } else {\r\n        window.location.href = '/email-validation?authType=register';\r\n      }\r\n      dispatch({ type: 'USER_VERIFYEMAILEXISTS_RESET_SUCCESS' });\r\n    } else if (checkedEmail && checkedEmail.exists === true && success) {\r\n      setEmailError('Este e-mail ya est en uso');\r\n      setEmailExistsScreen(true);\r\n      dispatch({ type: 'USER_VERIFYEMAILEXISTS_RESET_SUCCESS' });\r\n    }\r\n  }, [checkedEmail, props, dispatch, success]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\r\n      'RegisterCacheValues',\r\n      JSON.stringify({ name, surname, dni, email, password })\r\n    );\r\n  }, [name, surname, dni, email, password]);\r\n\r\n  useEffect(() => {\r\n    if (!(name && name.trim())) setNameError('Complet este campo');\r\n    else {\r\n      if (name.length < 2) setNameError('Ingres un mnimo de 2 caracteres.');\r\n      else if (/(.)\\1{3,}/.test(name))\r\n        setNameError('Evit ingresar caracteres repetidos.');\r\n      else setNameError('');\r\n    }\r\n  }, [name]);\r\n\r\n  useEffect(() => {\r\n    if (!(surname && surname.trim())) setSurnameError('Complet este campo');\r\n    else {\r\n      if (surname.length < 2)\r\n        setSurnameError('Ingres un mnimo de 2 caracteres.');\r\n      else if (/(.)\\1{3,}/.test(surname))\r\n        setSurnameError('Evit ingresar caracteres repetidos.');\r\n      else setSurnameError('');\r\n    }\r\n  }, [surname]);\r\n\r\n  useEffect(() => {\r\n    if (!dni) setDniError('Complet este campo');\r\n    else if (dni.length < 6) setDniError('Ingres un mnimo de 6 caracteres.');\r\n    else setDniError('');\r\n  }, [dni]);\r\n\r\n  useEffect(() => {\r\n    if (!(email && email.trim())) setEmailError('Complet este campo');\r\n    else {\r\n      if (\r\n        !/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(\r\n          email\r\n        )\r\n      ) {\r\n        setEmailError('Us el formato nombre@ejemplo.com');\r\n      } else setEmailError('');\r\n    }\r\n  }, [email]);\r\n\r\n  useEffect(() => {\r\n    if (password.length < 6) {\r\n      setPasswordError(\r\n        'Te faltan ' + (6 - password.length) + ' caracteres ms'\r\n      );\r\n      document.getElementById('check').style.opacity = 0;\r\n    } else if (/(.)\\1{3,}/.test(password)) {\r\n      setPasswordError('Evit ingresar caracteres repetidos.');\r\n      document.getElementById('check').style.opacity = 0;\r\n    } else {\r\n      setPasswordError('');\r\n      document.getElementById('check').style.opacity = 1;\r\n    }\r\n  }, [password]);\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const verifyEmail = async (email) => {\r\n      // try {\r\n      //   setDisableBtn(true);\r\n      //   const data = await axios.get(\r\n      //     'https://emailvalidation.abstractapi.com/v1/?api_key=' +\r\n      //       process.env.REACT_APP_EMAIL_VALIDATION_API_KEY +\r\n      //       '&email=' +\r\n      //       email\r\n      //   );\r\n      //   if (\r\n      //     data &&\r\n      //     data.data &&\r\n      //     data.data.deliverability &&\r\n      //     (data.data.deliverability === 'DELIVERABLE' ||\r\n      //       data.data.deliverability === 'UNKNOWN')\r\n      //   ) {\r\n      //     return true;\r\n      //   } else {\r\n      //     setDisableBtn(false);\r\n      //     return false;\r\n      //   }\r\n      // } catch (error) {\r\n      //   setDisableBtn(false);\r\n      //   setEmailError('Ha ocurrido un error, intenta nuevamente');\r\n      // }\r\n      // REACHED API QUOTA LIMIT FOR THE MONTH\r\n      return true;\r\n    };\r\n    setIsSubmited(true);\r\n    const verifyEmailResponse = await verifyEmail(email.trim());\r\n    if (!verifyEmailResponse) {\r\n      console.log(verifyEmailResponse);\r\n      if (verifyEmailResponse === undefined) {\r\n        setEmailError('Has hecho muchos intentos');\r\n      }\r\n      if (verifyEmailResponse !== undefined) {\r\n        setEmailError('Ingres un E-mail valido');\r\n      }\r\n    } else {\r\n      if (\r\n        !(nameError || surnameError || dniError || emailError || passwordError)\r\n      ) {\r\n        dispatch(userVerifyEmailExists(email));\r\n      } else {\r\n        setDisableBtn(false);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      {emailExistsScreen && (\r\n        <div className='message-screen'>\r\n          <div className='message-card screen-mini-card' ref={wrapperRef}>\r\n            <button\r\n              className='crossbtn'\r\n              onClick={() => {\r\n                setDisableBtn(false);\r\n                setEmailExistsScreen(false);\r\n              }}\r\n            >\r\n              <i className='fas fa-times'></i>\r\n            </button>\r\n            <h2>\r\n              {'Ya existe una cuenta con '}\r\n              <b>{email}</b>\r\n            </h2>\r\n            <div style={{ marginTop: '1.5rem' }}>\r\n              <button\r\n                className='primary block'\r\n                style={{ marginBottom: '1rem' }}\r\n                onClick={() => props.history.push('/login')}\r\n              >\r\n                Ingres a tu cuenta\r\n              </button>\r\n              <button\r\n                className='secondary block'\r\n                onClick={() => {\r\n                  setDisableBtn(false);\r\n                  setEmailExistsScreen(false);\r\n                  if (document.getElementById('email')) {\r\n                    document.getElementById('email').focus();\r\n                    document.getElementById('email').setSelectionRange(0, 0);\r\n                  }\r\n                }}\r\n              >\r\n                Usar otro e-mail\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className='big-form-block'>\r\n        <div className='register-header row'>\r\n          {' '}\r\n          <h1>Complet tus datos</h1>\r\n        </div>\r\n        <form onSubmit={submitHandler}>\r\n          <div className='screen-card big-form-screen'>\r\n            <div className='wrapper'>\r\n              <div className='underline-label-input big-form'>\r\n                <input\r\n                  className={isSubmited && nameError ? ' error' : ''}\r\n                  value={name}\r\n                  type='text'\r\n                  maxLength='20'\r\n                  onChange={(e) => {\r\n                    setName(e.target.value);\r\n                  }}\r\n                ></input>\r\n                <div\r\n                  className={\r\n                    'underline' + (isSubmited && nameError ? ' error' : '')\r\n                  }\r\n                ></div>\r\n                <label>Nombre</label>\r\n                <span\r\n                  className={\r\n                    'reg-info-after' + (isSubmited && nameError ? ' error' : '')\r\n                  }\r\n                >\r\n                  {isSubmited && nameError\r\n                    ? nameError\r\n                    : 'Ingresalo tal como figura en tu documento.'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className='wrapper'>\r\n              <div className='underline-label-input big-form'>\r\n                <input\r\n                  className={isSubmited && surnameError ? ' error' : ''}\r\n                  value={surname}\r\n                  type='text'\r\n                  maxLength='20'\r\n                  onChange={(e) => {\r\n                    setSurname(e.target.value);\r\n                  }}\r\n                ></input>\r\n                <div\r\n                  className={\r\n                    'underline' + (isSubmited && surnameError ? ' error' : '')\r\n                  }\r\n                ></div>\r\n                <label>Apellido</label>\r\n                <span\r\n                  className={\r\n                    'reg-info-after' +\r\n                    (isSubmited && surnameError ? ' error' : '')\r\n                  }\r\n                >\r\n                  {isSubmited && surnameError\r\n                    ? surnameError\r\n                    : 'Ingresalo tal como figura en tu documento.'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className='wrapper'>\r\n              <div className='underline-label-input big-form'>\r\n                <input\r\n                  className={isSubmited && dniError ? ' error' : ''}\r\n                  value={dni}\r\n                  type='number'\r\n                  onChange={(e) => {\r\n                    if (e.target.value.length <= 8) setDni(e.target.value);\r\n                  }}\r\n                  onKeyDown={(e) => e.keyCode === 190 && e.preventDefault()}\r\n                ></input>\r\n                <div\r\n                  className={\r\n                    'underline' + (isSubmited && dniError ? ' error' : '')\r\n                  }\r\n                ></div>\r\n                <label>DNI</label>\r\n                <span\r\n                  className={\r\n                    'reg-info-after' + (isSubmited && dniError ? ' error' : '')\r\n                  }\r\n                >\r\n                  {isSubmited && dniError ? dniError : ''}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className='wrapper'>\r\n              <div className='underline-label-input big-form'>\r\n                <input\r\n                  className={\r\n                    isSubmited && emailError && !emailExistsScreen\r\n                      ? ' error'\r\n                      : ''\r\n                  }\r\n                  value={email}\r\n                  id='email'\r\n                  type='text'\r\n                  maxLength='40'\r\n                  onChange={(e) => {\r\n                    setEmail(e.target.value);\r\n                  }}\r\n                ></input>\r\n                <div\r\n                  className={\r\n                    'underline' +\r\n                    (isSubmited && emailError && !emailExistsScreen\r\n                      ? ' error'\r\n                      : '')\r\n                  }\r\n                ></div>\r\n                <label>E-mail</label>\r\n                <span\r\n                  className={\r\n                    'reg-info-after' +\r\n                    (isSubmited && emailError && !emailExistsScreen\r\n                      ? ' error'\r\n                      : '')\r\n                  }\r\n                >\r\n                  {isSubmited && emailError\r\n                    ? emailError\r\n                    : 'Asegurate de tener acceso a este e-mail.'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className='wrapper'>\r\n              <div className='underline-label-input big-form'>\r\n                <input\r\n                  className={isSubmited && passwordError ? ' error' : ''}\r\n                  value={password}\r\n                  type='password'\r\n                  maxLength='20'\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                ></input>\r\n                <div\r\n                  className={\r\n                    'underline' + (isSubmited && passwordError ? ' error' : '')\r\n                  }\r\n                ></div>\r\n                <label>Clave</label>\r\n                <i\r\n                  className='fas fa-check fa-xs'\r\n                  id='check'\r\n                  style={{ opacity: '0' }}\r\n                ></i>\r\n                <i className='far fa-question-circle'></i>\r\n                <div className='reg-help subtle-text'>\r\n                  Tu clave debe tener entre 6 y 20 caracteres. No incluyas tu\r\n                  nombre, apellido o e-mail, ni caracteres idnticos\r\n                  consecutivos.\r\n                </div>\r\n                <span\r\n                  className={\r\n                    'reg-info-after' +\r\n                    (isSubmited && passwordError ? ' error' : '')\r\n                  }\r\n                >\r\n                  {passwordError}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className='margin-top'>\r\n              <label className='container'>\r\n                {' '}\r\n                Acepto los <a href='#Terminos'>Trminos y Condiciones</a> y\r\n                autorizo el uso de mis datos de acuerdo a la{' '}\r\n                <a href='#privacidad'>Declaracin de Privacidad</a>.\r\n                <input\r\n                  className={nameError ? ' error' : ''}\r\n                  type='checkbox'\r\n                  onChange={() => setDisableBtn(!disableBtn)}\r\n                />\r\n                <span className='checkmark'></span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div className={desktopScreenCondition ? 'margin-top' : ''}>\r\n            <button\r\n              type='submit'\r\n              className='primary big-form'\r\n              id='submitbtn'\r\n              disabled={disableBtn}\r\n            >\r\n              Continuar\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RegisterScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport emailjs from 'emailjs-com';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  loginUser,\r\n  registerUser,\r\n  updateUserFavorites,\r\n} from '../Actions/userActions';\r\nimport { generateRandomNumber } from '../Utils/Utilities';\r\nimport bcrypt from 'bcryptjs';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\n// import axios from 'axios';\r\n\r\nconst EmailValidationScreen = (props) => {\r\n  const dispatch = useDispatch();\r\n  const checkedEmail = localStorage.getItem('verifyEmail')\r\n    ? JSON.parse(localStorage.getItem('verifyEmail'))\r\n    : null;\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user, error, loading: loadingLogin } = userLogin;\r\n  const userRegister = useSelector((state) => state.userRegister);\r\n  const { error: errorRegistering, loading: loadingRegister } = userRegister;\r\n  const [localError, setLocalError] = useState('');\r\n  const [input, setInput] = useState(['', '', '', '', '', '']);\r\n  const [hashCode, setHashCode] = useState(\r\n    localStorage.getItem('hashCode')\r\n      ? JSON.parse(localStorage.getItem('hashCode'))\r\n      : null\r\n  );\r\n  const [authType, setAuthType] = useState('');\r\n  const [success, setSuccess] = useState(false);\r\n  const [codeError, setCodeError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    (error || errorRegistering) &&\r\n      setLocalError('Ha ocurrido un error con el registro');\r\n  }, [error, errorRegistering]);\r\n\r\n  useEffect(() => {\r\n    checkedEmail === null && setLocalError('Ha ocurrido un error');\r\n  }, [checkedEmail]);\r\n\r\n  useEffect(() => {\r\n    const urlParams = new URLSearchParams(props.location.search);\r\n    setAuthType(urlParams.get('authType'));\r\n  }, [props]);\r\n  useEffect(() => {\r\n    const loginTypeSwitch = () => {\r\n      const urlParams = new URLSearchParams(props.location.search);\r\n      switch (urlParams.get('loginType')) {\r\n        case 'favorito':\r\n          dispatch(\r\n            updateUserFavorites({\r\n              _id: props.location.search.split('item_id=')[1],\r\n              noDelete: true,\r\n            })\r\n          );\r\n          window.location.href = './';\r\n          break;\r\n        case 'vender':\r\n          window.location.href = '/vender';\r\n          break;\r\n        case 'new-address':\r\n          window.location.href = '/nueva-direccion';\r\n          break;\r\n        case 'product-question':\r\n          const productQuestion = localStorage.getItem('product-question')\r\n            ? JSON.parse(localStorage.getItem('product-question'))\r\n            : null;\r\n          if (productQuestion) {\r\n            window.location.href = '/product/' + productQuestion._id;\r\n          } else {\r\n            window.location.href = '/';\r\n          }\r\n          break;\r\n        default:\r\n          window.location.href = './';\r\n          break;\r\n      }\r\n    };\r\n    if (success) {\r\n      switch (authType) {\r\n        case 'register':\r\n          loginTypeSwitch();\r\n          break;\r\n        case 'changepsw':\r\n          localStorage.setItem(\r\n            'emailCodeValidated',\r\n            JSON.stringify({ validated: true })\r\n          );\r\n          window.location.href = '/cambiar-contrasena';\r\n          break;\r\n        default:\r\n          window.location.href = '/';\r\n          break;\r\n      }\r\n    }\r\n  }, [success, dispatch, props, authType]);\r\n\r\n  useEffect(() => {\r\n    if (!hashCode && checkedEmail) {\r\n      const sendEmail = async () => {\r\n        //   try {\r\n        //     const data = await axios.get(\r\n        //       'https://emailvalidation.abstractapi.com/v1/?api_key=' +\r\n        //         process.env.REACT_APP_EMAIL_VALIDATION_API_KEY +\r\n        //         '&email=' +\r\n        //         checkedEmail.email\r\n        //     );\r\n        //     if (\r\n        //       data &&\r\n        //       data.data &&\r\n        //       data.data.deliverability &&\r\n        //       (data.data.deliverability === 'DELIVERABLE' ||\r\n        //         data.data.deliverability === 'UNKNOWN')\r\n        //     ) {\r\n        try {\r\n          await emailjs.send(\r\n            'gmail',\r\n            'template_l9xup0q',\r\n            {\r\n              email: checkedEmail.email,\r\n              subject: 'Te enviamos el cdigo de seguridad',\r\n              title: 'Ingres a tu cuenta con tu cdigo de seguridad',\r\n              code: randomNumber,\r\n            },\r\n            'user_sr3l7H8k1UCzb3mvTFObR'\r\n          );\r\n        } catch (error) {\r\n          setLocalError('Parece que tu e-mail no esta disponible');\r\n        }\r\n        //   } else {\r\n        //     setLocalError('Parece que tu e-mail no esta disponible');\r\n        //   }\r\n        // } catch (error) {\r\n        //   console.log(error);\r\n        //   setLocalError('Ha ocurrido un error2');\r\n        // }\r\n      };\r\n      const randomNumber = generateRandomNumber(6);\r\n      const cacheHashCode = bcrypt.hashSync(randomNumber);\r\n      setHashCode(cacheHashCode);\r\n      localStorage.setItem('hashCode', JSON.stringify(cacheHashCode));\r\n      sendEmail();\r\n    }\r\n  }, [checkedEmail, hashCode]);\r\n\r\n  useEffect(() => {\r\n    user && authType && authType !== 'changepsw' && setSuccess(true);\r\n  }, [user, authType]);\r\n\r\n  const createOtpInputs = (error) => {\r\n    const ammount = 6;\r\n    const div = [];\r\n    for (let i = 0; i < ammount; i++) {\r\n      div.push(\r\n        <input\r\n          key={i}\r\n          id={'input' + i}\r\n          className={\r\n            'otp-input' +\r\n            (i === ammount - 1 ? ' no-space' : i === 2 ? ' big-space' : '') +\r\n            (error ? ' error' : '')\r\n          }\r\n          type='number'\r\n          value={input[i]}\r\n          onPaste={(e) => {\r\n            const filteredPasteValue = e.clipboardData\r\n              .getData('Text')\r\n              .replace(/\\D/g, '');\r\n            e.preventDefault();\r\n            if (\r\n              filteredPasteValue.length <= ammount - i &&\r\n              filteredPasteValue.length > 1\r\n            ) {\r\n              filteredPasteValue\r\n                .split('')\r\n                .map((value, j) =>\r\n                  setInput([\r\n                    ...input.slice(i, i + j),\r\n                    value,\r\n                    ...input.slice(i + j + 1),\r\n                  ])\r\n                );\r\n              setInput([\r\n                ...input.slice(0, i),\r\n                ...filteredPasteValue.split(''),\r\n                ...input.slice(filteredPasteValue.length + i),\r\n              ]);\r\n            }\r\n          }}\r\n          onChange={(e) => {\r\n            setCodeError(false);\r\n            if (e.target.value.length <= 1) {\r\n              setInput([\r\n                ...input.slice(0, i),\r\n                e.target.value,\r\n                ...input.slice(i + 1),\r\n              ]);\r\n            }\r\n            if (e.target.value.length === 1) {\r\n              if (document.getElementById('input' + (i + 1))) {\r\n                document.getElementById('input' + (i + 1)).focus();\r\n              }\r\n            }\r\n          }}\r\n          onKeyDown={(e) => {\r\n            if (e.keyCode === 8 && e.target.value.length === 0) {\r\n              if (document.getElementById('input' + (i - 1))) {\r\n                document.getElementById('input' + (i - 1)).focus();\r\n                setInput([...input.slice(0, i - 1), '', ...input.slice(i)]);\r\n              }\r\n            }\r\n            if (\r\n              e.keyCode !== 17 &&\r\n              e.keyCode !== 86 &&\r\n              e.keyCode !== 8 &&\r\n              e.keyCode !== 67 &&\r\n              /\\D/g.test(String.fromCharCode(e.keyCode))\r\n            )\r\n              e.preventDefault();\r\n          }}\r\n        ></input>\r\n      );\r\n    }\r\n    error && div.push(<span className='error'>Codigo incorrecto</span>);\r\n    return div;\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (bcrypt.compareSync(input.join(''), hashCode)) {\r\n      if (authType === 'register') {\r\n        if (checkedEmail.exists) {\r\n          dispatch(\r\n            loginUser({\r\n              _id: checkedEmail._id,\r\n              baseCode: '523bhf72y37n782cDFU1FN7NX',\r\n            })\r\n          );\r\n        } else {\r\n          const user = localStorage.getItem('RegisterCacheValues')\r\n            ? JSON.parse(localStorage.getItem('RegisterCacheValues'))\r\n            : null;\r\n          if (user) {\r\n            dispatch(registerUser(user));\r\n          } else {\r\n            alert(\r\n              'Ha ocurrido un error con los datos de registro, volviendo a la pagina de registro'\r\n            );\r\n            props.history.push('/register');\r\n          }\r\n        }\r\n      } else if (authType === 'changepsw') {\r\n        setSuccess(true);\r\n      }\r\n      localStorage.removeItem('hashCode');\r\n    } else {\r\n      setCodeError(true);\r\n    }\r\n  };\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      {localError ? (\r\n        <MessageBox variant='danger'>{localError}</MessageBox>\r\n      ) : (\r\n        <div className='width-100 flex-center'>\r\n          <div className='extra-header'></div>\r\n          <div className='screen flex-center email-validation-screen'>\r\n            <form onSubmit={submitHandler} className='screen-card login-screen'>\r\n              <div>\r\n                <h2>Ingres el cdigo que te enviamos por e-mail</h2>\r\n                {checkedEmail &&\r\n                  (checkedEmail.exist ? (\r\n                    <>\r\n                      <p style={{ fontSize: '1.4rem' }}>\r\n                        Te enviamos un cdigo a tu e-mail para que puedas\r\n                        ingresar a tu cuenta.\r\n                      </p>\r\n\r\n                      <div className='email-badge row top'>\r\n                        <i className='fa fa-user'></i>\r\n                        <p className='email-badge__user-name'>\r\n                          {checkedEmail.email}\r\n                        </p>\r\n                        <input type='hidden' name='email'>\r\n                          {checkedEmail.email}\r\n                        </input>\r\n                        <a\r\n                          href='/login'\r\n                          onClick={() =>\r\n                            localStorage.removeItem('userCheckNameInfo')\r\n                          }\r\n                        >\r\n                          <i\r\n                            className='fa fa-times'\r\n                            style={{ color: 'black' }}\r\n                          ></i>\r\n                        </a>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <p style={{ fontSize: '1.4rem' }}>\r\n                      {'Lo enviamos a '}\r\n                      <b>{checkedEmail.email}</b>\r\n                      {\r\n                        ' para confirmar que te pertenece. Si no lo encontrs revis tu carpeta de correo no deseado.'\r\n                      }\r\n                    </p>\r\n                  ))}\r\n              </div>\r\n              {checkedEmail && (\r\n                <div className='otp-inputs'>{createOtpInputs(codeError)}</div>\r\n              )}\r\n              <button\r\n                type='submit'\r\n                className={\r\n                  'primary block' +\r\n                  (loadingLogin || loadingRegister ? ' loading-padding' : '')\r\n                }\r\n                disabled={loadingLogin || loadingRegister}\r\n              >\r\n                {loadingLogin || loadingRegister ? (\r\n                  <LoadingCircle color='white' />\r\n                ) : checkedEmail.exists ? (\r\n                  'Verificar el cdigo'\r\n                ) : (\r\n                  'Continuar'\r\n                )}\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmailValidationScreen;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listCategories } from '../Actions/categoryActions';\r\nimport { detailsUser, updateProductDrafts } from '../Actions/userActions';\r\nimport { move } from 'move-position';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport {\r\n  addErrorToImageList,\r\n  desktopScreenCondition,\r\n  formatNumber,\r\n} from '../Utils/Utilities';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\n\r\nconst NewProductScreen = (props) => {\r\n  const urlParams = new URLSearchParams(props.location.search);\r\n  const categoryList = useSelector((state) => state.categoryList);\r\n  const { loading, error, categories } = categoryList;\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user } = userLogin;\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const {\r\n    error: detailsError,\r\n    user: details,\r\n    loading: loadingDetails,\r\n  } = userDetails;\r\n  const userUpdateProductDrafts = useSelector(\r\n    (state) => state.userUpdateProductDrafts\r\n  );\r\n  const {\r\n    loading: updateLoading,\r\n    error: updateError,\r\n    user: userUpdated,\r\n  } = userUpdateProductDrafts;\r\n  const draftId = urlParams.get('draft');\r\n  const [cacheValues, setCacheValues] = useState(null);\r\n  const [searchSell, setSearchSell] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState(null);\r\n  const [isStateNew, setIsStateNew] = useState(null);\r\n  const [images, setImages] = useState([]);\r\n  const [percentage, setPercentage] = useState(-1);\r\n  const [quantity, setQuantity] = useState(\r\n    cacheValues ? cacheValues.stock : ''\r\n  );\r\n  const [searchError, setSearchError] = useState(false);\r\n  const [imageError, setImageError] = useState('');\r\n  const [quantityError, setQuantityError] = useState('');\r\n  const [showHelpSign, setShowHelpSign] = useState(false);\r\n  const [showChangeCategorySign, setShowChangeCategorySign] = useState(false);\r\n  const wrapperRef = useRef(null);\r\n  const wrapperRefHelpSign = useRef(null);\r\n  const wrapperRefCategorySign = useRef(null);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      const { current: wrap } = wrapperRef;\r\n      if (wrap && !wrap.contains(event.target)) {\r\n        document.querySelector('.searchbar-sell').classList.remove('focused');\r\n      }\r\n    };\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    const handleClickOutsideHelpSign = (event) => {\r\n      const { current: wrapSign } = wrapperRefHelpSign;\r\n      if (wrapSign && !wrapSign.contains(event.target)) {\r\n        document.querySelector('#help-sign').classList.add('hidden');\r\n        setTimeout(() => {\r\n          setShowHelpSign(false);\r\n        }, 500);\r\n      }\r\n    };\r\n    document.addEventListener('mousedown', handleClickOutsideHelpSign);\r\n    const handleClickOutsideCategorySign = (event) => {\r\n      const { current: wrapSign } = wrapperRefCategorySign;\r\n      if (wrapSign && !wrapSign.contains(event.target)) {\r\n        document.querySelector('#change-category-cancelbtn').click();\r\n      }\r\n    };\r\n    document.addEventListener('mousedown', handleClickOutsideCategorySign);\r\n\r\n    const handleScroll = () => {\r\n      if (window.scrollY >= 160) {\r\n        if (document.querySelector('.new-product-steps'))\r\n          document.querySelector('.new-product-steps').style.transform =\r\n            'translateY(5.5rem)';\r\n      } else {\r\n        if (document.querySelector('.new-product-steps'))\r\n          document.querySelector('.new-product-steps').style.transform =\r\n            'translateY(0)';\r\n      }\r\n    };\r\n    document.addEventListener('scroll', handleScroll);\r\n    const preventDragAndDrop = (e) => {\r\n      e.preventDefault();\r\n    };\r\n    window.addEventListener('dragover', preventDragAndDrop, false);\r\n    window.addEventListener('drop', preventDragAndDrop, false);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutsideCategorySign);\r\n      document.removeEventListener('mousedown', handleClickOutsideHelpSign);\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n      document.removeEventListener('scroll', handleScroll);\r\n      window.removeEventListener('drop', preventDragAndDrop);\r\n      window.removeEventListener('dragover', preventDragAndDrop);\r\n    };\r\n  }, []);\r\n  useEffect(() => {\r\n    user && dispatch(detailsUser(user._id));\r\n  }, [user, dispatch]);\r\n\r\n  useEffect(() => {\r\n    details && draftId === null && setCacheValues('');\r\n  }, [details, draftId]);\r\n  useEffect(() => {\r\n    if (\r\n      draftId === null &&\r\n      percentage === 33 &&\r\n      userUpdated &&\r\n      userUpdated.productDrafts &&\r\n      !updateLoading\r\n    ) {\r\n      props.history.push(\r\n        '/vender/producto?draft=' +\r\n          userUpdated.productDrafts[userUpdated.productDrafts.length - 1]._id\r\n      );\r\n    } else if (details) {\r\n      details.productDrafts.find((draft) => draft._id === draftId) &&\r\n        setCacheValues(\r\n          details.productDrafts.find((draft) => draft._id === draftId)\r\n        );\r\n    }\r\n  }, [updateLoading, draftId, percentage, userUpdated, details, props]);\r\n  useEffect(() => {\r\n    setSearchSell(cacheValues ? cacheValues.name : '');\r\n    setSelectedCategory(cacheValues ? cacheValues.category : null);\r\n    setIsStateNew(cacheValues ? cacheValues.isStateNew : null);\r\n    setImages(cacheValues ? cacheValues.images : []);\r\n    setPercentage(\r\n      cacheValues\r\n        ? cacheValues.name\r\n          ? cacheValues.category\r\n            ? cacheValues.isStateNew !== null\r\n              ? cacheValues.images && cacheValues.images.length > 0\r\n                ? 100\r\n                : 67\r\n              : 33\r\n            : 16.5\r\n          : 0\r\n        : cacheValues === ''\r\n        ? 0\r\n        : -1\r\n    );\r\n    setQuantity(cacheValues ? cacheValues.stock : '');\r\n  }, [cacheValues]);\r\n\r\n  useEffect(() => {\r\n    switch (percentage) {\r\n      case 0:\r\n        document.querySelector('#first-step') &&\r\n          document.querySelector('#first-step').scrollIntoView();\r\n        break;\r\n      case 16.5:\r\n        document.querySelector('#first-step') &&\r\n          document.querySelector('#first-step').scrollIntoView();\r\n        break;\r\n      case 33:\r\n        if (!updateLoading && !updateError) {\r\n          document.querySelector('#second-step') &&\r\n            document.querySelector('#second-step').scrollIntoView();\r\n        }\r\n        break;\r\n      case 67:\r\n        !updateLoading &&\r\n          !updateError &&\r\n          document.querySelector('#third-step') &&\r\n          document.querySelector('#third-step').scrollIntoView();\r\n        setImageError('');\r\n        setQuantityError('');\r\n        break;\r\n      case 100:\r\n        !updateLoading &&\r\n          !updateError &&\r\n          window.scrollTo(0, document.body.scrollHeight);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }, [percentage, updateLoading, updateError]);\r\n\r\n  useEffect(() => {\r\n    showHelpSign &&\r\n      document.querySelector('#help-sign').classList.remove('hidden');\r\n    showHelpSign\r\n      ? (document.querySelector('body').style.overflow = 'hidden')\r\n      : (document.querySelector('body').style.overflow = 'auto');\r\n  }, [showHelpSign]);\r\n\r\n  useEffect(() => {\r\n    showChangeCategorySign &&\r\n      document\r\n        .querySelector('#change-category-sign')\r\n        .classList.remove('hidden');\r\n    showChangeCategorySign\r\n      ? (document.querySelector('body').style.overflow = 'hidden')\r\n      : (document.querySelector('body').style.overflow = 'auto');\r\n  }, [showChangeCategorySign]);\r\n\r\n  useEffect(() => {\r\n    percentage >= 16.5 &&\r\n      categories &&\r\n      categories.length < 1 &&\r\n      dispatch(listCategories());\r\n  }, [dispatch, percentage, categories]);\r\n\r\n  const CheckDimension = (file) => {\r\n    var reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = function (e) {\r\n      var image = new Image();\r\n      image.src = e.target.result;\r\n      image.onload = function () {\r\n        var height = this.height;\r\n        var width = this.width;\r\n        if (height < 500 || width < 500) {\r\n          addErrorToImageList(\r\n            reader.result,\r\n            '- El tamao es menor a 500 x 500 px.',\r\n            setImageError\r\n          );\r\n        } else {\r\n          setPercentage(67);\r\n          setImages((images) => [...images, this.src]);\r\n        }\r\n      };\r\n    };\r\n  };\r\n  const firstStepHeader = () => (\r\n    <div className='screen-mini-card-header'>\r\n      {' '}\r\n      <a\r\n        className='sell-back-to-search-btn'\r\n        href='#back'\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          setPercentage(0);\r\n          setSelectedCategory(null);\r\n        }}\r\n      >\r\n        Volver a buscar\r\n      </a>\r\n    </div>\r\n  );\r\n\r\n  const firstStepSearch = () => (\r\n    <>\r\n      <div className='row margin-bottom width-100'>\r\n        <div className='searchbar-sell'>\r\n          <i className='fa fa-search'></i>\r\n          <input\r\n            autoFocus\r\n            maxLength='120'\r\n            value={searchSell}\r\n            onKeyDown={(e) => {\r\n              if (e.keyCode === 13) {\r\n                if (searchSell.trim().length > 0) {\r\n                  setSelectedCategory(null);\r\n                  setPercentage(16.5);\r\n                } else {\r\n                  setSearchError(true);\r\n                }\r\n              }\r\n            }}\r\n            onChange={(e) => {\r\n              setSearchSell(e.target.value);\r\n              setSearchError(false);\r\n            }}\r\n            ref={wrapperRef}\r\n            onFocus={() => {\r\n              document\r\n                .querySelector('.searchbar-sell')\r\n                .classList.add('focused');\r\n            }}\r\n            type='text'\r\n            placeholder='Ej.: Celular Samsung Galaxy S9 64 GB Negro o 887276246529'\r\n          ></input>\r\n          <i\r\n            className='fas fa-times gray'\r\n            onClick={() => setSearchSell('')}\r\n          ></i>\r\n        </div>\r\n        <div\r\n          className={\r\n            'search-sell-subtext subtle-text' + (searchError ? ' error' : '')\r\n          }\r\n        >\r\n          {desktopScreenCondition &&\r\n            (!searchError\r\n              ? 'Sum las caractersticas principales del producto para mejorar la bsqueda.'\r\n              : 'Para comenzar, indic el producto que quers publicar.')}\r\n        </div>\r\n        <button\r\n          className={\r\n            'primary' +\r\n            (desktopScreenCondition ? ' margin-left' : ' margin-top block')\r\n          }\r\n          onClick={() => {\r\n            if (searchSell.trim().length > 0) {\r\n              setSelectedCategory(null);\r\n              setPercentage(16.5);\r\n            } else {\r\n              setSearchError(true);\r\n            }\r\n          }}\r\n        >\r\n          Comenzar\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n  const firstStepSelectCategory = () => (\r\n    <>\r\n      {selectedCategory === null && percentage >= 16.5 && (\r\n        <div className='sell-categories-list-container'>\r\n          <ul className='sell-categories-list'>\r\n            {categories.map((category) => {\r\n              return (\r\n                <li key={category._id}>\r\n                  <button\r\n                    onClick={() => {\r\n                      setSelectedCategory(category._id);\r\n                    }}\r\n                  >\r\n                    {category.name}\r\n                    <i className='fas fa-angle-right absolute-right'></i>\r\n                  </button>\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        </div>\r\n      )}\r\n      {selectedCategory !== null &&\r\n        (categories &&\r\n        categories.find((category) => category._id === selectedCategory) ? (\r\n          <div className='column' style={{ gap: '2rem' }}>\r\n            {' '}\r\n            <span className='selected-category-sell'>\r\n              <img\r\n                src={\r\n                  categories.find(\r\n                    (category) => category._id === selectedCategory\r\n                  ).svg\r\n                }\r\n                onLoad={() => {\r\n                  document.querySelector(\r\n                    '#selected-category-name'\r\n                  ).style.display = 'flex';\r\n                }}\r\n                alt={\r\n                  categories.find(\r\n                    (category) => category._id === selectedCategory\r\n                  ).name + 'logo'\r\n                }\r\n              ></img>\r\n              <span\r\n                className='column margin-left'\r\n                id='selected-category-name'\r\n                hidden\r\n              >\r\n                <span>\r\n                  {\r\n                    categories.find(\r\n                      (category) => category._id === selectedCategory\r\n                    ).name\r\n                  }\r\n                </span>\r\n                {percentage >= 33 && (\r\n                  <a\r\n                    href='#cambiar-categoria'\r\n                    onClick={() => {\r\n                      setSelectedCategory(null);\r\n                    }}\r\n                  >\r\n                    Elegir otra\r\n                  </a>\r\n                )}\r\n              </span>\r\n            </span>\r\n            {percentage <= 33 && (\r\n              <span\r\n                style={{\r\n                  fontSize: desktopScreenCondition ? 'initial' : '1.4rem',\r\n                }}\r\n              >\r\n                Es muy importante que la categora sea la apropiada para que tus\r\n                compradores encuentren tu producto. Si no lo es, podramos\r\n                pedirte que vuelvas a publicar.\r\n              </span>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className='screen-mini-card medium'>\r\n            <MessageBox variant='danger'>\r\n              Se ha producido un error, por favor vuelva a empezar\r\n            </MessageBox>\r\n          </div>\r\n        ))}\r\n    </>\r\n  );\r\n  const firstStepFooter = () => (\r\n    <div className='screen-mini-card-footer flex-end'>\r\n      <button\r\n        className='primary'\r\n        onClick={() => {\r\n          if (\r\n            !cacheValues ||\r\n            cacheValues.category === null ||\r\n            cacheValues.category === selectedCategory\r\n          ) {\r\n            setCacheValues({\r\n              name: searchSell,\r\n              category: selectedCategory,\r\n              images: [],\r\n              isStateNew: null,\r\n            });\r\n            dispatch(\r\n              updateProductDrafts({\r\n                name: searchSell,\r\n                category: selectedCategory,\r\n                _id: draftId ? draftId : null,\r\n                isStateNew: null,\r\n                images: [],\r\n              })\r\n            );\r\n          } else {\r\n            setShowChangeCategorySign(true);\r\n          }\r\n        }}\r\n      >\r\n        Confirmar\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  const secondStep = (status) => (\r\n    <div\r\n      id='second-step'\r\n      className={\r\n        'screen-mini-card medium' + (status === 'disabled' ? ' disabled' : '')\r\n      }\r\n    >\r\n      <div className='screen-mini-card-header-title'>\r\n        <h2>Cul es la condicin de tu producto?</h2>\r\n      </div>\r\n      <ul>\r\n        <li\r\n          className={\r\n            'sell-stateBtn-nuevo multiple-selection-btn' +\r\n            (isStateNew === true ? ' selected' : '')\r\n          }\r\n        >\r\n          <button\r\n            className='list-item padding'\r\n            onClick={() => {\r\n              if (isStateNew !== true) {\r\n                setIsStateNew(true);\r\n                dispatch(\r\n                  updateProductDrafts({\r\n                    ...cacheValues,\r\n                    isStateNew: true,\r\n                    _id: draftId ? draftId : null,\r\n                  })\r\n                );\r\n              }\r\n            }}\r\n          >\r\n            Nuevo\r\n          </button>\r\n        </li>\r\n        <li\r\n          className={\r\n            'sell-stateBtn-usado multiple-selection-btn' +\r\n            (isStateNew === false ? ' selected' : '')\r\n          }\r\n        >\r\n          <button\r\n            className='list-item padding'\r\n            onClick={() => {\r\n              if (isStateNew !== false) {\r\n                setIsStateNew(false);\r\n                dispatch(\r\n                  updateProductDrafts({\r\n                    ...cacheValues,\r\n                    name: searchSell,\r\n                    category: selectedCategory,\r\n                    isStateNew: false,\r\n                    images,\r\n                    _id: draftId ? draftId : null,\r\n                  })\r\n                );\r\n              }\r\n            }}\r\n          >\r\n            Usado\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n\r\n  const thirdStep = (status) => (\r\n    <div\r\n      id='third-step'\r\n      className={\r\n        'screen-mini-card medium' + (status === 'disabled' ? ' disabled' : '')\r\n      }\r\n    >\r\n      <div className='screen-mini-card-header-title'>\r\n        <h2>Complet la informacin de tu producto</h2>\r\n        {desktopScreenCondition && (\r\n          <button\r\n            className='hover-btn absolute-right'\r\n            onClick={() => {\r\n              setShowHelpSign(true);\r\n            }}\r\n          >\r\n            <img\r\n              className='smaller'\r\n              src='https://svgshare.com/i/UKg.svg'\r\n              alt='Ayuda'\r\n            ></img>\r\n          </button>\r\n        )}\r\n      </div>\r\n      <div className='screen-mini-card-body padding column'>\r\n        <div className='message-div blue row'>\r\n          <p className='paragraph-with-icon bold'>\r\n            <img\r\n              src='https://svgshare.com/i/UNm.svg'\r\n              alt='tip'\r\n              className='absolute-left-top circle badge'\r\n            />\r\n            Para no perder exposicin, asegrate de que la primera foto tenga\r\n            fondo blanco puro creado con un editor de imgenes. No agregues\r\n            bordes, logos ni marcas de agua.\r\n            <a href='#masconsejos'>Ver ms consejos.</a>\r\n          </p>\r\n        </div>\r\n\r\n        <div\r\n          className={'message-div red row' + (!imageError ? ' no-display' : '')}\r\n        >\r\n          <div className='width-100 relative'>\r\n            <p className='paragraph-with-icon bold'>\r\n              <img\r\n                src='https://svgshare.com/i/UQW.svg'\r\n                alt='tip'\r\n                className='absolute-left-top circle badge'\r\n              />\r\n              {imageError}\r\n            </p>\r\n          </div>\r\n          <div className='message-div-content'>\r\n            <ul id='error-list' className='width-100'></ul>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          className={\r\n            'image-upload-images-container' +\r\n            (images.length > 0 ? ' with-scroll' : '')\r\n          }\r\n        >\r\n          <ul\r\n            className={\r\n              'image-slider row flex-start' +\r\n              (images.length > 0 ? ' fit-content' : '')\r\n            }\r\n          >\r\n            <div\r\n              className={\r\n                'upload-image-div center column' +\r\n                (images.length > 0 ? ' in-slider' : '')\r\n              }\r\n              role='button'\r\n              onClick={() => {\r\n                document.querySelector('#inputfile').click();\r\n              }}\r\n              onDragEnter={(e) => {\r\n                document\r\n                  .querySelector('.upload-image-div')\r\n                  .classList.add('on-drag');\r\n              }}\r\n              onDragLeave={(e) => {\r\n                document\r\n                  .querySelector('.upload-image-div')\r\n                  .classList.remove('on-drag');\r\n              }}\r\n              onDrop={(e) => {\r\n                document\r\n                  .querySelector('.upload-image-div')\r\n                  .classList.remove('on-drag');\r\n                if (e.dataTransfer.files.length + images.length <= 8) {\r\n                  document.querySelector('#error-list').innerHTML = '';\r\n                  for (var i = 0; i < e.dataTransfer.files.length; i++) {\r\n                    if (e.dataTransfer.files[i].size / 1000000 <= 5) {\r\n                      const dataType = e.dataTransfer.files[i].type;\r\n                      if (\r\n                        dataType.includes('image/jpeg') ||\r\n                        dataType.includes('image/png')\r\n                      ) {\r\n                        CheckDimension(e.dataTransfer.files[i]);\r\n                      } else {\r\n                        addErrorToImageList(\r\n                          'https://svgshare.com/i/UYj.svg',\r\n                          '- El formato no es JPG o PNG.',\r\n                          setImageError\r\n                        );\r\n                      }\r\n                    } else {\r\n                      addErrorToImageList(\r\n                        'https://svgshare.com/i/UYj.svg',\r\n                        '- El archivo pesa mas de 5mb',\r\n                        setImageError\r\n                      );\r\n                    }\r\n                  }\r\n                  if (document.querySelector('#error-list').innerHTML === '')\r\n                    setImageError('');\r\n                } else {\r\n                  document.querySelector('.message-div.red') &&\r\n                    document\r\n                      .querySelector('.message-div.red')\r\n                      .classList.remove('height-auto');\r\n                  document.querySelector('#error-list').innerHTML = '';\r\n                  setImageError('Puedes subir como mximo 8 fotos.');\r\n                }\r\n              }}\r\n            >\r\n              <img src='https://svgshare.com/i/UPJ.svg' alt='camara' />\r\n              <span\r\n                className={\r\n                  images.length > 0 ? 'small-text bold' : 'subtle-text'\r\n                }\r\n              >\r\n                Agrega {desktopScreenCondition ? 'o arrastra ' : ''}tus\r\n                <br /> fotos aqu\r\n              </span>\r\n              <input\r\n                style={{ display: 'none' }}\r\n                id='inputfile'\r\n                type='file'\r\n                accept='image/x-png,image/jpeg,image/jpg'\r\n                onChange={(e) => {\r\n                  if (e.target.files.length + images.length <= 8) {\r\n                    document.querySelector('#error-list').innerHTML = '';\r\n                    for (var i = 0; i < e.target.files.length; i++) {\r\n                      if (e.target.files[i].size / 1000000 <= 5) {\r\n                        const dataType = e.target.files[i].type;\r\n                        if (\r\n                          dataType.includes('image/jpeg') ||\r\n                          dataType.includes('image/png')\r\n                        ) {\r\n                          CheckDimension(e.target.files[i]);\r\n                        } else {\r\n                          addErrorToImageList(\r\n                            'https://svgshare.com/i/UYj.svg',\r\n                            '- El formato no es JPG o PNG.',\r\n                            setImageError\r\n                          );\r\n                        }\r\n                      } else {\r\n                        addErrorToImageList(\r\n                          'https://svgshare.com/i/UYj.svg',\r\n                          '- El archivo pesa mas de 5mb',\r\n                          setImageError\r\n                        );\r\n                      }\r\n                    }\r\n                    if (document.querySelector('#error-list').innerHTML === '')\r\n                      setImageError('');\r\n                  } else {\r\n                    document.querySelector('.message-div.red') &&\r\n                      document\r\n                        .querySelector('.message-div.red')\r\n                        .classList.remove('height-auto');\r\n                    document.querySelector('#error-list').innerHTML = '';\r\n                    setImageError('Puedes subir como mximo 8 fotos.');\r\n                  }\r\n                  e.target.value = '';\r\n                }}\r\n                multiple\r\n              ></input>\r\n            </div>\r\n            {images &&\r\n              images.length > 0 &&\r\n              images.map((image, i) => {\r\n                return (\r\n                  <li className='image-slider-item' key={i}>\r\n                    <img className='center-cropped' src={image} alt='Subida' />\r\n                    {i === 0 && (\r\n                      <div className='absolute-bottom width-100 cover-page'>\r\n                        <h3>Portada</h3>\r\n                      </div>\r\n                    )}\r\n                    <div className='image-slider-item-options'>\r\n                      <button\r\n                        className='image-slider-arrow-btn'\r\n                        onClick={() => {\r\n                          if (images.length > 1 && i !== 0) {\r\n                            setImages(move(images, i, i - 1, false));\r\n                            setPercentage(67);\r\n                          }\r\n                        }}\r\n                      >\r\n                        <i className='fas fa-caret-left'></i>\r\n                      </button>\r\n                      <button\r\n                        className='image-slider-del-btn'\r\n                        onClick={() => {\r\n                          setImages((images) => [\r\n                            ...images.slice(0, i),\r\n                            ...images.slice(i + 1),\r\n                          ]);\r\n                          setPercentage(67);\r\n                        }}\r\n                      >\r\n                        <img\r\n                          src='https://svgshare.com/i/Ucx.svg'\r\n                          alt='boton borrar'\r\n                        ></img>\r\n                      </button>\r\n                      <button\r\n                        className='image-slider-arrow-btn'\r\n                        onClick={() => {\r\n                          if (images.length > 1 && images.length - 1 !== i) {\r\n                            setImages(move(images, i, i + 1, false));\r\n                            setPercentage(67);\r\n                          }\r\n                        }}\r\n                      >\r\n                        <i className='fas fa-caret-right'></i>\r\n                      </button>\r\n                    </div>\r\n                  </li>\r\n                );\r\n              })}\r\n          </ul>\r\n        </div>\r\n        <div className='wrapper sell'>\r\n          <div className='underline-label-input'>\r\n            <input\r\n              type='text'\r\n              maxLength='5'\r\n              className={quantityError ? 'error' : ''}\r\n              value={quantity > 0 ? formatNumber(quantity) : ''}\r\n              onChange={(e) => {\r\n                setQuantity(e.target.value.split('.').join(''));\r\n                if (e.target.value.length === 0 || e.target.value === '0') {\r\n                  setQuantityError('La cantidad mnima es 1.');\r\n                } else {\r\n                  setQuantityError('');\r\n                }\r\n              }}\r\n              onKeyDown={(e) => {\r\n                if (\r\n                  !(\r\n                    (e.keyCode >= 48 && e.keyCode <= 57) ||\r\n                    e.keyCode === 8 ||\r\n                    e.keyCode === 37 ||\r\n                    e.keyCode === 39 ||\r\n                    e.keyCode === 46\r\n                  )\r\n                )\r\n                  e.preventDefault();\r\n                setPercentage(67);\r\n              }}\r\n            ></input>\r\n            <div\r\n              className={'underline' + (quantityError ? ' error' : '')}\r\n            ></div>\r\n            <label>Cantidad</label>\r\n            <span\r\n              className={\r\n                'subtle-text' + (quantityError ? ' error' : ' noerror')\r\n              }\r\n            >\r\n              {quantityError && quantityError}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {percentage < 100 && (\r\n        <div className='screen-mini-card-footer flex-end'>\r\n          <div\r\n            className={\r\n              'width-100' +\r\n              (desktopScreenCondition ? ' row' : ' column reverse')\r\n            }\r\n          >\r\n            <button\r\n              className={\r\n                'secondary' + (!desktopScreenCondition ? ' block' : '')\r\n              }\r\n              onClick={() => setImages([])}\r\n            >\r\n              Cancelar\r\n            </button>\r\n            <button\r\n              className={\r\n                'primary' +\r\n                (!desktopScreenCondition ? ' block margin-bottom' : '')\r\n              }\r\n              onClick={() => {\r\n                if (images.length > 0) {\r\n                  if (quantity !== '' && parseInt(quantity) > 0) {\r\n                    dispatch(\r\n                      updateProductDrafts({\r\n                        ...cacheValues,\r\n                        images,\r\n                        stock: parseInt(quantity),\r\n                        _id: draftId ? draftId : null,\r\n                      })\r\n                    );\r\n                  } else {\r\n                    setQuantityError('La cantidad mnima es 1.');\r\n                  }\r\n                } else {\r\n                  setImageError('Agreg al menos una foto.');\r\n                  if (quantity === '' || parseInt(quantity) === 0) {\r\n                    setQuantityError('La cantidad mnima es 1.');\r\n                  }\r\n                }\r\n              }}\r\n            >\r\n              Confirmar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const helpSign = () => (\r\n    <div id='help-sign' className='modal-bg hidden center'>\r\n      <div className='screen-mini-card medium' ref={wrapperRefHelpSign}>\r\n        <div className='screen-mini-card-header-title'>\r\n          <h1>Sac las mejores fotos para no perder exposicin</h1>\r\n          <i\r\n            className='fas fa-times absolute-right less-right blue'\r\n            onClick={() => {\r\n              document.querySelector('#help-sign').classList.add('hidden');\r\n              setTimeout(() => {\r\n                setShowHelpSign(false);\r\n              }, 500);\r\n            }}\r\n          ></i>\r\n        </div>\r\n        <div className='screen-mini-card-body padding'>\r\n          <div className='half-body'>\r\n            <p className='paragraph-with-icon bold'>\r\n              <img\r\n                src='https://svgshare.com/i/ULR.svg'\r\n                className='very-small absolute-left-top'\r\n                alt='check'\r\n              />\r\n              Utiliz un editor de imgenes para crear un fondo blanco puro para\r\n              tu producto. No publiques fotos de tu producto frente una pared u\r\n              otro elemento.\r\n            </p>\r\n            <p className='paragraph-with-icon bold'>\r\n              <img\r\n                src='https://svgshare.com/i/ULR.svg'\r\n                className='very-small absolute-left-top'\r\n                alt='check'\r\n              />\r\n              No le agregues bordes, logos, marcas de agua, banners ni textos\r\n              promocionales.\r\n            </p>\r\n            <p className='paragraph-with-icon bold'>\r\n              <img\r\n                src='https://svgshare.com/i/ULR.svg'\r\n                className='very-small absolute-left-top'\r\n                alt='check'\r\n              />\r\n              Sac fotos grandes! Como mnimo deben tener 500 pxeles en uno de\r\n              sus lados. Te recomendamos 1200 x 1200, para que puedan hacer\r\n              zoom.\r\n            </p>\r\n            <p className='paragraph-with-icon bold'>\r\n              <img\r\n                src='https://svgshare.com/i/ULR.svg'\r\n                className='very-small absolute-left-top'\r\n                alt='check'\r\n              />\r\n              Mostr tu producto desde diferentes ngulos.\r\n            </p>\r\n            <p className='paragraph-with-icon bold'>\r\n              <img\r\n                src='https://svgshare.com/i/ULR.svg'\r\n                className='very-small absolute-left-top'\r\n                alt='check'\r\n              />\r\n              Si necesits mostrar cmo se ve tu producto en contexto, hacelo a\r\n              partir de tu segunda imagen.\r\n            </p>\r\n          </div>\r\n          <div className='half-body center'>\r\n            <img\r\n              className='medium'\r\n              src='https://svgshare.com/i/UN4.svg'\r\n              alt='Shoes'\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const changeCategorySign = () => (\r\n    <div id='change-category-sign' className='modal-bg hidden center'>\r\n      <div className='screen-mini-card small' ref={wrapperRefCategorySign}>\r\n        <div className='screen-mini-card-header-title'>\r\n          <h1>\r\n            Con este cambio, perders todos los datos que ya habas completado\r\n          </h1>\r\n          <i\r\n            className='fas fa-times absolute-right less-right blue'\r\n            onClick={() => {\r\n              document.querySelector('#change-category-cancelbtn').click();\r\n            }}\r\n          ></i>\r\n        </div>\r\n        <div className='screen-mini-card-body padding column'>\r\n          <span className='subtle-text margin-bottom'>\r\n            Como ests modificando informacion que elegiste, tendrs que volver\r\n            a seleccionarla.\r\n          </span>\r\n          <div className='row flex-start'>\r\n            <button\r\n              className='primary'\r\n              onClick={() => {\r\n                setIsStateNew(null);\r\n                setImages([]);\r\n                setQuantity(0);\r\n                dispatch(\r\n                  updateProductDrafts({\r\n                    name: searchSell,\r\n                    category: selectedCategory,\r\n                    _id: draftId ? draftId : null,\r\n                  })\r\n                );\r\n                document\r\n                  .querySelector('#change-category-sign')\r\n                  .classList.add('hidden');\r\n                setTimeout(() => {\r\n                  setShowChangeCategorySign(false);\r\n                }, 500);\r\n              }}\r\n            >\r\n              Aceptar\r\n            </button>\r\n            <button\r\n              id='change-category-cancelbtn'\r\n              className='secondary margin-left'\r\n              onClick={() => {\r\n                setSelectedCategory(cacheValues.category);\r\n                dispatch(\r\n                  updateProductDrafts({\r\n                    ...cacheValues,\r\n                    name: searchSell,\r\n                    _id: draftId ? draftId : null,\r\n                  })\r\n                );\r\n                document\r\n                  .querySelector('#change-category-sign')\r\n                  .classList.add('hidden');\r\n                setTimeout(() => {\r\n                  setShowChangeCategorySign(false);\r\n                }, 500);\r\n              }}\r\n            >\r\n              Cancelar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {detailsError || error ? (\r\n        <div className='screen-mini-card medium'>\r\n          <MessageBox variant='danger'>{detailsError || error}</MessageBox>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {desktopScreenCondition && (\r\n            <div className='extra-header new-product'></div>\r\n          )}\r\n          <div className='new-product-steps'>\r\n            <span>\r\n              <span className='step-number'>1</span>\r\n              Datos del producto\r\n            </span>\r\n            <div\r\n              className='progress-bar'\r\n              style={{ width: percentage + '%' }}\r\n            ></div>\r\n          </div>\r\n          <div className='flex-center width-100'>\r\n            <div className='column flex-start'>\r\n              {percentage < 0 ? (\r\n                <LoadingCircle color='blue' />\r\n              ) : (\r\n                <>\r\n                  <div\r\n                    className='row width-100'\r\n                    style={{\r\n                      zIndex: '100',\r\n                      marginBottom: desktopScreenCondition && '6rem',\r\n                    }}\r\n                  >\r\n                    <div>\r\n                      <h4 className='subtle-text'>Paso 1 de 2</h4>\r\n                      <h1 style={{ fontSize: '2.5rem' }}>\r\n                        Empecemos identificando tu producto\r\n                      </h1>\r\n                    </div>\r\n                    {desktopScreenCondition && (\r\n                      <img\r\n                        src='https://http2.mlstatic.com/secure/sell/images/shoe-v2.svg'\r\n                        alt='arte de zapato'\r\n                      ></img>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div\r\n                    id='first-step'\r\n                    className={\r\n                      'screen-mini-card medium' +\r\n                      (percentage > 16.5 && updateLoading ? ' disabled' : '')\r\n                    }\r\n                  >\r\n                    {percentage >= 16.5 && firstStepHeader()}\r\n                    <div className='screen-mini-card-body padding column'>\r\n                      {percentage < 16.5 ? (\r\n                        <h2>\r\n                          Indic producto, marca, modelo y caractersticas\r\n                          principales\r\n                        </h2>\r\n                      ) : selectedCategory === null ? (\r\n                        <h2>Qu opcin lo describe?</h2>\r\n                      ) : percentage < 33 ? (\r\n                        <h2>Confirma la categora</h2>\r\n                      ) : (\r\n                        <h2>La categora que elegiste</h2>\r\n                      )}\r\n                      {percentage < 16.5 && firstStepSearch()}\r\n                      {loading ? (\r\n                        <></>\r\n                      ) : error ? (\r\n                        <div className='screen-mini-card medium'>\r\n                          <MessageBox variant='danger'>{error}</MessageBox>\r\n                        </div>\r\n                      ) : (\r\n                        firstStepSelectCategory()\r\n                      )}\r\n                    </div>\r\n                    {selectedCategory !== null &&\r\n                      !loading &&\r\n                      percentage === 16.5 &&\r\n                      firstStepFooter()}\r\n                  </div>\r\n                </>\r\n              )}\r\n              {percentage === 33 ? (\r\n                updateError ? (\r\n                  <div className='screen-mini-card medium'>\r\n                    <MessageBox variant='danger'>{updateError}</MessageBox>\r\n                  </div>\r\n                ) : updateLoading || loadingDetails || draftId === null ? (\r\n                  secondStep('disabled')\r\n                ) : (\r\n                  secondStep()\r\n                )\r\n              ) : (\r\n                percentage > 33 &&\r\n                (updateLoading || loadingDetails || draftId === null\r\n                  ? secondStep('disabled')\r\n                  : secondStep())\r\n              )}\r\n              {percentage >= 67 &&\r\n                (updateLoading || loadingDetails || draftId === null ? (\r\n                  thirdStep('disabled')\r\n                ) : updateError ? (\r\n                  <div className='screen-mini-card medium'>\r\n                    <MessageBox variant='danger'>{updateError}</MessageBox>\r\n                  </div>\r\n                ) : (\r\n                  thirdStep()\r\n                ))}\r\n              {percentage === 100 && (\r\n                <div className='row flex-end width-100'>\r\n                  <button\r\n                    className={\r\n                      'primary' +\r\n                      (!desktopScreenCondition\r\n                        ? ' block margin-left margin-right'\r\n                        : '')\r\n                    }\r\n                    disabled={updateLoading || loadingDetails || updateError}\r\n                    onClick={() => {\r\n                      document.querySelector('#siguiente-link').click();\r\n                    }}\r\n                  >\r\n                    Siguiente\r\n                  </button>\r\n                  <a\r\n                    id='siguiente-link'\r\n                    href={'/publicar?draft=' + draftId}\r\n                    hidden\r\n                  >\r\n                    Siguiente\r\n                  </a>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          {showHelpSign && helpSign()}\r\n          {showChangeCategorySign && changeCategorySign()}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NewProductScreen;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nconst EnterPassRoute = ({ component: Component, ...rest }) => {\r\n  const userCheckName = useSelector((state) => state.userCheckName);\r\n  const { user } = userCheckName;\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        user ? <Component {...props}></Component> : <Redirect to='/login' />\r\n      }\r\n    ></Route>\r\n  );\r\n};\r\n\r\nexport default EnterPassRoute;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nconst EmailValidationRoute = ({ component: Component, ...rest }) => {\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user: loggedUser } = userLogin;\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        const checkedEmail = localStorage.getItem('verifyEmail');\r\n        const user = localStorage.getItem('RegisterCacheValues');\r\n        const userCheckName = localStorage.getItem('userCheckNameInfo');\r\n        const urlParams = new URLSearchParams(props.location.search);\r\n        const authType = urlParams.get('authType');\r\n        if (authType === 'register') {\r\n          return user || userCheckName || loggedUser ? (\r\n            <Component {...props}></Component>\r\n          ) : (\r\n            <Redirect to='/' />\r\n          );\r\n        }\r\n        if (checkedEmail) {\r\n          return user || userCheckName ? (\r\n            <Component {...props}></Component>\r\n          ) : (\r\n            <Redirect to='/' />\r\n          );\r\n        } else {\r\n          return <Redirect to='/' />;\r\n        }\r\n      }}\r\n    ></Route>\r\n  );\r\n};\r\n\r\nexport default EmailValidationRoute;\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\n\r\nconst HomeScreenRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        return <Component {...props}></Component>;\r\n      }}\r\n    ></Route>\r\n  );\r\n};\r\n\r\nexport default HomeScreenRoute;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deleteProductDrafts, detailsUser } from '../Actions/userActions';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport { Redirect } from 'react-router-dom';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\n\r\nconst DraftsScreen = () => {\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { error, user } = userLogin;\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const { error: detailsError, user: details } = userDetails;\r\n  const userDeleteProductDrafts = useSelector(\r\n    (state) => state.userDeleteProductDrafts\r\n  );\r\n  const {\r\n    loading: loadingDrafts,\r\n    error: errorDrafts,\r\n  } = userDeleteProductDrafts;\r\n  const dispatch = useDispatch();\r\n  const [productDrafts, setProductDrafts] = useState([]);\r\n  const months = [\r\n    'Enero',\r\n    'Febrero',\r\n    'Marzo',\r\n    'Abril',\r\n    'Mayo',\r\n    'Junio',\r\n    'Julio',\r\n    'Agosto',\r\n    'Septiembre',\r\n    'Octubre',\r\n    'Noviembre',\r\n    'Diciembre',\r\n  ];\r\n\r\n  useEffect(() => {\r\n    user && dispatch(detailsUser(user._id));\r\n  }, [user, dispatch]);\r\n\r\n  useEffect(() => {\r\n    details &&\r\n      details.productDrafts.length > 0 &&\r\n      setProductDrafts(details.productDrafts);\r\n  }, [details]);\r\n  const displayDrafts = () => {\r\n    let drafts = [];\r\n    const length = details && productDrafts.length - 1;\r\n    for (let i = length; i > length - 3; i--) {\r\n      productDrafts[i] &&\r\n        drafts.push(\r\n          <li className='list-relative' key={i}>\r\n            <a\r\n              className='list-item padding row flex-start'\r\n              href={\r\n                productDrafts[i].address\r\n                  ? '/publicar?draft=' + productDrafts[i]._id\r\n                  : '/vender/producto?draft=' + productDrafts[i]._id\r\n              }\r\n            >\r\n              <img\r\n                className='list-img center-cropped'\r\n                src={\r\n                  productDrafts[i].images.length > 0\r\n                    ? productDrafts[i].images[0]\r\n                    : 'https://http2.mlstatic.com/secure/sell/draft_default.svg'\r\n                }\r\n                alt='Imagen del producto'\r\n              />\r\n              <div className='column'>\r\n                <span>\r\n                  {productDrafts[i].name.length < 19\r\n                    ? productDrafts[i].name\r\n                    : productDrafts[i].name.slice(0, 18) + '...'}\r\n                </span>\r\n                <span className='subtle-text margin-top'>\r\n                  <img\r\n                    className='very-small little-margin-right'\r\n                    src='https://svgshare.com/i/UJR.svg'\r\n                    alt=''\r\n                  />\r\n                  {(desktopScreenCondition ? 'Publicacin iniciada el ' : '') +\r\n                    parseInt(productDrafts[i].date.split('-')[2]) +\r\n                    ' de ' +\r\n                    months[parseInt(productDrafts[i].date.split('-')[1]) - 1]}\r\n                </span>\r\n              </div>\r\n            </a>\r\n            <button\r\n              className='list-delete absolute-right'\r\n              onClick={() => {\r\n                dispatch(deleteProductDrafts(productDrafts[i]._id));\r\n              }}\r\n            >\r\n              <img\r\n                className='small'\r\n                src='https://svgshare.com/i/UJB.svg'\r\n                alt='Boton borrar'\r\n              />\r\n            </button>\r\n          </li>\r\n        );\r\n    }\r\n    return drafts;\r\n  };\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      <div className='extra-header post'></div>\r\n\r\n      {error || detailsError ? (\r\n        <div className='screen-mini-card medium'>\r\n          <MessageBox variant='danger'>{error || detailsError}</MessageBox>\r\n        </div>\r\n      ) : !details ? (\r\n        <LoadingCircle color='blue' />\r\n      ) : details && details.productDrafts.length < 1 ? (\r\n        <Redirect to='/vender/producto' />\r\n      ) : (\r\n        productDrafts.length > 0 && (\r\n          <div>\r\n            <div className='column flex-start'>\r\n              <h1>\r\n                Hola {user && user.name},<br /> qu bueno volver a verte!\r\n              </h1>\r\n              <div className='screen-mini-card post-screen'>\r\n                <div className='screen-mini-card-header-title'>\r\n                  <h2>Qu publicacin quers continuar?</h2>\r\n                </div>\r\n                <div className='screen-mini-card-body'>\r\n                  <ul className='in-container'>{displayDrafts()}</ul>\r\n                </div>\r\n                <div className='screen-mini-card-footer'>\r\n                  <a href='/vender/producto'>Iniciar nueva publicacin</a>\r\n                </div>\r\n              </div>\r\n              {!loadingDrafts && errorDrafts && (\r\n                <div className='screen-mini-card medium'>\r\n                  <MessageBox variant='danger'>{errorDrafts}</MessageBox>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DraftsScreen;\r\n","import Axios from 'axios';\r\n\r\nexport const newAddress = (address) => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'NEW_ADDRESS_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post(\r\n      '/api/addresses/newaddress',\r\n      {\r\n        address,\r\n      },\r\n      { headers: { Authorization: 'Bearer ' + user.token } }\r\n    );\r\n    dispatch({ type: 'NEW_ADDRESS_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'NEW_ADDRESS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateAddress = (address) => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'UPDATE_ADDRESS_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post(\r\n      '/api/addresses/updateaddress',\r\n      {\r\n        address,\r\n      },\r\n      { headers: { Authorization: 'Bearer ' + user.token } }\r\n    );\r\n    dispatch({ type: 'UPDATE_ADDRESS_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'UPDATE_ADDRESS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteAddress = (addressId) => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'DELETE_ADDRESS_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post(\r\n      '/api/addresses/deleteAddress',\r\n      {\r\n        addressId,\r\n      },\r\n      { headers: { Authorization: 'Bearer ' + user.token } }\r\n    );\r\n    dispatch({ type: 'DELETE_ADDRESS_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'DELETE_ADDRESS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUserAddresses = () => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'USER_ADDRESSES_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.get('/api/addresses/getuseraddresses', {\r\n      headers: { Authorization: 'Bearer ' + user.token },\r\n    });\r\n    dispatch({ type: 'USER_ADDRESSES_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_ADDRESSES_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  deleteProductDrafts,\r\n  detailsUser,\r\n  updateProductDrafts,\r\n} from '../Actions/userActions';\r\nimport {\r\n  desktopScreenCondition,\r\n  formatNumber,\r\n  validateVideoId,\r\n} from '../Utils/Utilities';\r\nimport { Redirect } from 'react-router-dom';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport { createNewProduct } from '../Actions/productActions';\r\nimport {\r\n  deleteAddress,\r\n  getUserAddresses,\r\n  updateAddress,\r\n} from '../Actions/addressActions';\r\n\r\nconst PostScreen = (props) => {\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { loading, error, user } = userLogin;\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const {\r\n    loading: loadingDetails,\r\n    error: errorDetails,\r\n    user: details,\r\n  } = userDetails;\r\n  const userAddresses = useSelector((state) => state.userAddresses);\r\n  const {\r\n    loading: loadingAddresses,\r\n    error: errorAddresses,\r\n    addresses,\r\n  } = userAddresses;\r\n  const addressDelete = useSelector((state) => state.addressDelete);\r\n  const {\r\n    loading: loadingDeletingAddresses,\r\n    deleted: addressDeleted,\r\n  } = addressDelete;\r\n  const userUpdateProductDrafts = useSelector(\r\n    (state) => state.userUpdateProductDrafts\r\n  );\r\n  const {\r\n    loading: updateLoading,\r\n    error: updateError,\r\n  } = userUpdateProductDrafts;\r\n  const userDeleteProductDrafts = useSelector(\r\n    (state) => state.userDeleteProductDrafts\r\n  );\r\n  const {\r\n    error: errorDeletingDraft,\r\n    deleted: draftDeleted,\r\n  } = userDeleteProductDrafts;\r\n  const newProduct = useSelector((state) => state.newProduct);\r\n  const {\r\n    error: newProductError,\r\n    product,\r\n    loading: creatingProduct,\r\n  } = newProduct;\r\n  const dispatch = useDispatch();\r\n  const urlParams = new URLSearchParams(props.location.search);\r\n  const draftId = urlParams.get('draft');\r\n  const [localAddresses, setLocalAddresses] = useState([]);\r\n  const [draftValues, setDraftValues] = useState(null);\r\n  const [percentage, setPercentage] = useState(0);\r\n  const [maxPercentage, setMaxPercentage] = useState(0);\r\n  const [selectedAddress, setSelectedAddress] = useState(null);\r\n  const [price, setPrice] = useState(0);\r\n  const [priceError, setPriceError] = useState('');\r\n  const [noShipping, setNoShipping] = useState(null);\r\n  const [description, setDescription] = useState('');\r\n  const [video, setVideo] = useState('');\r\n  const [videoError, setVideoError] = useState('');\r\n  const [localError, setLocalError] = useState(false);\r\n\r\n  const [updatingData, setUpdatingData] = useState(false);\r\n  const [descriptionCardOpen, setDescriptionCardOpen] = useState(false);\r\n  const [videoCardOpen, setVideoCardOpen] = useState(false);\r\n  const [editingDescription, setEditingDescription] = useState(false);\r\n  const [editingVideo, setEditingVideo] = useState(false);\r\n  const [validVideoId, setValidVideoId] = useState('');\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      if (window.scrollY >= 175) {\r\n        if (document.querySelector('.new-product-steps'))\r\n          document.querySelector('.new-product-steps').style.transform =\r\n            'translateY(5.5rem)';\r\n      } else {\r\n        if (document.querySelector('.new-product-steps'))\r\n          document.querySelector('.new-product-steps').style.transform =\r\n            'translateY(0)';\r\n      }\r\n    };\r\n    document.addEventListener('scroll', handleScroll);\r\n  }, []);\r\n  useEffect(() => {\r\n    if (details) {\r\n      const values = details.productDrafts.find(\r\n        (draft) => draft._id.toString() === draftId\r\n      );\r\n      if (values) {\r\n        setDraftValues(values);\r\n      } else {\r\n        props.history.push('/vender');\r\n      }\r\n    }\r\n  }, [details, draftId, updatingData, props, localAddresses]);\r\n\r\n  useEffect(() => {\r\n    if (localAddresses.length > 0) {\r\n      const lastUsedAddress = localAddresses.find(\r\n        (address) => address.lastUsed === true\r\n      );\r\n      if (lastUsedAddress) {\r\n        setSelectedAddress(lastUsedAddress._id);\r\n      }\r\n    }\r\n  }, [localAddresses]);\r\n\r\n  useEffect(() => {\r\n    addresses && localAddresses.length === 0 && setLocalAddresses(addresses);\r\n  }, [addresses, localAddresses]);\r\n  useEffect(() => {\r\n    if (draftValues) {\r\n      if (draftValues.address !== null) {\r\n        setSelectedAddress(draftValues.address);\r\n        setPercentage(25);\r\n      }\r\n      if (draftValues.price) {\r\n        setPrice(draftValues.price);\r\n        setPercentage(50);\r\n      }\r\n      if (draftValues.noShipping !== null) {\r\n        setNoShipping(draftValues.noShipping);\r\n        setPercentage(75);\r\n      }\r\n      if (draftValues.description) {\r\n        setDescription(draftValues.description);\r\n        setDescriptionCardOpen(true);\r\n      }\r\n      if (draftValues.video) {\r\n        setVideo(draftValues.video);\r\n        setVideoCardOpen(true);\r\n        setValidVideoId(draftValues.video.split('/embed/')[1]);\r\n      }\r\n    }\r\n    setUpdatingData(false);\r\n  }, [draftValues]);\r\n  useEffect(() => {\r\n    percentage > maxPercentage && setMaxPercentage(percentage);\r\n  }, [percentage, maxPercentage]);\r\n\r\n  useEffect(() => {\r\n    switch (percentage) {\r\n      case 0:\r\n        document.querySelector('#first-step') &&\r\n          document.querySelector('#first-step').scrollIntoView();\r\n        break;\r\n      case 25:\r\n        document.querySelector('#first-step') &&\r\n          document.querySelector('#first-step').scrollIntoView();\r\n        break;\r\n      case 50:\r\n        if (!updatingData) {\r\n          document.querySelector('#second-step') &&\r\n            document.querySelector('#second-step').scrollIntoView();\r\n        }\r\n        break;\r\n      case 75:\r\n        !updatingData &&\r\n          document.querySelector('#third-step') &&\r\n          document.querySelector('#third-step').scrollIntoView();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }, [percentage, updatingData]);\r\n\r\n  useEffect(() => {\r\n    if (addressDeleted) {\r\n      const addressToDelete = localAddresses.find(\r\n        (address) => address._id.toString() === addressDeleted.toString()\r\n      );\r\n      if (addressToDelete) {\r\n        localAddresses.splice(localAddresses.indexOf(addressToDelete), 1);\r\n      }\r\n      dispatch({ type: 'DELETE_ADDRESS_RESET' });\r\n    }\r\n  }, [addressDeleted, dispatch, user, localAddresses]);\r\n\r\n  useEffect(() => {\r\n    user && dispatch(detailsUser(user._id));\r\n    user && dispatch(getUserAddresses());\r\n  }, [dispatch, user]);\r\n\r\n  useEffect(() => {\r\n    (updateLoading ||\r\n      loadingAddresses ||\r\n      loadingDeletingAddresses ||\r\n      loadingDetails ||\r\n      loading ||\r\n      creatingProduct) &&\r\n      setUpdatingData(true);\r\n  }, [\r\n    updateLoading,\r\n    loadingDetails,\r\n    loading,\r\n    creatingProduct,\r\n    loadingAddresses,\r\n    loadingDeletingAddresses,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (product && !draftDeleted) {\r\n      dispatch(deleteProductDrafts(draftId));\r\n    }\r\n  }, [product, dispatch, draftId, newProductError, draftDeleted]);\r\n\r\n  useEffect(() => {\r\n    draftDeleted && props.history.push('/producto-publicado/' + product._id);\r\n  }, [draftDeleted, props, product]);\r\n\r\n  useEffect(() => {\r\n    error && errorAddresses && errorDetails && setLocalError(true);\r\n  }, [error, errorAddresses, errorDetails]);\r\n\r\n  const displayAddresses = () => {\r\n    const addressesForReturn = [];\r\n    localAddresses.map((address, i) =>\r\n      addressesForReturn.push(\r\n        <li\r\n          className={\r\n            'list-relative multiple-selection-btn' +\r\n            (selectedAddress === address._id ? ' selected' : '')\r\n          }\r\n          key={i}\r\n        >\r\n          <div className='list-item padding'>\r\n            <a\r\n              className='nodecoration'\r\n              href='#Select-address'\r\n              onClick={() => {\r\n                dispatch(\r\n                  updateProductDrafts({\r\n                    ...draftValues,\r\n                    address: address._id,\r\n                  })\r\n                );\r\n                dispatch(updateAddress({ ...address, lastUsed: true }));\r\n              }}\r\n            >\r\n              <h4 style={{ margin: 'auto 0' }}>\r\n                {address.street +\r\n                  ' ' +\r\n                  (address.streetNumber ? address.streetNumber : '')}\r\n              </h4>\r\n              <br />\r\n              <span className='subtle-text'>\r\n                {address.city + ', ' + address.province}\r\n              </span>\r\n            </a>\r\n            <br />\r\n            <a\r\n              className='small'\r\n              onClick={() => {\r\n                localStorage.setItem('currentAddress', JSON.stringify(address));\r\n              }}\r\n              href={'/nueva-direccion?draft=' + draftId}\r\n            >\r\n              Modificar\r\n            </a>\r\n            <button\r\n              className='list-delete absolute-right'\r\n              onClick={() => {\r\n                dispatch(deleteAddress(address._id));\r\n                if (address._id === selectedAddress) {\r\n                  setSelectedAddress('');\r\n                  setPercentage(0);\r\n                  dispatch(\r\n                    updateProductDrafts({\r\n                      ...draftValues,\r\n                      address: null,\r\n                    })\r\n                  );\r\n                }\r\n              }}\r\n            >\r\n              <img\r\n                className='small'\r\n                src='https://svgshare.com/i/UJB.svg'\r\n                alt='Boton borrar'\r\n              />\r\n            </button>\r\n          </div>\r\n        </li>\r\n      )\r\n    );\r\n    return addressesForReturn;\r\n  };\r\n  const firstStep = (status) => {\r\n    return errorAddresses ? (\r\n      <MessageBox variant='danger'>\r\n        Ha ocurrido un error encontrando tus direcciones\r\n      </MessageBox>\r\n    ) : (\r\n      <div\r\n        id='first-step'\r\n        className={\r\n          'screen-mini-card medium' + (status === 'disabled' ? ' disabled' : '')\r\n        }\r\n      >\r\n        <div className='screen-mini-card-header-title'>\r\n          <h4>Direccin de la venta</h4>\r\n        </div>\r\n        {details &&\r\n          (localAddresses.length > 0 ? (\r\n            <ul>{displayAddresses()}</ul>\r\n          ) : (\r\n            <div className='screen-mini-card-body padding'>\r\n              <h4>No tens ninguna direccin registrada</h4>\r\n            </div>\r\n          ))}\r\n        <div className='screen-mini-card-footer'>\r\n          <a\r\n            onClick={() => {\r\n              localStorage.removeItem('currentAddress');\r\n            }}\r\n            href={'/nueva-direccion?draft=' + draftId}\r\n          >\r\n            Cargar nueva direccin\r\n          </a>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const secondStep = (status) => {\r\n    return (\r\n      <div\r\n        id='second-step'\r\n        className={\r\n          'screen-mini-card medium' + (status === 'disabled' ? ' disabled' : '')\r\n        }\r\n      >\r\n        <div className='screen-mini-card-header-title'>\r\n          <h4>Cul es el precio?</h4>\r\n        </div>\r\n        <div className='screen-mini-card-body padding'>\r\n          <div className='wrapper sell'>\r\n            <div className='underline-label-input'>\r\n              <input\r\n                placeholder='$'\r\n                type='text'\r\n                maxLength='12'\r\n                className={priceError ? 'error' : ''}\r\n                value={'$ ' + (price > 0 ? formatNumber(price) : '')}\r\n                onChange={(e) => {\r\n                  setPercentage(25);\r\n                  setPrice(\r\n                    e.target.value.split('$ ')[1]\r\n                      ? e.target.value.split('$ ')[1].split('.').join('')\r\n                      : 0\r\n                  );\r\n                  if (e.target.value.length === 2 || e.target.value === '$ ') {\r\n                    setPriceError('El precio mnimo es 1.');\r\n                  } else {\r\n                    setPriceError('');\r\n                  }\r\n                }}\r\n                onKeyDown={(e) => {\r\n                  if (\r\n                    !(\r\n                      (e.keyCode >= 48 && e.keyCode <= 57) ||\r\n                      e.keyCode === 8 ||\r\n                      e.keyCode === 37 ||\r\n                      e.keyCode === 39 ||\r\n                      e.keyCode === 46\r\n                    )\r\n                  )\r\n                    e.preventDefault();\r\n                }}\r\n              ></input>\r\n              <div className={'underline' + (priceError ? ' error' : '')}></div>\r\n              <span\r\n                className={'subtle-text' + (priceError ? ' error' : ' noerror')}\r\n              >\r\n                {priceError && priceError}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {percentage === 25 && maxPercentage >= 25 && (\r\n          <div className='screen-mini-card-footer flex-end'>\r\n            <div\r\n              className={\r\n                'width-100' +\r\n                (desktopScreenCondition ? ' row' : ' column reverse')\r\n              }\r\n            >\r\n              <button\r\n                className={\r\n                  'secondary' + (!desktopScreenCondition ? ' block' : '')\r\n                }\r\n                disabled={price > 0 ? false : true}\r\n                onClick={() => {\r\n                  setPrice(draftValues.price ? draftValues.price : 0);\r\n                  setPercentage(maxPercentage);\r\n                }}\r\n              >\r\n                Cancelar\r\n              </button>\r\n              <button\r\n                className={\r\n                  'primary' +\r\n                  (!desktopScreenCondition ? ' block margin-bottom' : '')\r\n                }\r\n                disabled={price > 0 ? false : true}\r\n                onClick={() => {\r\n                  dispatch(\r\n                    updateProductDrafts({\r\n                      ...draftValues,\r\n                      price,\r\n                    })\r\n                  );\r\n                }}\r\n              >\r\n                Confirmar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const thirdStep = (status) => {\r\n    return (\r\n      <div\r\n        id='third-step'\r\n        className={\r\n          'screen-mini-card medium' + (status === 'disabled' ? ' disabled' : '')\r\n        }\r\n      >\r\n        <div className='screen-mini-card-header-title'>\r\n          <h4>Quers ofrecer retiro en persona?</h4>\r\n        </div>\r\n        <ul>\r\n          <li\r\n            className={\r\n              'list-relative multiple-selection-btn' +\r\n              (noShipping === false ? ' selected' : '')\r\n            }\r\n          >\r\n            <button\r\n              className='list-item padding'\r\n              onClick={() => {\r\n                if (noShipping !== false) {\r\n                  setNoShipping(false);\r\n                  dispatch(\r\n                    updateProductDrafts({\r\n                      ...draftValues,\r\n                      noShipping: false,\r\n                    })\r\n                  );\r\n                }\r\n              }}\r\n            >\r\n              S, ofrezco retiro en persona.\r\n            </button>\r\n          </li>\r\n          <li\r\n            className={\r\n              'list-relative multiple-selection-btn' +\r\n              (noShipping === true ? ' selected' : '')\r\n            }\r\n          >\r\n            <button\r\n              className='list-item padding'\r\n              onClick={() => {\r\n                if (noShipping !== true) {\r\n                  setNoShipping(true);\r\n                  dispatch(\r\n                    updateProductDrafts({\r\n                      ...draftValues,\r\n                      noShipping: true,\r\n                    })\r\n                  );\r\n                }\r\n              }}\r\n            >\r\n              No, solo hago envos.\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const fourthStep = (status) => {\r\n    return (\r\n      <div\r\n        className={\r\n          'screen-mini-card medium' +\r\n          (!descriptionCardOpen ? ' dashed' : '') +\r\n          (status === 'disabled' ? ' disabled' : '')\r\n        }\r\n        onClick={() => setDescriptionCardOpen(true)}\r\n      >\r\n        <div className='screen-mini-card-header-title'>\r\n          <h4>Quers agregar una descripcin?</h4>\r\n          {desktopScreenCondition && (\r\n            <span className='subtle-text no-user-select'>\r\n              {' | (opcional)'}\r\n            </span>\r\n          )}\r\n          {!descriptionCardOpen && (\r\n            <img\r\n              className='absolute-right small mouse-pointer'\r\n              src='https://svgshare.com/i/VnK.svg'\r\n              alt='plus sign'\r\n            ></img>\r\n          )}\r\n        </div>\r\n        {descriptionCardOpen && (\r\n          <>\r\n            <div className='screen-mini-card-body padding column'>\r\n              <div className='message-div blue row'>\r\n                <p className='paragraph-with-icon bold'>\r\n                  <img\r\n                    src='https://svgshare.com/i/UNm.svg'\r\n                    alt='tip'\r\n                    className='absolute-left-top circle badge'\r\n                  />\r\n                  No incluyas datos de contacto, como e-mails, telfonos,\r\n                  direcciones, links ni referencias a sitios externos. Tampoco\r\n                  uses este espacio para indicar la condicin de tu producto.\r\n                  <a href='#verpolitica'> Ver poltica</a>\r\n                </p>\r\n              </div>\r\n              <textarea\r\n                value={description}\r\n                onChange={(e) => {\r\n                  setEditingDescription(true);\r\n                  setDescription(e.target.value);\r\n                }}\r\n                maxLength='50000'\r\n                placeholder='Te falt algo? Agregalo como descripcin.'\r\n              ></textarea>\r\n            </div>\r\n            {editingDescription && (\r\n              <div className='screen-mini-card-footer flex-end'>\r\n                <div\r\n                  className={\r\n                    'width-100' +\r\n                    (desktopScreenCondition ? ' row' : ' column reverse')\r\n                  }\r\n                >\r\n                  <button\r\n                    className={\r\n                      'secondary' + (!desktopScreenCondition ? ' block' : '')\r\n                    }\r\n                    disabled={price > 0 ? false : true}\r\n                    onClick={() => {\r\n                      setEditingDescription(false);\r\n                      setDescription(\r\n                        draftValues.description ? draftValues.description : ''\r\n                      );\r\n                    }}\r\n                  >\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    className={\r\n                      'primary' +\r\n                      (!desktopScreenCondition ? ' block margin-bottom' : '')\r\n                    }\r\n                    disabled={price > 0 ? false : true}\r\n                    onClick={() => {\r\n                      setEditingDescription(false);\r\n                      dispatch(\r\n                        updateProductDrafts({\r\n                          ...draftValues,\r\n                          description,\r\n                        })\r\n                      );\r\n                    }}\r\n                  >\r\n                    Confirmar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const fifthStep = (status) => {\r\n    return (\r\n      <div\r\n        className={\r\n          'screen-mini-card medium' +\r\n          (videoCardOpen ? '' : ' dashed') +\r\n          (status === 'disabled' ? ' disabled' : '')\r\n        }\r\n        onClick={() => setVideoCardOpen(true)}\r\n      >\r\n        <div className='screen-mini-card-header-title'>\r\n          <h4>Quers agregar un video?</h4>\r\n          {desktopScreenCondition && (\r\n            <span className='subtle-text no-user-select'>\r\n              {' | (opcional)'}\r\n            </span>\r\n          )}\r\n          {!videoCardOpen && (\r\n            <img\r\n              className='absolute-right small mouse-pointer'\r\n              src='https://svgshare.com/i/VnK.svg'\r\n              alt='plus sign'\r\n            ></img>\r\n          )}\r\n        </div>\r\n        {videoCardOpen && (\r\n          <>\r\n            <div className='screen-mini-card-body padding column'>\r\n              <div className='wrapper width-100 margin-bottom'>\r\n                <div className='underline-label-input'>\r\n                  <input\r\n                    placeholder='Ej.: https://www.youtube.com/watch?v=K7sFmiFfl0g'\r\n                    type='text'\r\n                    className={videoError ? 'error' : ''}\r\n                    value={video}\r\n                    maxLength='120'\r\n                    onChange={(e) => {\r\n                      setEditingVideo(true);\r\n                      setVideo(e.target.value);\r\n                      var videoId = e.target.value.split(\r\n                        'youtube.com/watch?v='\r\n                      )[1];\r\n                      if (\r\n                        videoId &&\r\n                        (videoId.substring(11, 12).includes('?') ||\r\n                          videoId.substring(11, 12).includes('&') ||\r\n                          videoId.length === 11)\r\n                      ) {\r\n                        setVideoError('');\r\n                        validateVideoId(\r\n                          videoId.substring(0, 11),\r\n                          setValidVideoId,\r\n                          setVideoError\r\n                        );\r\n                      } else {\r\n                        setVideoError(\r\n                          'Solo pods agregar links a videos de YouTube.'\r\n                        );\r\n                        setValidVideoId('');\r\n                      }\r\n                    }}\r\n                  ></input>\r\n                  <div\r\n                    className={'underline' + (videoError ? ' error' : '')}\r\n                  ></div>\r\n                  <span\r\n                    className={\r\n                      'subtle-text' + (videoError ? ' error' : ' noerror')\r\n                    }\r\n                  >\r\n                    {videoError && videoError}\r\n                  </span>\r\n                  {!videoError && (\r\n                    <span className='reg-info-after'>\r\n                      Peg ac el link de YouTube.\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              {validVideoId !== '' && (\r\n                <div\r\n                  style={{\r\n                    maxWidth: '100%',\r\n                    maxHeight: '28rem',\r\n                    width: '80vw',\r\n                    height: '45vw',\r\n                    margin: '0 auto',\r\n                    boxSizing: 'border-box',\r\n                  }}\r\n                >\r\n                  <iframe\r\n                    className='margin-top'\r\n                    title='Video seleccionado'\r\n                    src={'https://www.youtube.com/embed/' + validVideoId}\r\n                    allow='autoplay; encrypted-media'\r\n                    frameBorder='0'\r\n                    height='100%'\r\n                    width='100%'\r\n                  ></iframe>\r\n                </div>\r\n              )}\r\n            </div>\r\n            {editingVideo && (\r\n              <div className='screen-mini-card-footer flex-end'>\r\n                <div\r\n                  className={\r\n                    'width-100' +\r\n                    (desktopScreenCondition ? ' row' : ' column reverse')\r\n                  }\r\n                >\r\n                  <button\r\n                    className={\r\n                      'secondary' + (!desktopScreenCondition ? ' block' : '')\r\n                    }\r\n                    disabled={price > 0 ? false : true}\r\n                    onClick={() => {\r\n                      setVideo(draftValues.video ? draftValues.video : '');\r\n                      setPercentage(maxPercentage);\r\n                      setVideoError('');\r\n                      setEditingVideo(false);\r\n                    }}\r\n                  >\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    className={\r\n                      'primary' +\r\n                      (!desktopScreenCondition ? ' block margin-bottom' : '')\r\n                    }\r\n                    disabled={validVideoId ? false : true}\r\n                    onClick={() => {\r\n                      dispatch(\r\n                        updateProductDrafts({\r\n                          ...draftValues,\r\n                          video:\r\n                            'https://www.youtube.com/embed/' + validVideoId,\r\n                        })\r\n                      );\r\n                      setEditingVideo(false);\r\n                    }}\r\n                  >\r\n                    Confirmar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const postBtn = (status) => {\r\n    const allPostErrors = !errorDeletingDraft && !newProductError;\r\n    return (\r\n      <div\r\n        className={\r\n          'width-100' +\r\n          (allPostErrors ? ' flex-end' : '') +\r\n          (status === 'disabled' ? ' disabled' : '')\r\n        }\r\n      >\r\n        {allPostErrors ? (\r\n          <button\r\n            className={\r\n              'primary' +\r\n              (!desktopScreenCondition ? ' block margin-left margin-right' : '')\r\n            }\r\n            onClick={() => {\r\n              dispatch(createNewProduct(draftValues));\r\n            }}\r\n            disabled={updatingData || creatingProduct}\r\n          >\r\n            Publicar\r\n          </button>\r\n        ) : (\r\n          <MessageBox variant='danger'>\r\n            Ha ocurrido un error, por favor recargue la pagina para volver a\r\n            intentarlo.\r\n          </MessageBox>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n      <div className='extra-header new-product'></div>\r\n      {!draftId || (details && draftValues === undefined) ? (\r\n        <Redirect to='vender/producto'></Redirect>\r\n      ) : (\r\n        draftValues &&\r\n        (!(draftValues.images.length > 0 && draftValues.stock > 0) ? (\r\n          <Redirect to={'vender/producto?draft=' + draftId}></Redirect>\r\n        ) : localError ? (\r\n          <MessageBox>Ha habido un error</MessageBox>\r\n        ) : (\r\n          <>\r\n            <div className='new-product-steps'>\r\n              <span>\r\n                <span className='step-number'>2</span>\r\n                Condiciones de venta\r\n              </span>\r\n              <div\r\n                className='progress-bar'\r\n                style={{ width: percentage + '%' }}\r\n              ></div>\r\n            </div>\r\n            <div className='width-100 flex-center margin-top'>\r\n              <div className='column flex-start'>\r\n                <a\r\n                  className={\r\n                    'margin-bottom' +\r\n                    (!desktopScreenCondition ? ' margin-left' : '')\r\n                  }\r\n                  href={'/vender/producto?draft=' + draftId}\r\n                  style={{ zIndex: '103' }}\r\n                >\r\n                  {'<  Anterior'}\r\n                </a>\r\n                <div\r\n                  className='row width-100'\r\n                  style={{ zIndex: '103', marginBottom: '6rem' }}\r\n                >\r\n                  <div>\r\n                    <span\r\n                      className={\r\n                        'subtle-text' +\r\n                        (!desktopScreenCondition ? ' margin-left' : '')\r\n                      }\r\n                    >\r\n                      Paso 2 de 2\r\n                    </span>\r\n                    <h1 style={{ fontSize: '2.5rem' }}>\r\n                      Para terminar,\r\n                      <br /> definamos las condiciones de venta\r\n                    </h1>\r\n                  </div>\r\n                  {desktopScreenCondition && (\r\n                    <img\r\n                      src='https://http2.mlstatic.com/secure/sell/images/notebook-v2.svg'\r\n                      alt='arte de zapato'\r\n                    ></img>\r\n                  )}\r\n                </div>\r\n                {updatingData ? (\r\n                  firstStep('disabled')\r\n                ) : updateError ? (\r\n                  <MessageBox variant='danger'>{updateError}</MessageBox>\r\n                ) : (\r\n                  firstStep()\r\n                )}\r\n                {updatingData && percentage >= 25 ? (\r\n                  secondStep('disabled')\r\n                ) : percentage === 25 && updateError ? (\r\n                  <MessageBox variant='danger'>{updateError}</MessageBox>\r\n                ) : percentage >= 25 ? (\r\n                  secondStep()\r\n                ) : (\r\n                  maxPercentage >= 25 && secondStep('disabled')\r\n                )}\r\n                {updatingData && percentage >= 50 ? (\r\n                  thirdStep('disabled')\r\n                ) : percentage === 50 && updateError ? (\r\n                  <MessageBox variant='danger'>{updateError}</MessageBox>\r\n                ) : percentage >= 50 ? (\r\n                  thirdStep()\r\n                ) : (\r\n                  maxPercentage >= 50 && thirdStep('disabled')\r\n                )}\r\n                {updatingData && percentage >= 75 ? (\r\n                  fourthStep('disabled')\r\n                ) : percentage === 75 && updateError ? (\r\n                  <MessageBox variant='danger'>{updateError}</MessageBox>\r\n                ) : percentage >= 75 ? (\r\n                  fourthStep()\r\n                ) : (\r\n                  maxPercentage >= 75 && fourthStep('disabled')\r\n                )}\r\n                {updatingData && percentage >= 75 ? (\r\n                  fifthStep('disabled')\r\n                ) : percentage === 75 && updateError ? (\r\n                  <MessageBox variant='danger'>{updateError}</MessageBox>\r\n                ) : percentage >= 75 ? (\r\n                  fifthStep()\r\n                ) : (\r\n                  maxPercentage >= 75 && fifthStep('disabled')\r\n                )}\r\n                {percentage >= 75 &&\r\n                  (!editingDescription && !editingVideo\r\n                    ? postBtn()\r\n                    : postBtn('disabled'))}\r\n              </div>\r\n            </div>\r\n          </>\r\n        ))\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PostScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { newAddress, updateAddress } from '../Actions/addressActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\n\r\nconst AddressScreen = (props) => {\r\n  document.body.style.backgroundColor = '#f7f7f7';\r\n  const addressNew = useSelector((state) => state.addressNew);\r\n  const { loading, error } = addressNew;\r\n  const addressUpdate = useSelector((state) => state.addressUpdate);\r\n  const { loading: loadingUpdate, error: errorUpdate } = addressUpdate;\r\n  const currentAddress = localStorage.getItem('currentAddress')\r\n    ? JSON.parse(localStorage.getItem('currentAddress'))\r\n    : null;\r\n  const [postalCode, setPostalCode] = useState(\r\n    currentAddress ? currentAddress.postalCode : null\r\n  );\r\n  const [street, setStreet] = useState(\r\n    currentAddress ? currentAddress.street : null\r\n  );\r\n  const [streetNumber, setStreetNumber] = useState(\r\n    currentAddress ? currentAddress.streetNumber : null\r\n  );\r\n  const [additionalInformation, setAdditionalInformation] = useState(\r\n    currentAddress ? currentAddress.additionalInformation : null\r\n  );\r\n  const [betweenStreets, setBetweenStreets] = useState(\r\n    currentAddress ? currentAddress.betweenStreets : null\r\n  );\r\n  const [reference, setReference] = useState(\r\n    currentAddress ? currentAddress.reference : null\r\n  );\r\n  const [province, setProvince] = useState(\r\n    currentAddress ? currentAddress.province : null\r\n  );\r\n  const [city, setCity] = useState(currentAddress ? currentAddress.city : null);\r\n\r\n  const [noNumberCheck, setNoNumberCheck] = useState(false);\r\n  const [isSubmited, setIsSubmited] = useState(false);\r\n  const [disableBtn, setDisableBtn] = useState(true);\r\n\r\n  const dispatch = useDispatch();\r\n  const urlParams = new URLSearchParams(props.location.search);\r\n  const draftId = urlParams.get('draft');\r\n\r\n  useEffect(() => {\r\n    if (currentAddress && currentAddress.streetNumber === null) {\r\n      setNoNumberCheck(true);\r\n      document\r\n        .querySelector('#no-number-check')\r\n        .setAttribute('checked', 'true');\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (loading || loadingUpdate) {\r\n      setDisableBtn(true);\r\n    }\r\n  }, [loading, loadingUpdate]);\r\n\r\n  useEffect(() => {\r\n    const numberInput = document.querySelector('#numero');\r\n    if (noNumberCheck && numberInput) {\r\n      numberInput.setAttribute('readonly', 'true');\r\n      numberInput.setAttribute('class', 'subtle-text bigger-font');\r\n    } else {\r\n      numberInput.removeAttribute('readonly');\r\n      numberInput.removeAttribute('class');\r\n    }\r\n  }, [noNumberCheck]);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      isSubmited === true &&\r\n      ((!loading && !error) || (!loadingUpdate && !errorUpdate))\r\n    ) {\r\n      if (draftId) {\r\n        window.location.href = 'publicar?draft=' + draftId;\r\n      }\r\n      const checkout = localStorage.getItem('localCheckout')\r\n        ? JSON.parse(localStorage.getItem('localCheckout'))\r\n        : null;\r\n      if (checkout && checkout.editingAddress) {\r\n        localStorage.setItem(\r\n          'localCheckout',\r\n          JSON.stringify({ ...checkout, editingAddress: false })\r\n        );\r\n        window.location.href = '/checkout/shipping/addressHub';\r\n      }\r\n      if (!draftId && !checkout) {\r\n        window.location.href = '/mis-datos';\r\n      }\r\n    }\r\n  }, [isSubmited, loading, error, draftId, props, loadingUpdate, errorUpdate]);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      postalCode &&\r\n      postalCode.length === 4 &&\r\n      street &&\r\n      province &&\r\n      city &&\r\n      (noNumberCheck ? reference : streetNumber)\r\n    ) {\r\n      setDisableBtn(false);\r\n    } else {\r\n      setDisableBtn(true);\r\n    }\r\n  }, [\r\n    postalCode,\r\n    street,\r\n    streetNumber,\r\n    province,\r\n    city,\r\n    reference,\r\n    noNumberCheck,\r\n  ]);\r\n\r\n  const handleSubmit = () => {\r\n    const dispatchAddress = {\r\n      _id: currentAddress ? currentAddress._id : null,\r\n      postalCode,\r\n      street,\r\n      streetNumber: noNumberCheck ? null : streetNumber,\r\n      additionalInformation,\r\n      betweenStreets,\r\n      reference,\r\n      province,\r\n      city,\r\n    };\r\n    if (currentAddress) {\r\n      dispatch(updateAddress(dispatchAddress));\r\n    } else {\r\n      dispatch(newAddress(dispatchAddress));\r\n    }\r\n    setIsSubmited(true);\r\n  };\r\n\r\n  return (\r\n    <div className='big-form-block'>\r\n      <div className='register-header row'>\r\n        <h2>{currentAddress ? 'Editando domicilio' : 'Nuevo domicilio'}</h2>\r\n      </div>\r\n      <form\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          handleSubmit();\r\n        }}\r\n      >\r\n        <div className='screen-card big-form-screen'>\r\n          <div className='wrapper'>\r\n            <div className='underline-label-input big-form'>\r\n              <input\r\n                type='text'\r\n                onChange={(e) => {\r\n                  setPostalCode(e.target.value);\r\n                }}\r\n                maxLength='4'\r\n                onKeyDown={(e) => {\r\n                  if (\r\n                    !(\r\n                      (e.keyCode >= 48 && e.keyCode <= 57) ||\r\n                      e.keyCode === 8 ||\r\n                      e.keyCode === 37 ||\r\n                      e.keyCode === 39 ||\r\n                      e.keyCode === 67 ||\r\n                      e.keyCode === 88 ||\r\n                      e.keyCode === 86 ||\r\n                      e.keyCode === 17 ||\r\n                      e.keyCode === 9 ||\r\n                      e.keyCode === 46\r\n                    )\r\n                  )\r\n                    e.preventDefault();\r\n                }}\r\n                value={postalCode ? postalCode : ''}\r\n              ></input>\r\n              <div className='underline'></div>\r\n              <label>Codigo postal *</label>\r\n              <span className='reg-info-after'>\r\n                Tu codigo postal debe tener 4 caracteres.\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className='wrapper'>\r\n            <div className='underline-label-input big-form'>\r\n              <input\r\n                type='text'\r\n                onChange={(e) => {\r\n                  setStreet(e.target.value);\r\n                }}\r\n                maxLength='40'\r\n                value={street ? street : ''}\r\n              ></input>\r\n              <div className='underline'></div>\r\n              <label>Calle *</label>\r\n            </div>\r\n          </div>\r\n          <div className='wrapper'>\r\n            <div className='underline-label-input big-form'>\r\n              <input\r\n                id='numero'\r\n                type={noNumberCheck ? 'text' : 'number'}\r\n                onChange={(e) => {\r\n                  setStreetNumber(e.target.value);\r\n                }}\r\n                onKeyDown={(e) => {\r\n                  if (\r\n                    !(\r\n                      (e.keyCode >= 48 && e.keyCode <= 57) ||\r\n                      e.keyCode === 8 ||\r\n                      e.keyCode === 37 ||\r\n                      e.keyCode === 39 ||\r\n                      e.keyCode === 67 ||\r\n                      e.keyCode === 88 ||\r\n                      e.keyCode === 86 ||\r\n                      e.keyCode === 9 ||\r\n                      e.keyCode === 17 ||\r\n                      e.keyCode === 46\r\n                    )\r\n                  )\r\n                    e.preventDefault();\r\n                }}\r\n                maxLength='6'\r\n                value={\r\n                  noNumberCheck\r\n                    ? 'Sin nmero'\r\n                    : streetNumber\r\n                    ? streetNumber\r\n                    : ''\r\n                }\r\n              ></input>\r\n              <div className='underline'></div>\r\n              <label>Nmero *</label>\r\n            </div>\r\n            <div\r\n              className='row flex-start relative'\r\n              style={{ top: '.5rem', left: '-.5rem' }}\r\n            >\r\n              <input\r\n                id='no-number-check'\r\n                type='checkbox'\r\n                onClick={(e) => {\r\n                  if (e.target.checked) {\r\n                    setNoNumberCheck(true);\r\n                  } else {\r\n                    setNoNumberCheck(false);\r\n                  }\r\n                }}\r\n              ></input>\r\n              <label\r\n                htmlFor='no-number-check'\r\n                className='subtle-text no-user-select'\r\n              >\r\n                Sin nmero\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div className='wrapper relative'>\r\n            <div className='underline-label-input big-form'>\r\n              <input\r\n                type='text'\r\n                onChange={(e) => {\r\n                  setAdditionalInformation(e.target.value);\r\n                }}\r\n                maxLength='60'\r\n                value={additionalInformation ? additionalInformation : ''}\r\n              ></input>\r\n              <div className='underline'></div>\r\n              <label>Informacin adicional</label>\r\n              <span className='reg-info-after'>\r\n                Ej.: Piso 8, Departamento 6.\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className='wrapper'>\r\n            <div className='underline-label-input big-form'>\r\n              <input\r\n                type='text'\r\n                onChange={(e) => {\r\n                  setBetweenStreets(e.target.value);\r\n                }}\r\n                maxLength='30'\r\n                value={betweenStreets ? betweenStreets : ''}\r\n              ></input>\r\n              <div className='underline'></div>\r\n              <label>Entre calles</label>\r\n            </div>\r\n          </div>\r\n          <div className='wrapper'>\r\n            <div className='underline-label-input big-form'>\r\n              <input\r\n                type='text'\r\n                onChange={(e) => {\r\n                  setReference(e.target.value);\r\n                }}\r\n                maxLength='60'\r\n                value={reference ? reference : ''}\r\n              ></input>\r\n              <div className='underline'></div>\r\n              <label>Referencia{noNumberCheck && ' *'}</label>\r\n              <span className='reg-info-after big-form'>\r\n                Indicaciones para encontrar tu domicilio.\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className='wrapper'>\r\n            <div className='underline-label-input big-form'>\r\n              <input\r\n                type='text'\r\n                onChange={(e) => {\r\n                  setProvince(e.target.value);\r\n                }}\r\n                maxLength='40'\r\n                value={province ? province : ''}\r\n              ></input>\r\n              <div className='underline'></div>\r\n              <label>Provincia *</label>\r\n            </div>\r\n          </div>\r\n          <div className='wrapper'>\r\n            <div className='underline-label-input big-form'>\r\n              <input\r\n                type='text'\r\n                onChange={(e) => {\r\n                  setCity(e.target.value);\r\n                }}\r\n                maxLength='40'\r\n                value={city ? city : ''}\r\n              ></input>\r\n              <div className='underline'></div>\r\n              <label>Ciudad *</label>\r\n            </div>\r\n          </div>\r\n        </div>{' '}\r\n        <button\r\n          type='submit'\r\n          className={\r\n            'margin-top primary big-form' + (isSubmited ? ' no-padding' : '')\r\n          }\r\n          id='submitbtn'\r\n          disabled={disableBtn}\r\n        >\r\n          {isSubmited ? <LoadingCircle color='white' /> : 'Guardar'}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddressScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  detailsUser,\r\n  loginUserWithCode,\r\n  updateUser,\r\n} from '../Actions/userActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport MessageBox from '../Components/MessageBox';\r\n\r\nconst ChangePasswordScreen = (props) => {\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const { loading, user, error } = userDetails;\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const {\r\n    user: loggedUser,\r\n    error: loginError,\r\n    loading: loadingUser,\r\n  } = userLogin;\r\n  const userUpdate = useSelector((state) => state.userUpdate);\r\n  const {\r\n    user: userUpdated,\r\n    error: updateError,\r\n    loading: loadingUserUpdate,\r\n  } = userUpdate;\r\n\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [confirmPasswordError, setConfirmPasswordError] = useState('');\r\n  const [isSubmited, setIsSubmited] = useState(false);\r\n  const [localError, setLocalError] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const userId = localStorage.getItem('userCheckNameInfo')\r\n      ? JSON.parse(localStorage.getItem('userCheckNameInfo'))\r\n      : null;\r\n    if (userId) {\r\n      dispatch(detailsUser(userId._id));\r\n    } else {\r\n      setLocalError(true);\r\n    }\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    (error || loginError || updateError) && setLocalError(true);\r\n    updateError && localStorage.removeItem('userInfo');\r\n  }, [error, loginError, updateError]);\r\n\r\n  useEffect(() => {\r\n    if (userUpdated) window.location.href = '/';\r\n  }, [userUpdated, props]);\r\n\r\n  useEffect(() => {\r\n    !loadingUser &&\r\n      !userUpdated &&\r\n      isSubmited &&\r\n      dispatch(updateUser({ password }, true));\r\n  }, [loggedUser, dispatch, password, userUpdated, isSubmited, loadingUser]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (password === confirmPassword) {\r\n      dispatch(\r\n        loginUserWithCode(user._id, process.env.REACT_APP_CHANGE_PSW_CODE)\r\n      );\r\n      setIsSubmited(true);\r\n    } else {\r\n      setConfirmPasswordError('Las claves deben ser iguales');\r\n    }\r\n  };\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      {localError ? (\r\n        <MessageBox variant='danger'>\r\n          Ha ocurrido un error, por favor comienza de nuevo el proceso para\r\n          cambiar la clave.\r\n        </MessageBox>\r\n      ) : loading ? (\r\n        <LoadingCircle color='blue' />\r\n      ) : (\r\n        <form onSubmit={submitHandler} style={{ marginTop: '8rem' }}>\r\n          <div className='screen-mini-card medium'>\r\n            <div className='screen-mini-card-header'>\r\n              <h2>Cambia tu clave</h2>\r\n            </div>\r\n            <div className='screen-card big-form-screen'>\r\n              <div className='wrapper'>\r\n                <div className='underline-label-input big-form'>\r\n                  <input\r\n                    value={password}\r\n                    type='password'\r\n                    maxLength='20'\r\n                    onChange={(e) => {\r\n                      setPassword(e.target.value);\r\n                      setConfirmPasswordError('');\r\n                    }}\r\n                  ></input>\r\n                  <div></div>\r\n                  <label>Clave</label>\r\n                  <i\r\n                    className='fas fa-check fa-xs'\r\n                    id='check'\r\n                    style={{ opacity: '0' }}\r\n                  ></i>\r\n                  <i className='far fa-question-circle'></i>\r\n                  <div className='reg-help subtle-text'>\r\n                    Tu clave debe tener entre 6 y 20 caracteres. No incluyas tu\r\n                    nombre, apellido o e-mail, ni caracteres idnticos\r\n                    consecutivos.\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className='wrapper'>\r\n                <div className='underline-label-input big-form'>\r\n                  <input\r\n                    value={confirmPassword}\r\n                    type='password'\r\n                    maxLength='20'\r\n                    onChange={(e) => {\r\n                      setConfirmPassword(e.target.value);\r\n                      setConfirmPasswordError('');\r\n                    }}\r\n                  ></input>\r\n                  <div\r\n                    className={\r\n                      'underline' + (confirmPasswordError ? ' error' : '')\r\n                    }\r\n                  ></div>\r\n                  <label>Confirmar clave</label>\r\n                  <span\r\n                    className={\r\n                      'reg-info-after' + (confirmPasswordError ? ' error' : '')\r\n                    }\r\n                  >\r\n                    {confirmPasswordError}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <button\r\n            type='submit'\r\n            className={\r\n              'primary big-form' +\r\n              (loadingUserUpdate || loading || loadingUser ? ' no-padding' : '')\r\n            }\r\n            id='submitbtn'\r\n            disabled={\r\n              password.length < 6 || loadingUserUpdate || loading || loadingUser\r\n            }\r\n          >\r\n            {loadingUserUpdate || loading || loadingUser ? (\r\n              <LoadingCircle color='white' />\r\n            ) : (\r\n              'Confirmar'\r\n            )}\r\n          </button>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangePasswordScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listCategories } from '../Actions/categoryActions';\r\nimport { customListProducts } from '../Actions/productActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport Product from '../Components/Product';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\n\r\nconst SearchScreen = (props) => {\r\n  const urlParams = new URLSearchParams(props.location.search);\r\n  const categoryParam = urlParams.get('categoria');\r\n  const searchParam = urlParams.get('busqueda');\r\n  const stateParam = urlParams.get('estado');\r\n  const shippingParam = urlParams.get('con-envio');\r\n  const minimumParam = urlParams.get('minimo');\r\n  const maximumParam = urlParams.get('maximo');\r\n  const dispatch = useDispatch();\r\n  const customProductList = useSelector((state) => state.customProductList);\r\n  const { loading, error, products } = customProductList;\r\n  const categoryList = useSelector((state) => state.categoryList);\r\n  const {\r\n    loading: categoryLoading,\r\n    error: categoryError,\r\n    categories,\r\n  } = categoryList;\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user, error: userError, loading: userLoading } = userLogin;\r\n  const [selectedFilter, setSelectedFilter] = useState(0);\r\n  const [filterBtnClicked, setFilterBtnClicked] = useState(false);\r\n  const [minimum, setMinimum] = useState(minimumParam ? minimumParam : 0);\r\n  const [maximum, setMaximum] = useState(maximumParam ? maximumParam : 0);\r\n  const [phoneFilters, setPhoneFilters] = useState(false);\r\n  useEffect(() => {\r\n    dispatch(\r\n      customListProducts({\r\n        search: searchParam !== '' ? searchParam : null,\r\n        category: categoryParam,\r\n        isStateNew:\r\n          stateParam === 'nuevo' ? true : stateParam === 'usado' ? false : null,\r\n        noShipping: shippingParam === 'true' ? false : null,\r\n        minimum: parseInt(minimumParam) ? minimumParam : null,\r\n        maximum: parseInt(maximumParam) ? maximumParam : null,\r\n      })\r\n    );\r\n    dispatch(listCategories());\r\n  }, [\r\n    dispatch,\r\n    searchParam,\r\n    categoryParam,\r\n    maximumParam,\r\n    minimumParam,\r\n    shippingParam,\r\n    stateParam,\r\n  ]);\r\n\r\n  const filters = () => (\r\n    <div\r\n      className={\r\n        desktopScreenCondition ? 'search-sidebar' : 'search-phone-filters'\r\n      }\r\n    >\r\n      {!desktopScreenCondition && (\r\n        <i\r\n          onClick={() => setPhoneFilters(false)}\r\n          className='fa fa-times absolute-left-top'\r\n        ></i>\r\n      )}\r\n      {categories.find((cat) => cat._id.toString() === categoryParam) && (\r\n        <div>\r\n          <a href={'/productos?categoria=' + categoryParam}>\r\n            {\r\n              categories.find((cat) => cat._id.toString() === categoryParam)\r\n                .name\r\n            }\r\n          </a>\r\n        </div>\r\n      )}\r\n\r\n      {products && desktopScreenCondition && (\r\n        <div className='search-sidebar-header'>\r\n          <h1 className='no-margin'>\r\n            {searchParam &&\r\n              searchParam.charAt(0).toUpperCase() + searchParam.slice(1)}\r\n          </h1>\r\n          <h4 className='subtle-text'>{products.length + ' resultados'}</h4>\r\n        </div>\r\n      )}\r\n      <div className='switch-shipping-container'>\r\n        <span className='switch-shipping-label bold'>Con envio</span>\r\n        <div className='switch-container'>\r\n          <span\r\n            onClick={() => {\r\n              window.location.href =\r\n                '/productos?busqueda=' +\r\n                (searchParam ? searchParam : '') +\r\n                (categoryParam ? '&categoria=' + categoryParam : '') +\r\n                (stateParam ? '&estado=' + !stateParam : '') +\r\n                (shippingParam !== 'true' ? '&con-envio=true' : '') +\r\n                (minimumParam ? '&minimo=' + minimumParam : '') +\r\n                (maximumParam ? '&maximo=' + maximumParam : '');\r\n            }}\r\n            className={'switch' + (shippingParam === 'true' ? ' on' : '')}\r\n          ></span>\r\n        </div>\r\n      </div>\r\n      <div className='price-div'>\r\n        <h3\r\n          className='bold width-100'\r\n          onClick={() => {\r\n            document\r\n              .querySelector('#price-filter')\r\n              .classList.toggle('filter-closed');\r\n            document\r\n              .querySelector('#state-filter')\r\n              .classList.add('filter-closed');\r\n            document\r\n              .querySelector('#category-filter')\r\n              .classList.add('filter-closed');\r\n          }}\r\n        >\r\n          Precio\r\n        </h3>\r\n        <div\r\n          id='price-filter'\r\n          className={\r\n            'inputs' + (!desktopScreenCondition ? ' filter-closed' : '')\r\n          }\r\n        >\r\n          <input\r\n            type='number'\r\n            placeholder='Mnimo'\r\n            value={minimum > 0 ? minimum : ''}\r\n            onKeyDown={(e) => {\r\n              if (e.keyCode === 13 && minimum > 0) {\r\n                window.location.href =\r\n                  '/productos?busqueda=' +\r\n                  (searchParam ? searchParam : '') +\r\n                  (categoryParam ? '&categoria=' + categoryParam : '') +\r\n                  (stateParam ? '&estado=' + !stateParam : '') +\r\n                  (shippingParam ? '&con-envio=' + shippingParam : '') +\r\n                  (minimum > 0 ? '&minimo=' + minimum : '') +\r\n                  (maximum > 0 ? '&maximo=' + maximum : '');\r\n              } else if (e.keyCode === 189 || e.keyCode === 190) {\r\n                e.preventDefault();\r\n              }\r\n            }}\r\n            onChange={(e) => setMinimum(e.target.value)}\r\n          ></input>\r\n          <input\r\n            type='number'\r\n            placeholder='Mximo'\r\n            value={maximum > 0 ? maximum : ''}\r\n            onChange={(e) => setMaximum(e.target.value)}\r\n            onKeyDown={(e) => {\r\n              if (e.keyCode === 13 && maximum > 0) {\r\n                window.location.href =\r\n                  '/productos?busqueda=' +\r\n                  (searchParam ? searchParam : '') +\r\n                  (categoryParam ? '&categoria=' + categoryParam : '') +\r\n                  (stateParam ? '&estado=' + !stateParam : '') +\r\n                  (shippingParam ? '&con-envio=' + shippingParam : '') +\r\n                  (minimum > 0 ? '&minimo=' + minimum : '') +\r\n                  (maximum > 0 ? '&maximo=' + maximum : '');\r\n              } else if (e.keyCode === 189 || e.keyCode === 190) {\r\n                e.preventDefault();\r\n              }\r\n            }}\r\n          ></input>\r\n          <button\r\n            disabled={!minimum && !maximum}\r\n            type='button'\r\n            className='arrow-btn'\r\n            onClick={() => {\r\n              window.location.href =\r\n                '/productos?busqueda=' +\r\n                (searchParam ? searchParam : '') +\r\n                (categoryParam ? '&categoria=' + categoryParam : '') +\r\n                (stateParam ? '&estado=' + !stateParam : '') +\r\n                (shippingParam ? '&con-envio=' + shippingParam : '') +\r\n                (minimum > 0 ? '&minimo=' + minimum : '') +\r\n                (maximum > 0 ? '&maximo=' + maximum : '');\r\n            }}\r\n          >\r\n            <i className='fa fa-caret-right' aria-hidden='true'></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className='state-div'>\r\n        <h3\r\n          onClick={() => {\r\n            document\r\n              .querySelector('#state-filter')\r\n              .classList.toggle('filter-closed');\r\n            document\r\n              .querySelector('#price-filter')\r\n              .classList.add('filter-closed');\r\n            document\r\n              .querySelector('#category-filter')\r\n              .classList.add('filter-closed');\r\n          }}\r\n        >\r\n          Estado\r\n        </h3>\r\n        <ul\r\n          id='state-filter'\r\n          className={!desktopScreenCondition ? ' filter-closed' : ''}\r\n        >\r\n          <li key={0}>\r\n            <a\r\n              href={\r\n                '/productos?busqueda=' +\r\n                (searchParam ? searchParam : '') +\r\n                (categoryParam ? '&categoria=' + categoryParam : '') +\r\n                (stateParam !== 'nuevo' ? '&estado=nuevo' : '') +\r\n                (shippingParam ? '&con-envio=' + shippingParam : '') +\r\n                (minimumParam ? '&minimo=' + minimum : '') +\r\n                (maximumParam ? '&maximo=' + maximum : '')\r\n              }\r\n              className={\r\n                'subtle-text' + (stateParam === 'nuevo' ? ' bold' : '')\r\n              }\r\n            >\r\n              Nuevo\r\n            </a>\r\n          </li>\r\n          <li key={1}>\r\n            <a\r\n              href={\r\n                '/productos?busqueda=' +\r\n                (searchParam ? searchParam : '') +\r\n                (categoryParam ? '&categoria=' + categoryParam : '') +\r\n                (stateParam !== 'usado' ? '&estado=usado' : '') +\r\n                (shippingParam ? '&con-envio=' + shippingParam : '') +\r\n                (minimumParam ? '&minimo=' + minimum : '') +\r\n                (maximumParam ? '&maximo=' + maximum : '')\r\n              }\r\n              className={\r\n                'subtle-text' + (stateParam === 'usado' ? ' bold' : '')\r\n              }\r\n            >\r\n              Usado\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div className='category-div margin-top'>\r\n        <h3\r\n          onClick={() => {\r\n            document\r\n              .querySelector('#category-filter')\r\n              .classList.toggle('filter-closed');\r\n            document\r\n              .querySelector('#price-filter')\r\n              .classList.add('filter-closed');\r\n            document\r\n              .querySelector('#state-filter')\r\n              .classList.add('filter-closed');\r\n          }}\r\n        >\r\n          Categoras\r\n        </h3>\r\n        <ul\r\n          id='category-filter'\r\n          className={!desktopScreenCondition ? ' filter-closed' : ''}\r\n        >\r\n          {categories.map((cat) => (\r\n            <li key={cat._id}>\r\n              <a\r\n                href={\r\n                  '/productos?busqueda=' +\r\n                  (searchParam ? searchParam : '') +\r\n                  (categoryParam !== cat._id ? '&categoria=' + cat._id : '') +\r\n                  (stateParam ? '&estado=' + stateParam : '') +\r\n                  (shippingParam ? '&con-envio=' + shippingParam : '') +\r\n                  (minimumParam ? '&minimo=' + minimum : '') +\r\n                  (maximumParam ? '&maximo=' + maximum : '')\r\n                }\r\n                className={\r\n                  'subtle-text' + (categoryParam === cat._id ? ' bold' : '')\r\n                }\r\n              >\r\n                {cat.name}\r\n              </a>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className='search-screen'>\r\n      {error || categoryError || userError ? (\r\n        <MessageBox variant='danger'>\r\n          Ha ocurrido un error, intentalo mas tarde\r\n        </MessageBox>\r\n      ) : categoryLoading || userLoading || loading ? (\r\n        <LoadingCircle color='blue' />\r\n      ) : categories && user && products && products.length > 0 ? (\r\n        <div className='search-ui'>\r\n          {phoneFilters && filters()}\r\n          {desktopScreenCondition && filters()}\r\n          <section className='search-results'>\r\n            <div className='search-topbar flex-end'>\r\n              <button\r\n                onClick={() => {\r\n                  setPhoneFilters(true);\r\n                }}\r\n              >\r\n                Filtros\r\n              </button>\r\n              <span className='styled-dropdown margin-right'>\r\n                <button\r\n                  className='styled-dropdown-btn'\r\n                  onClick={() => setFilterBtnClicked(!filterBtnClicked)}\r\n                >\r\n                  <span>\r\n                    {desktopScreenCondition && <b>Ordenar por: </b>}\r\n                    {selectedFilter === 0 ? 'Menor precio' : 'Mayor precio'}\r\n                  </span>\r\n\r\n                  <span>\r\n                    <i\r\n                      style={{ marginLeft: '.5rem' }}\r\n                      className={\r\n                        'fa fa-caret-down style-list-caret blue' +\r\n                        (filterBtnClicked ? ' selected' : '')\r\n                      }\r\n                    ></i>\r\n                  </span>\r\n                </button>\r\n                <ul\r\n                  className={\r\n                    'styled-list search' + (filterBtnClicked ? ' active' : '')\r\n                  }\r\n                >\r\n                  {[0, 1].map((index) => (\r\n                    <li\r\n                      key={index}\r\n                      className={index === selectedFilter ? 'current' : ''}\r\n                      onClick={() => {\r\n                        setFilterBtnClicked(false);\r\n                        setSelectedFilter(index);\r\n                      }}\r\n                    >\r\n                      {index === 0 ? 'Menor precio' : 'Mayor precio'}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </span>\r\n            </div>\r\n            <div\r\n              className={\r\n                'results width-100 flex-start' +\r\n                (!desktopScreenCondition ? ' product-list search' : '')\r\n              }\r\n            >\r\n              {products\r\n                .sort((a, b) =>\r\n                  selectedFilter === 0 ? a.price - b.price : b.price - a.price\r\n                )\r\n                .map((product) => (\r\n                  <Product\r\n                    key={product._id}\r\n                    product={product}\r\n                    user={user && user}\r\n                    noHover={desktopScreenCondition}\r\n                    smallRating={desktopScreenCondition}\r\n                  />\r\n                ))}\r\n            </div>\r\n          </section>\r\n        </div>\r\n      ) : (\r\n        <div className='no-results-msg-container'>\r\n          <div className='no-results-icon'>\r\n            <svg\r\n              className='ui-search-icon ui-search-icon--not-found ui-search-rescue__icon'\r\n              xmlns='http://www.w3.org/2000/svg'\r\n              width='80'\r\n              height='80'\r\n              viewBox='0 0 80 80'\r\n            >\r\n              <g fill='none' fillRule='evenodd'>\r\n                <path\r\n                  stroke='#484848'\r\n                  strokeLinecap='round'\r\n                  d='M37.891 50.705c4.584-1.85 8.61-5.256 11.216-9.957m2.764-9.071c.456-5.499-1.142-10.977-4.48-15.29a21.276 21.276 0 0 0-6.53-5.599c-5.845-3.24-12.566-3.444-18.403-1.139-4.65 1.836-8.739 5.265-11.375 10.022a22.488 22.488 0 0 0-2.832 10.308 22.102 22.102 0 0 0 3.058 11.86 21.288 21.288 0 0 0 8.02 7.79 21.275 21.275 0 0 0 8.427 2.594 21.853 21.853 0 0 0 10.135-1.518'\r\n                ></path>\r\n                <path\r\n                  stroke='#484848'\r\n                  strokeLinecap='round'\r\n                  d='M28.774 45.86a16.046 16.046 0 0 1-9.688-4.642m-3.693-5.7c-1.4-3.695-1.38-7.782.065-11.41a15.238 15.238 0 0 1 3.392-5.144c3.384-3.384 7.97-4.852 12.444-4.417 3.564.346 7.056 1.9 9.81 4.654 1.9 1.9 3.23 4.153 3.984 6.538a15.83 15.83 0 0 1 .236 8.768 15.246 15.246 0 0 1-3.984 6.947 15.237 15.237 0 0 1-5.289 3.449 15.651 15.651 0 0 1-7.277.956'\r\n                ></path>\r\n                <g fill='#484848' fillRule='nonzero'>\r\n                  <path d='M35.644 35.95l-12-12 .572-.572 12 12z'></path>\r\n                  <path d='M36.215 23.95l-12 12-.57-.572 11.999-12z'></path>\r\n                </g>\r\n                <path\r\n                  stroke='#484848'\r\n                  strokeLinecap='square'\r\n                  d='M52.267 52.61l-6.646-6.647'\r\n                ></path>\r\n                <path\r\n                  fill='#FFDB15'\r\n                  d='M61.601 54.585l-2.823-2.824c-1.405-1.405-3.988-1.099-5.768.682-1.78 1.78-2.087 4.363-.682 5.768l9.599 9.599 8.89 8.89c1.403 1.404 3.987 1.098 5.767-.682 1.78-1.78 2.086-4.364.683-5.768'\r\n                ></path>\r\n                <path\r\n                  stroke='#484848'\r\n                  strokeLinecap='round'\r\n                  d='M52.095 58.273c-1.404-1.405-1.283-3.803.27-5.356s3.951-1.674 5.356-.27l9.6 9.6 8.89 8.89'\r\n                ></path>\r\n              </g>\r\n            </svg>\r\n          </div>\r\n          <div>\r\n            <h3 className='ui-search-rescue__title'>\r\n              Escrib en el buscador lo que quers encontrar.\r\n            </h3>\r\n            <ul className='with-style'>\r\n              <li>\r\n                <strong>Escrib tu bsqueda</strong> en el campo que figura en\r\n                la parte superior de la pantalla.\r\n              </li>\r\n              <li>\r\n                <strong>Naveg por categoras de productos</strong> para\r\n                encontrar el producto que buscs.\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { detailsProduct } from '../Actions/productActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\n\r\nconst ProductPublishedScreen = (props) => {\r\n  const dispatch = useDispatch();\r\n  const productId = props.match.params.id;\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { loading, error, product } = productDetails;\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user, error: userError, loading: userLoading } = userLogin;\r\n  const [localError, setLocalError] = useState(false);\r\n  const [correctUser, setCorrectUser] = useState(false);\r\n\r\n  useEffect(() => {\r\n    dispatch(detailsProduct(productId));\r\n  }, [dispatch, productId]);\r\n\r\n  useEffect(() => {\r\n    (error || userError) && setLocalError(true);\r\n  }, [error, userError]);\r\n\r\n  useEffect(() => {\r\n    if (user && product) {\r\n      product.seller._id.toString() === user._id.toString()\r\n        ? setCorrectUser(true)\r\n        : setLocalError(true);\r\n    }\r\n  }, [user, product]);\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      {loading || userLoading ? (\r\n        <LoadingCircle color='blue' />\r\n      ) : localError ? (\r\n        <MessageBox variant='danger'>Ha ocurrido un error</MessageBox>\r\n      ) : (\r\n        product &&\r\n        correctUser && (\r\n          <>\r\n            <div className='extra-header product-published'></div>\r\n            <div className='column'>\r\n              <div className='product-published-header row'>\r\n                <div className='headers'>\r\n                  <h3>Listo!</h3>\r\n                  <h1>Ya terminaste tu publicacin</h1>\r\n                </div>\r\n                <div className='product-image flex-center'>\r\n                  <img src={product.images[0]} alt='product' />\r\n                </div>\r\n              </div>\r\n              <div className='screen-mini-card medium margin-top'>\r\n                <div className='screen-mini-card-header-title'>\r\n                  <h4>\r\n                    Ten en cuenta que tu publicacin tardar algunos minutos en\r\n                    aparecer en los resultados de bsquedas.\r\n                  </h4>\r\n                </div>\r\n                <div className='screen-mini-card-body padding margin-top'>\r\n                  <a\r\n                    href={'/product/' + product._id}\r\n                    className={\r\n                      'nodecoration' +\r\n                      (!desktopScreenCondition ? ' width-100' : '')\r\n                    }\r\n                  >\r\n                    <button\r\n                      className={\r\n                        'primary' + (!desktopScreenCondition ? ' block' : '')\r\n                      }\r\n                    >\r\n                      Ver publicacin\r\n                    </button>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductPublishedScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  detailsUser,\r\n  getHistoryDetails,\r\n  historyRemove,\r\n  updateUser,\r\n} from '../Actions/userActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport Product from '../Components/Product';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\n\r\nconst HistoryScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user, error } = userLogin;\r\n  const historyUpdate = useSelector((state) => state.historyUpdate);\r\n  const {\r\n    error: updateHistoryError,\r\n    loading: loadingHistoryUpdate,\r\n  } = historyUpdate;\r\n  const userUpdate = useSelector((state) => state.userUpdate);\r\n  const { error: updateUserError, loading: loadingUserUpdate } = userUpdate;\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const { error: detailsError, user: detailedUser } = userDetails;\r\n  const userHistory = useSelector((state) => state.userHistory);\r\n  const { history, error: historyError } = userHistory;\r\n  const removeHistory = useSelector((state) => state.removeHistory);\r\n  const { error: removeHistoryError } = removeHistory;\r\n  const [administrateOpen, setAdministrateOpen] = useState(false);\r\n  const [updateHistoryParam, setUpdateHistoryParam] = useState(false);\r\n  const [localHistory, setLocalHistory] = useState(null);\r\n  const [itemDeleting, setItemDeleting] = useState(null);\r\n  useEffect(() => {\r\n    if (loadingHistoryUpdate && itemDeleting) {\r\n      const newLocalHistory = localHistory.filter((historyItem) => {\r\n        console.log(historyItem._id.toString(), itemDeleting.toString());\r\n        return historyItem._id.toString() !== itemDeleting.toString();\r\n      });\r\n      setLocalHistory(newLocalHistory);\r\n      setItemDeleting(null);\r\n    }\r\n  }, [itemDeleting, loadingHistoryUpdate, localHistory]);\r\n  useEffect(() => {\r\n    user && dispatch(getHistoryDetails());\r\n    user && dispatch(detailsUser(user._id));\r\n  }, [user, dispatch]);\r\n  useEffect(() => {\r\n    history && setLocalHistory(history);\r\n  }, [history]);\r\n  useEffect(() => {\r\n    detailedUser && setUpdateHistoryParam(detailedUser.updateHistory);\r\n  }, [detailedUser]);\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      {updateHistoryError ||\r\n      error ||\r\n      historyError ||\r\n      removeHistoryError ||\r\n      updateUserError ||\r\n      detailsError ? (\r\n        <MessageBox variant='danger'>Ha ocurrido un error</MessageBox>\r\n      ) : !localHistory ? (\r\n        <LoadingCircle color='blue' />\r\n      ) : (\r\n        <div className='screen history-screen'>\r\n          {loadingUserUpdate ||\r\n            (loadingHistoryUpdate && (\r\n              <div className='absolute-loading'>\r\n                <LoadingCircle color='blue' />\r\n              </div>\r\n            ))}\r\n          <div className='product-list history'>\r\n            <div className='relative'>\r\n              <h1>Tu historial</h1>\r\n              <span className='styled-dropdown absolute-right'>\r\n                <button\r\n                  className='styled-dropdown-btn'\r\n                  onClick={() => setAdministrateOpen(!administrateOpen)}\r\n                >\r\n                  <span>\r\n                    <b>Administrar</b>\r\n                  </span>\r\n                  <span>\r\n                    <i\r\n                      style={{ marginLeft: '.5rem' }}\r\n                      className={\r\n                        'fa fa-caret-down style-list-caret blue' +\r\n                        (administrateOpen ? ' selected' : '')\r\n                      }\r\n                    ></i>\r\n                  </span>\r\n                </button>\r\n              </span>\r\n            </div>\r\n            {administrateOpen && (\r\n              <div className='screen-mini-card width-100 row margin-top flex-start'>\r\n                <div\r\n                  className={\r\n                    'row' +\r\n                    (!desktopScreenCondition ? ' flex-center width-100' : '')\r\n                  }\r\n                >\r\n                  <h4 className='margin-right'>Registro de historial</h4>{' '}\r\n                  <div className='switch-container margin-right'>\r\n                    <span\r\n                      onClick={() => {\r\n                        dispatch(\r\n                          updateUser({\r\n                            updateHistory: !updateHistoryParam,\r\n                          })\r\n                        );\r\n                        setUpdateHistoryParam(!updateHistoryParam);\r\n                      }}\r\n                      className={'switch' + (updateHistoryParam ? ' on' : '')}\r\n                    ></span>\r\n                  </div>\r\n                </div>{' '}\r\n                {desktopScreenCondition && ' |'}\r\n                <button\r\n                  className={\r\n                    'secondary' +\r\n                    (desktopScreenCondition ? ' margin-left' : ' block')\r\n                  }\r\n                  onClick={() => {\r\n                    dispatch(historyRemove());\r\n                    setLocalHistory([]);\r\n                  }}\r\n                >\r\n                  Borra tu historial\r\n                </button>\r\n              </div>\r\n            )}\r\n            {localHistory.length > 0 ? (\r\n              <div className='row top product-cards margin-top'>\r\n                {localHistory.map((hItem) => {\r\n                  return (\r\n                    <Product\r\n                      key={hItem._id}\r\n                      product={hItem}\r\n                      user={user && user}\r\n                      noHover={desktopScreenCondition}\r\n                      smallRating={desktopScreenCondition}\r\n                      removeBtn={true}\r\n                      setItemDeleting={setItemDeleting}\r\n                    />\r\n                  );\r\n                })}\r\n              </div>\r\n            ) : (\r\n              <div className='width-100 flex-center height-100'>\r\n                <h2>\r\n                  An no viste publicaciones. Empez a descubrir todo lo que\r\n                  tenemos para vos!\r\n                </h2>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HistoryScreen;\r\n","import { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listByIdsProducts } from '../Actions/productActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport Product from '../Components/Product';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\n\r\nconst FavoritesScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user } = userLogin;\r\n  const idListProduct = useSelector((state) => state.idListProduct);\r\n  const {\r\n    loading: loadingIdList,\r\n    error: idListError,\r\n    products: idListProducts,\r\n  } = idListProduct;\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      if (user.userData.favorites.length > 0) {\r\n        dispatch(listByIdsProducts(user.userData.favorites));\r\n      } else {\r\n        dispatch({ type: 'PRODUCT_ID_LIST_RESET' });\r\n      }\r\n    }\r\n  }, [user, dispatch]);\r\n\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      {loadingIdList ? (\r\n        <LoadingCircle color='blue' />\r\n      ) : idListError ? (\r\n        <MessageBox variant='danger'>Ha ocurrido un error</MessageBox>\r\n      ) : (\r\n        <div className='screen product-list'>\r\n          <h1>Tus favoritos</h1>\r\n          {idListProducts && idListProducts.length > 0 ? (\r\n            <div className='row top product-cards'>\r\n              {idListProducts.map((hItem) => {\r\n                return (\r\n                  <Product\r\n                    key={hItem._id}\r\n                    product={hItem}\r\n                    user={user && user}\r\n                    noHover={desktopScreenCondition}\r\n                    smallRating={desktopScreenCondition}\r\n                  />\r\n                );\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <div className='width-100 flex-center'>\r\n              <h2>Todava no tens favoritos</h2>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FavoritesScreen;\r\n","import Axios from 'axios';\r\n\r\nexport const newOrders = (orders) => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'CREATE_ORDER_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.post(\r\n      '/api/orders/neworders',\r\n      { orders },\r\n      { headers: { Authorization: 'Bearer ' + user.token } }\r\n    );\r\n    dispatch({ type: 'CREATE_ORDER_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'CREATE_ORDER_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUserOrders = () => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'USER_ORDER_LIST_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.get('/api/orders/getuserorders', {\r\n      headers: { Authorization: 'Bearer ' + user.token },\r\n    });\r\n    dispatch({ type: 'USER_ORDER_LIST_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_ORDER_LIST_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUserSells = () => async (dispatch, getState) => {\r\n  const {\r\n    userLogin: { user },\r\n  } = getState();\r\n  dispatch({ type: 'USER_SELLS_LIST_REQUEST' });\r\n  try {\r\n    const { data } = await Axios.get('/api/orders/getusersells', {\r\n      headers: { Authorization: 'Bearer ' + user.token },\r\n    });\r\n    dispatch({ type: 'USER_SELLS_LIST_SUCCESS', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USER_ORDER_SELLS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { updateProduct } from '../Actions/productActions';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\nimport LoadingCircle from './LoadingCircle';\r\nimport MessageBox from './MessageBox';\r\n\r\nconst Publishedproduct = ({\r\n  product,\r\n  localProducts,\r\n  setLocalProducts,\r\n  orders,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const productUpdate = useSelector((state) => state.productUpdate);\r\n  const {\r\n    loading: loadingUpdate,\r\n    error: updateError,\r\n    product: updatedProduct,\r\n  } = productUpdate;\r\n  const [openOptions, setOpenOptions] = useState(false);\r\n  const [productSales, setProductSales] = useState(0);\r\n\r\n  useEffect(() => {\r\n    let salesCounter = 0;\r\n    orders.forEach((order) => {\r\n      order.orderItems.forEach((item) => {\r\n        if (item.product.toString() === product._id.toString()) {\r\n          salesCounter++;\r\n        }\r\n      });\r\n    });\r\n    setProductSales(salesCounter);\r\n  }, [orders, product]);\r\n\r\n  const optionsRef = useRef();\r\n\r\n  const replaceInLocalProducts = (updatedProduct) => {\r\n    const toBeReplaced = localProducts.find(\r\n      (product) => product._id.toString() === updatedProduct._id.toString()\r\n    );\r\n    setLocalProducts((localProducts) => [\r\n      ...localProducts.slice(0, localProducts.indexOf(toBeReplaced)),\r\n      updatedProduct,\r\n      ...localProducts.slice(localProducts.indexOf(toBeReplaced) + 1),\r\n    ]);\r\n  };\r\n  useEffect(() => {\r\n    if (\r\n      updatedProduct &&\r\n      updatedProduct._id.toString() === product._id.toString()\r\n    ) {\r\n      replaceInLocalProducts(updatedProduct);\r\n      dispatch({ type: 'UPDATE_PRODUCT_RESET' });\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [updatedProduct, dispatch]);\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      const { current: wrap } = optionsRef;\r\n      if (wrap && !wrap.contains(event.target)) {\r\n        setOpenOptions(false);\r\n      }\r\n    };\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  return (\r\n    <div className={'published-product' + (product.active ? '' : ' inactive')}>\r\n      {loadingUpdate ? (\r\n        <div className='width-100 flex-center'>\r\n          {updateError ? (\r\n            <MessageBox variant='danger'>\r\n              Ha habido un error actualizando el producto\r\n            </MessageBox>\r\n          ) : (\r\n            <LoadingCircle color='blue' />\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className='row nowrap'>\r\n            <img\r\n              id='published-product-image'\r\n              className='center-cropped'\r\n              src={product.cover}\r\n              alt='product'\r\n            />\r\n            <div className='published-info'>\r\n              {desktopScreenCondition && (\r\n                <p className='subtle-text'>#{product._id}</p>\r\n              )}\r\n              <h4>{product.name}</h4>\r\n              <p className='subtle-text'>{productSales + ' ventas'}</p>\r\n            </div>\r\n          </div>\r\n          <h4 className='subtle-text'>{'$ ' + product.price}</h4>\r\n          <h4 className='subtle-text'>{product.stock + ' u.'}</h4>\r\n          <div className='three-dots-btn' ref={optionsRef}>\r\n            <button onClick={() => setOpenOptions(!openOptions)}>\r\n              <img src='https://svgshare.com/i/Wuc.svg' alt='three dots' />\r\n            </button>\r\n            {openOptions && (\r\n              <ul className='three-dots-options'>\r\n                <li\r\n                  onClick={() =>\r\n                    (window.location.href =\r\n                      '/producto/modificar/' + product._id)\r\n                  }\r\n                >\r\n                  Modificar\r\n                </li>\r\n                <li\r\n                  onClick={() =>\r\n                    (window.location.href = '/product/' + product._id)\r\n                  }\r\n                >\r\n                  Ver publicacin\r\n                </li>\r\n                {product.active ? (\r\n                  <li\r\n                    onClick={() => {\r\n                      dispatch(\r\n                        updateProduct({ _id: product._id, active: false })\r\n                      );\r\n                      setOpenOptions(false);\r\n                    }}\r\n                  >\r\n                    Pausar\r\n                  </li>\r\n                ) : (\r\n                  <li\r\n                    onClick={() => {\r\n                      dispatch(\r\n                        updateProduct({ _id: product._id, active: true })\r\n                      );\r\n                      setOpenOptions(false);\r\n                    }}\r\n                  >\r\n                    Reactivar\r\n                  </li>\r\n                )}\r\n              </ul>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Publishedproduct;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getUserSells } from '../Actions/orderActions';\r\nimport { getUserPublishedProducts } from '../Actions/productActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport Publishedproduct from '../Components/Publishedproduct';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\n\r\nconst PublishedScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const publishedProducts = useSelector((state) => state.publishedProducts);\r\n  const { loading, error, products } = publishedProducts;\r\n  const userSells = useSelector((state) => state.userSells);\r\n  const { loading: loadingOrders, error: ordersError, orders } = userSells;\r\n\r\n  const [search, setSearch] = useState('');\r\n  const [activeParam, setActiveParam] = useState(true);\r\n  const [localProducts, setLocalProducts] = useState([]);\r\n  const [onDisplayProducts, setOnDisplayProducts] = useState(null);\r\n\r\n  useEffect(() => {\r\n    dispatch(getUserSells());\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    products && setLocalProducts(products);\r\n  }, [products]);\r\n\r\n  useEffect(() => {\r\n    setOnDisplayProducts(\r\n      localProducts.filter((product) => {\r\n        let searchRegex = '.*' + search + '.*';\r\n        searchRegex = new RegExp(searchRegex, 'i');\r\n        return (\r\n          searchRegex.test(product.name) &&\r\n          (activeParam ? product.active : true)\r\n        );\r\n      })\r\n    );\r\n  }, [localProducts, search, activeParam]);\r\n  useEffect(() => {\r\n    dispatch(getUserPublishedProducts());\r\n  }, [dispatch]);\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      {error || ordersError ? (\r\n        <MessageBox variant='danger'>Ha ocurrido un error</MessageBox>\r\n      ) : (\r\n        <div className='screen'>\r\n          <div className='margin-left margin-bottom flex-start width-100 column'>\r\n            <h1>Publicaciones</h1>\r\n            <div className='row flex-start'>\r\n              <div className='published-search'>\r\n                <i className='fas fa-search'></i>\r\n                <div className='wrapper margin-left'>\r\n                  <div className='underline-label-input'>\r\n                    <input\r\n                      value={search}\r\n                      type='text'\r\n                      maxLength='20'\r\n                      placeholder='Buscar por titulo'\r\n                      onChange={(e) => setSearch(e.target.value)}\r\n                    ></input>\r\n                    <div className='underline'></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className='row margin-left'>\r\n                <h4>Solo activas</h4>\r\n                <div className='switch-container margin-left'>\r\n                  <span\r\n                    onClick={() => {\r\n                      setActiveParam(!activeParam);\r\n                    }}\r\n                    className={'switch' + (activeParam ? ' on' : '')}\r\n                  ></span>\r\n                </div>\r\n                {products && desktopScreenCondition && (\r\n                  <div className='margin-left subtle-text'>\r\n                    {'|   ' + onDisplayProducts.length + ' publicaciones'}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className='width-100 flex-center'>\r\n            <div className='published-products'>\r\n              {loading || loadingOrders || !onDisplayProducts ? (\r\n                <LoadingCircle color='blue' />\r\n              ) : onDisplayProducts.length > 0 ? (\r\n                onDisplayProducts.map((product) => (\r\n                  <Publishedproduct\r\n                    key={product._id}\r\n                    product={product}\r\n                    localProducts={localProducts}\r\n                    setLocalProducts={setLocalProducts}\r\n                    activeParam={activeParam}\r\n                    orders={orders}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <div className='flex-center margin-top column'>\r\n                  <img\r\n                    src='https://svgshare.com/i/WuU.svg'\r\n                    alt='No encontrado'\r\n                  />\r\n                  <h3>Nada por ac...</h3>\r\n                  <p className='subtle-text' style={{ textAlign: 'center' }}>\r\n                    No encontramos publicaciones para esta bsqueda. Proba con\r\n                    otra.\r\n                  </p>\r\n                  <button\r\n                    className='anchor-lookalike'\r\n                    onClick={() => setSearch('')}\r\n                  >\r\n                    Borrar bsqueda\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PublishedScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  detailsProduct,\r\n  updateProduct,\r\n  getUserPublishedProducts,\r\n} from '../Actions/productActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport {\r\n  addErrorToImageList,\r\n  desktopScreenCondition,\r\n  formatNumber,\r\n  validateVideoId,\r\n} from '../Utils/Utilities';\r\nimport { move } from 'move-position';\r\n\r\nconst ModifyProductScreen = (props) => {\r\n  const productId = props.match.params.id;\r\n  const dispatch = useDispatch();\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { loading, error, product } = productDetails;\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user, error: userError, loading: userLoading } = userLogin;\r\n  const productUpdate = useSelector((state) => state.productUpdate);\r\n  const {\r\n    loading: loadingUpdate,\r\n    error: updateError,\r\n    product: updatedProduct,\r\n  } = productUpdate;\r\n  const [localError, setLocalError] = useState(false);\r\n  const [imageError, setImageError] = useState('');\r\n  const [videoError, setVideoError] = useState('');\r\n  const [disableFirstBtn, setDisableFirstBtn] = useState(false);\r\n  const [disableNoShippingBtn, setDisableNoShippingBtn] = useState(false);\r\n  const [disableDescriptionBtn, setDisableDescriptionBtn] = useState(false);\r\n  const [disableVideoBtn, setDisableVideoBtn] = useState(false);\r\n  const [disableIsStateNewBtn, setDisableIsStateNewBtn] = useState(false);\r\n  const [openNoShippingOptions, setOpenNoShippingOptions] = useState(false);\r\n  const [openDescription, setOpenDescription] = useState(false);\r\n  const [openVideo, setOpenVideo] = useState(false);\r\n  const [openIsStateNew, setOpenIsStateNew] = useState(false);\r\n  const [title, setTitle] = useState('');\r\n  const [price, setPrice] = useState('');\r\n  const [images, setImages] = useState([]);\r\n  const [noShipping, setNoShipping] = useState(null);\r\n  const [description, setDescription] = useState('');\r\n  const [video, setVideo] = useState('');\r\n  const [validVideoId, setValidVideoId] = useState('');\r\n  const [isStateNew, setIsStateNew] = useState(null);\r\n\r\n  useEffect(() => {\r\n    dispatch(getUserPublishedProducts());\r\n  }, [dispatch]);\r\n  useEffect(() => {\r\n    productId && !product && dispatch(detailsProduct(productId));\r\n  }, [dispatch, productId, product]);\r\n  useEffect(() => {\r\n    (error || userError || updateError) && setLocalError(true);\r\n  }, [error, userError, updateError]);\r\n  useEffect(() => {\r\n    if (product) {\r\n      !(product.seller._id === user._id) && setLocalError(true);\r\n      product.name ? setTitle(product.name) : setLocalError(true);\r\n      product.price ? setPrice(product.price) : setLocalError(true);\r\n      product.images ? setImages(product.images) : setLocalError(true);\r\n      product.noShipping === true || product.noShipping === false\r\n        ? setNoShipping(product.noShipping)\r\n        : setLocalError(true);\r\n      product.description\r\n        ? setDescription(product.description)\r\n        : setDescription('');\r\n      if (product.video) {\r\n        setVideo('https://www.youtube.com/watch?v=' + product.video);\r\n        setValidVideoId(product.video);\r\n      } else {\r\n        setVideo('');\r\n      }\r\n      product.isStateNew === true || product.isStateNew === false\r\n        ? setIsStateNew(product.isStateNew)\r\n        : setLocalError(true);\r\n    }\r\n  }, [product, user]);\r\n  useEffect(() => {\r\n    if (updatedProduct) {\r\n      dispatch({ type: 'PRODUCT_DETAILS_SUCCESS', payload: updatedProduct });\r\n      dispatch({ type: 'UPDATE_PRODUCT_RESET' });\r\n    }\r\n  }, [updatedProduct, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      (product &&\r\n        product.name === title &&\r\n        product.price === price &&\r\n        product.images === images) ||\r\n      images.length === 0 ||\r\n      price === '0' ||\r\n      price === 0 ||\r\n      title === ''\r\n    ) {\r\n      setDisableFirstBtn(true);\r\n    } else {\r\n      setDisableFirstBtn(false);\r\n    }\r\n  }, [product, title, price, images]);\r\n  useEffect(() => {\r\n    product && noShipping === product.noShipping\r\n      ? setDisableNoShippingBtn(true)\r\n      : setDisableNoShippingBtn(false);\r\n  }, [noShipping, product]);\r\n  useEffect(() => {\r\n    (product && description === product.description) || description === ''\r\n      ? setDisableDescriptionBtn(true)\r\n      : setDisableDescriptionBtn(false);\r\n  }, [description, product]);\r\n  useEffect(() => {\r\n    product && (validVideoId === product.video || videoError || !validVideoId)\r\n      ? setDisableVideoBtn(true)\r\n      : setDisableVideoBtn(false);\r\n  }, [validVideoId, videoError, product]);\r\n  useEffect(() => {\r\n    product && isStateNew === product.isStateNew\r\n      ? setDisableIsStateNewBtn(true)\r\n      : setDisableIsStateNewBtn(false);\r\n  }, [isStateNew, product]);\r\n  useEffect(() => {\r\n    if (loadingUpdate) {\r\n      setDisableFirstBtn(true);\r\n      setDisableNoShippingBtn(true);\r\n      setDisableDescriptionBtn(true);\r\n      setDisableVideoBtn(true);\r\n      setDisableIsStateNewBtn(true);\r\n    }\r\n  }, [loadingUpdate]);\r\n  useEffect(() => {\r\n    if (document.querySelector('#noShipping-caret')) {\r\n      document.querySelector(\r\n        '#noShipping-caret'\r\n      ).style.transform = openNoShippingOptions\r\n        ? 'rotate(0)'\r\n        : 'rotate(-180deg)';\r\n    }\r\n  }, [openNoShippingOptions]);\r\n  useEffect(() => {\r\n    if (document.querySelector('#description-caret')) {\r\n      document.querySelector(\r\n        '#description-caret'\r\n      ).style.transform = openDescription ? 'rotate(0)' : 'rotate(-180deg)';\r\n    }\r\n  }, [openDescription]);\r\n  useEffect(() => {\r\n    if (document.querySelector('#video-caret')) {\r\n      document.querySelector('#video-caret').style.transform = openVideo\r\n        ? 'rotate(0)'\r\n        : 'rotate(-180deg)';\r\n    }\r\n  }, [openVideo]);\r\n  useEffect(() => {\r\n    if (document.querySelector('#isstatenew-caret')) {\r\n      document.querySelector(\r\n        '#isstatenew-caret'\r\n      ).style.transform = openIsStateNew ? 'rotate(0)' : 'rotate(-180deg)';\r\n    }\r\n  }, [openIsStateNew]);\r\n  const CheckDimension = (file) => {\r\n    var reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = function (e) {\r\n      var image = new Image();\r\n      image.src = e.target.result;\r\n      image.onload = function () {\r\n        var height = this.height;\r\n        var width = this.width;\r\n        if (height < 500 || width < 500) {\r\n          addErrorToImageList(\r\n            reader.result,\r\n            '- El tamao es menor a 500 x 500 px.',\r\n            setImageError\r\n          );\r\n        } else {\r\n          setImages((images) => [...images, this.src]);\r\n        }\r\n      };\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      {loading || userLoading ? (\r\n        <LoadingCircle color='blue' />\r\n      ) : localError ? (\r\n        <MessageBox variant='danger'>Ha ocurrido un error</MessageBox>\r\n      ) : (\r\n        product && (\r\n          <div className='screen flex-start column'>\r\n            <a\r\n              className={\r\n                'margin-top' + (!desktopScreenCondition ? ' margin-left' : '')\r\n              }\r\n              href='/publicaciones'\r\n            >\r\n              <strong>{'<'}</strong>\r\n              {' Volver'}\r\n            </a>\r\n            <div className='flex-center screen column'>\r\n              <div className='screen-mini-card medium margin-top'>\r\n                <div className='screen-mini-card-header-title'>\r\n                  <h1>{updatedProduct ? updatedProduct.name : product.name}</h1>\r\n                  <p className='subtle-text'>{' ventas'}</p>\r\n                </div>\r\n                <div className='screen-mini-card-body padding column'>\r\n                  <div className='wrapper modify-product-title'>\r\n                    <div className='underline-label-input big-form'>\r\n                      <input\r\n                        type='text'\r\n                        onChange={(e) => {\r\n                          setTitle(e.target.value);\r\n                        }}\r\n                        maxLength='120'\r\n                        value={title}\r\n                      ></input>\r\n                      <div className='underline'></div>\r\n                      <label>Ttulo</label>\r\n                    </div>\r\n                  </div>\r\n                  <div className='wrapper sell'>\r\n                    <div className='underline-label-input'>\r\n                      <input\r\n                        placeholder='$'\r\n                        type='text'\r\n                        maxLength='12'\r\n                        value={'$ ' + (price > 0 ? formatNumber(price) : '')}\r\n                        onChange={(e) => {\r\n                          setPrice(\r\n                            e.target.value.split('$ ')[1]\r\n                              ? e.target.value\r\n                                  .split('$ ')[1]\r\n                                  .split('.')\r\n                                  .join('')\r\n                              : 0\r\n                          );\r\n                        }}\r\n                        onKeyDown={(e) => {\r\n                          if (\r\n                            !(\r\n                              (e.keyCode >= 48 && e.keyCode <= 57) ||\r\n                              e.keyCode === 8 ||\r\n                              e.keyCode === 37 ||\r\n                              e.keyCode === 39 ||\r\n                              e.keyCode === 46\r\n                            )\r\n                          )\r\n                            e.preventDefault();\r\n                        }}\r\n                      ></input>\r\n                    </div>\r\n                  </div>\r\n                  <div className='width-100 separator' />\r\n                  <h4 className='margin-top'>Caracteristicas</h4>\r\n                  <div className='message-div blue row'>\r\n                    <p className='paragraph-with-icon bold'>\r\n                      <img\r\n                        src='https://svgshare.com/i/UNm.svg'\r\n                        alt='tip'\r\n                        className='absolute-left-top circle badge'\r\n                      />\r\n                      Para no perder exposicin, asegrate de que la primera\r\n                      foto tenga fondo blanco puro creado con un editor de\r\n                      imgenes. No agregues bordes, logos ni marcas de agua.\r\n                      <a href='#masconsejos'>Ver ms consejos.</a>\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div\r\n                    className={\r\n                      'message-div red row' + (!imageError ? ' no-display' : '')\r\n                    }\r\n                  >\r\n                    <div className='width-100 relative'>\r\n                      <p className='paragraph-with-icon bold'>\r\n                        <img\r\n                          src='https://svgshare.com/i/UQW.svg'\r\n                          alt='tip'\r\n                          className='absolute-left-top circle badge'\r\n                        />\r\n                        {imageError}\r\n                      </p>\r\n                    </div>\r\n                    <div className='message-div-content'>\r\n                      <ul id='error-list' className='width-100'></ul>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div\r\n                    className={\r\n                      'image-upload-images-container' +\r\n                      (images.length > 0 ? ' with-scroll' : '')\r\n                    }\r\n                  >\r\n                    <ul\r\n                      className={\r\n                        'image-slider row flex-start' +\r\n                        (images.length > 0 ? ' fit-content' : '')\r\n                      }\r\n                    >\r\n                      <div\r\n                        className={\r\n                          'upload-image-div center column' +\r\n                          (images.length > 0 ? ' in-slider' : '')\r\n                        }\r\n                        role='button'\r\n                        onClick={() => {\r\n                          document.querySelector('#inputfile').click();\r\n                        }}\r\n                        onDragEnter={(e) => {\r\n                          document\r\n                            .querySelector('.upload-image-div')\r\n                            .classList.add('on-drag');\r\n                        }}\r\n                        onDragLeave={(e) => {\r\n                          document\r\n                            .querySelector('.upload-image-div')\r\n                            .classList.remove('on-drag');\r\n                        }}\r\n                        onDrop={(e) => {\r\n                          document\r\n                            .querySelector('.upload-image-div')\r\n                            .classList.remove('on-drag');\r\n                          if (\r\n                            e.dataTransfer.files.length + images.length <=\r\n                            10\r\n                          ) {\r\n                            document.querySelector('#error-list').innerHTML =\r\n                              '';\r\n                            for (\r\n                              var i = 0;\r\n                              i < e.dataTransfer.files.length;\r\n                              i++\r\n                            ) {\r\n                              if (e.dataTransfer.files[i].size / 1000000 <= 5) {\r\n                                const dataType = e.dataTransfer.files[i].type;\r\n                                if (\r\n                                  dataType.includes('image/jpeg') ||\r\n                                  dataType.includes('image/png')\r\n                                ) {\r\n                                  CheckDimension(e.dataTransfer.files[i]);\r\n                                } else {\r\n                                  addErrorToImageList(\r\n                                    'https://svgshare.com/i/UYj.svg',\r\n                                    '- El formato no es JPG o PNG.',\r\n                                    setImageError\r\n                                  );\r\n                                }\r\n                              } else {\r\n                                addErrorToImageList(\r\n                                  'https://svgshare.com/i/UYj.svg',\r\n                                  '- El archivo pesa mas de 5mb',\r\n                                  setImageError\r\n                                );\r\n                              }\r\n                            }\r\n                            if (\r\n                              document.querySelector('#error-list')\r\n                                .innerHTML === ''\r\n                            )\r\n                              setImageError('');\r\n                          } else {\r\n                            document.querySelector('.message-div.red') &&\r\n                              document\r\n                                .querySelector('.message-div.red')\r\n                                .classList.remove('height-auto');\r\n                            document.querySelector('#error-list').innerHTML =\r\n                              '';\r\n                            setImageError('Puedes subir como mximo 10 fotos.');\r\n                          }\r\n                        }}\r\n                      >\r\n                        <img\r\n                          src='https://svgshare.com/i/UPJ.svg'\r\n                          alt='camara'\r\n                        />\r\n                        <span\r\n                          className={\r\n                            images.length > 0\r\n                              ? 'small-text bold'\r\n                              : 'subtle-text'\r\n                          }\r\n                        >\r\n                          Agrega {desktopScreenCondition ? 'o arrastra ' : ''}\r\n                          tus\r\n                          <br /> fotos aqu\r\n                        </span>\r\n                        <input\r\n                          style={{ display: 'none' }}\r\n                          id='inputfile'\r\n                          type='file'\r\n                          accept='image/x-png,image/jpeg,image/jpg'\r\n                          onChange={(e) => {\r\n                            if (e.target.files.length + images.length <= 10) {\r\n                              document.querySelector('#error-list').innerHTML =\r\n                                '';\r\n                              for (var i = 0; i < e.target.files.length; i++) {\r\n                                if (e.target.files[i].size / 1000000 <= 5) {\r\n                                  const dataType = e.target.files[i].type;\r\n                                  if (\r\n                                    dataType.includes('image/jpeg') ||\r\n                                    dataType.includes('image/png')\r\n                                  ) {\r\n                                    CheckDimension(e.target.files[i]);\r\n                                  } else {\r\n                                    addErrorToImageList(\r\n                                      'https://svgshare.com/i/UYj.svg',\r\n                                      '- El formato no es JPG o PNG.',\r\n                                      setImageError\r\n                                    );\r\n                                  }\r\n                                } else {\r\n                                  addErrorToImageList(\r\n                                    'https://svgshare.com/i/UYj.svg',\r\n                                    '- El archivo pesa mas de 5mb',\r\n                                    setImageError\r\n                                  );\r\n                                }\r\n                              }\r\n                              if (\r\n                                document.querySelector('#error-list')\r\n                                  .innerHTML === ''\r\n                              )\r\n                                setImageError('');\r\n                            } else {\r\n                              document.querySelector('.message-div.red') &&\r\n                                document\r\n                                  .querySelector('.message-div.red')\r\n                                  .classList.remove('height-auto');\r\n                              document.querySelector('#error-list').innerHTML =\r\n                                '';\r\n                              setImageError(\r\n                                'Puedes subir como mximo 10 fotos.'\r\n                              );\r\n                            }\r\n                            e.target.value = '';\r\n                          }}\r\n                          multiple\r\n                        ></input>\r\n                      </div>\r\n                      {images &&\r\n                        images.length > 0 &&\r\n                        images.map((image, i) => {\r\n                          return (\r\n                            <li className='image-slider-item' key={i}>\r\n                              <img\r\n                                className='center-cropped'\r\n                                src={image}\r\n                                alt='Subida'\r\n                              />\r\n                              {i === 0 && (\r\n                                <div className='absolute-bottom width-100 cover-page'>\r\n                                  <h3>Portada</h3>\r\n                                </div>\r\n                              )}\r\n                              <div className='image-slider-item-options'>\r\n                                <button\r\n                                  className='image-slider-arrow-btn'\r\n                                  onClick={() => {\r\n                                    if (images.length > 1 && i !== 0) {\r\n                                      setImages(move(images, i, i - 1, false));\r\n                                    }\r\n                                  }}\r\n                                >\r\n                                  <i className='fas fa-caret-left'></i>\r\n                                </button>\r\n                                <button\r\n                                  className='image-slider-del-btn'\r\n                                  onClick={() => {\r\n                                    setImages((images) => [\r\n                                      ...images.slice(0, i),\r\n                                      ...images.slice(i + 1),\r\n                                    ]);\r\n                                  }}\r\n                                >\r\n                                  <img\r\n                                    src='https://svgshare.com/i/Ucx.svg'\r\n                                    alt='boton borrar'\r\n                                  ></img>\r\n                                </button>\r\n                                <button\r\n                                  className='image-slider-arrow-btn'\r\n                                  onClick={() => {\r\n                                    if (\r\n                                      images.length > 1 &&\r\n                                      images.length - 1 !== i\r\n                                    ) {\r\n                                      setImages(move(images, i, i + 1, false));\r\n                                    }\r\n                                  }}\r\n                                >\r\n                                  <i className='fas fa-caret-right'></i>\r\n                                </button>\r\n                              </div>\r\n                            </li>\r\n                          );\r\n                        })}\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n                <div className='screen-mini-card-footer flex-end'>\r\n                  <button\r\n                    className='secondary'\r\n                    onClick={() => {\r\n                      setImageError('');\r\n                      setTitle(product.name);\r\n                      setPrice(product.price);\r\n                      setImages(product.images);\r\n                    }}\r\n                    disabled={disableFirstBtn}\r\n                  >\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    className={\r\n                      'primary big-form' + (loadingUpdate ? ' no-padding' : '')\r\n                    }\r\n                    onClick={() => {\r\n                      dispatch(\r\n                        updateProduct({\r\n                          _id: product._id,\r\n                          name: title,\r\n                          price: price,\r\n                          images: images,\r\n                        })\r\n                      );\r\n                      setDisableFirstBtn(true);\r\n                    }}\r\n                    disabled={disableFirstBtn}\r\n                  >\r\n                    {loadingUpdate ? (\r\n                      <LoadingCircle color='blue' />\r\n                    ) : (\r\n                      'Confirmar'\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className='screen-mini-card medium'>\r\n                <div className='screen-mini-card-header-title column'>\r\n                  <h4>Retiro en persona</h4>\r\n                  <span className='subtle-text'>\r\n                    {product.noShipping\r\n                      ? 'No ofrecs retiro en persona'\r\n                      : 'Ofrecs retiro en persona'}\r\n                  </span>\r\n                  <i\r\n                    id='noShipping-caret'\r\n                    className='fa fa-caret-down absolute-right'\r\n                    aria-hidden='true'\r\n                    onClick={() => {\r\n                      setOpenNoShippingOptions(!openNoShippingOptions);\r\n                    }}\r\n                  ></i>\r\n                </div>\r\n                {openNoShippingOptions && (\r\n                  <>\r\n                    <ul>\r\n                      <li\r\n                        className={\r\n                          'list-relative multiple-selection-btn' +\r\n                          (noShipping === false ? ' selected' : '')\r\n                        }\r\n                      >\r\n                        <button\r\n                          className='list-item padding'\r\n                          onClick={() => {\r\n                            if (noShipping !== false) {\r\n                              setNoShipping(false);\r\n                            }\r\n                          }}\r\n                        >\r\n                          Ofrezco\r\n                        </button>\r\n                      </li>\r\n                      <li\r\n                        className={\r\n                          'list-relative multiple-selection-btn' +\r\n                          (noShipping === true ? ' selected' : '')\r\n                        }\r\n                      >\r\n                        <button\r\n                          className='list-item padding'\r\n                          onClick={() => {\r\n                            if (noShipping !== true) {\r\n                              setNoShipping(true);\r\n                            }\r\n                          }}\r\n                        >\r\n                          No ofrezco\r\n                        </button>\r\n                      </li>\r\n                    </ul>\r\n                    <div className='screen-mini-card-footer flex-end'>\r\n                      <button\r\n                        className='secondary'\r\n                        onClick={() => {\r\n                          setNoShipping(product.noShipping);\r\n                          setOpenNoShippingOptions(false);\r\n                        }}\r\n                        disabled={disableNoShippingBtn}\r\n                      >\r\n                        Cancelar\r\n                      </button>\r\n                      <button\r\n                        className={\r\n                          'primary big-form' +\r\n                          (loadingUpdate ? ' no-padding' : '')\r\n                        }\r\n                        onClick={() => {\r\n                          dispatch(\r\n                            updateProduct({ _id: product._id, noShipping })\r\n                          );\r\n                          setDisableNoShippingBtn(true);\r\n                        }}\r\n                        disabled={disableNoShippingBtn}\r\n                      >\r\n                        {loadingUpdate ? (\r\n                          <LoadingCircle color='blue' />\r\n                        ) : (\r\n                          'Confirmar'\r\n                        )}\r\n                      </button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n              <div className='screen-mini-card medium'>\r\n                <div className='screen-mini-card-header-title column'>\r\n                  <h4>\r\n                    Descripcin{' '}\r\n                    <span className='subtle-text no-user-select'>\r\n                      {' | opcional'}\r\n                    </span>\r\n                  </h4>\r\n                  <span className='subtle-text'>\r\n                    Te falt contar algo? Agregalo ac\r\n                  </span>\r\n\r\n                  <i\r\n                    id='description-caret'\r\n                    className='fa fa-caret-down absolute-right'\r\n                    aria-hidden='true'\r\n                    onClick={() => {\r\n                      setOpenDescription(!openDescription);\r\n                    }}\r\n                  ></i>\r\n                </div>\r\n                {openDescription && (\r\n                  <>\r\n                    <div className='screen-mini-card-body padding column'>\r\n                      <div className='message-div blue row'>\r\n                        <p className='paragraph-with-icon bold'>\r\n                          <img\r\n                            src='https://svgshare.com/i/UNm.svg'\r\n                            alt='tip'\r\n                            className='absolute-left-top circle badge'\r\n                          />\r\n                          No incluyas datos de contacto, como e-mails,\r\n                          telfonos, direcciones, links ni referencias a sitios\r\n                          externos. Tampoco uses este espacio para indicar la\r\n                          condicin de tu producto.\r\n                          <a href='#verpolitica'> Ver poltica</a>\r\n                        </p>\r\n                      </div>\r\n                      <textarea\r\n                        value={description}\r\n                        onChange={(e) => {\r\n                          setDescription(e.target.value);\r\n                        }}\r\n                        maxLength='50000'\r\n                        placeholder='Te falt algo? Agregalo como descripcin.'\r\n                      ></textarea>\r\n                    </div>\r\n                    <div className='screen-mini-card-footer flex-end'>\r\n                      <button\r\n                        className='secondary'\r\n                        onClick={() => {\r\n                          setDescription(\r\n                            product.description ? product.description : ''\r\n                          );\r\n                          setOpenDescription(false);\r\n                        }}\r\n                        disabled={disableDescriptionBtn}\r\n                      >\r\n                        Cancelar\r\n                      </button>\r\n                      <button\r\n                        className={\r\n                          'primary big-form' +\r\n                          (loadingUpdate ? ' no-padding' : '')\r\n                        }\r\n                        onClick={() => {\r\n                          dispatch(\r\n                            updateProduct({ _id: product._id, description })\r\n                          );\r\n                          setDisableDescriptionBtn(true);\r\n                        }}\r\n                        disabled={disableDescriptionBtn}\r\n                      >\r\n                        {loadingUpdate ? (\r\n                          <LoadingCircle color='blue' />\r\n                        ) : (\r\n                          'Confirmar'\r\n                        )}\r\n                      </button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n              <div className='screen-mini-card medium'>\r\n                <div className='screen-mini-card-header-title column'>\r\n                  <h4>\r\n                    Video{' '}\r\n                    <span className='subtle-text no-user-select'>\r\n                      {' | opcional'}\r\n                    </span>\r\n                  </h4>\r\n                  <span className='subtle-text'>\r\n                    Agreg el link de Youtube del video\r\n                  </span>\r\n\r\n                  <i\r\n                    id='video-caret'\r\n                    className='fa fa-caret-down absolute-right'\r\n                    aria-hidden='true'\r\n                    onClick={() => {\r\n                      setOpenVideo(!openVideo);\r\n                    }}\r\n                  ></i>\r\n                </div>\r\n                {openVideo && (\r\n                  <>\r\n                    <div className='screen-mini-card-body padding column'>\r\n                      <div className='wrapper width-100 margin-bottom'>\r\n                        <div className='underline-label-input'>\r\n                          <input\r\n                            placeholder='Ej.: https://www.youtube.com/watch?v=K7sFmiFfl0g'\r\n                            type='text'\r\n                            className={videoError ? 'error' : ''}\r\n                            value={video}\r\n                            maxLength='120'\r\n                            onChange={(e) => {\r\n                              setVideo(e.target.value);\r\n                              var videoId = e.target.value.split(\r\n                                'youtube.com/watch?v='\r\n                              )[1];\r\n                              if (\r\n                                videoId &&\r\n                                (videoId.substring(11, 12).includes('?') ||\r\n                                  videoId.substring(11, 12).includes('&') ||\r\n                                  videoId.length === 11)\r\n                              ) {\r\n                                setVideoError('');\r\n                                validateVideoId(\r\n                                  videoId.substring(0, 11),\r\n                                  setValidVideoId,\r\n                                  setVideoError\r\n                                );\r\n                              } else {\r\n                                setVideoError(\r\n                                  'Solo pods agregar links a videos de YouTube.'\r\n                                );\r\n                                setValidVideoId('');\r\n                              }\r\n                            }}\r\n                          ></input>\r\n                          <div\r\n                            className={\r\n                              'underline' + (videoError ? ' error' : '')\r\n                            }\r\n                          ></div>\r\n                          <span\r\n                            className={\r\n                              'subtle-text' +\r\n                              (videoError ? ' error' : ' noerror')\r\n                            }\r\n                          >\r\n                            {videoError && videoError}\r\n                          </span>\r\n                          {!videoError && (\r\n                            <span className='reg-info-after'>\r\n                              Peg ac el link de YouTube.\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      {validVideoId !== '' && (\r\n                        <iframe\r\n                          className='margin-top'\r\n                          title='Video seleccionado'\r\n                          src={'https://www.youtube.com/embed/' + validVideoId}\r\n                          allow='autoplay; encrypted-media'\r\n                          frameBorder='0'\r\n                          height='390px'\r\n                          width='100%'\r\n                        ></iframe>\r\n                      )}\r\n                    </div>\r\n                    <div className='screen-mini-card-footer flex-end'>\r\n                      <button\r\n                        className='secondary'\r\n                        disabled={disableVideoBtn}\r\n                        onClick={() => {\r\n                          setVideo(product.video ? product.video : '');\r\n                          setVideoError('');\r\n                        }}\r\n                      >\r\n                        Cancelar\r\n                      </button>\r\n                      <button\r\n                        className={\r\n                          'primary big-form' +\r\n                          (loadingUpdate ? ' no-padding' : '')\r\n                        }\r\n                        disabled={disableVideoBtn}\r\n                        onClick={() => {\r\n                          dispatch(\r\n                            updateProduct({\r\n                              _id: product._id,\r\n                              video: validVideoId,\r\n                            })\r\n                          );\r\n                          setDisableVideoBtn(true);\r\n                        }}\r\n                      >\r\n                        {loadingUpdate ? (\r\n                          <LoadingCircle color='blue' />\r\n                        ) : (\r\n                          'Confirmar'\r\n                        )}\r\n                      </button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n              <div className='screen-mini-card medium'>\r\n                <div className='screen-mini-card-header-title column'>\r\n                  <h4>Condicin</h4>\r\n                  <span className='subtle-text'>\r\n                    {product.isStateNew ? 'Nuevo' : 'Usado'}\r\n                  </span>\r\n                  <i\r\n                    id='isstatenew-caret'\r\n                    className='fa fa-caret-down absolute-right'\r\n                    aria-hidden='true'\r\n                    onClick={() => {\r\n                      setOpenIsStateNew(!openIsStateNew);\r\n                    }}\r\n                  ></i>\r\n                </div>\r\n                {openIsStateNew && (\r\n                  <>\r\n                    <ul>\r\n                      <li\r\n                        className={\r\n                          'list-relative multiple-selection-btn' +\r\n                          (isStateNew === false ? ' selected' : '')\r\n                        }\r\n                      >\r\n                        <button\r\n                          className='list-item padding'\r\n                          onClick={() => {\r\n                            if (isStateNew !== false) {\r\n                              setIsStateNew(false);\r\n                            }\r\n                          }}\r\n                        >\r\n                          Usado\r\n                        </button>\r\n                      </li>\r\n                      <li\r\n                        className={\r\n                          'list-relative multiple-selection-btn' +\r\n                          (isStateNew === true ? ' selected' : '')\r\n                        }\r\n                      >\r\n                        <button\r\n                          className='list-item padding'\r\n                          onClick={() => {\r\n                            if (isStateNew !== true) {\r\n                              setIsStateNew(true);\r\n                            }\r\n                          }}\r\n                        >\r\n                          Nuevo\r\n                        </button>\r\n                      </li>\r\n                    </ul>\r\n                    <div className='screen-mini-card-footer flex-end'>\r\n                      <button\r\n                        className='secondary'\r\n                        onClick={() => {\r\n                          setIsStateNew(product.isStateNew);\r\n                          setOpenIsStateNew(false);\r\n                        }}\r\n                        disabled={disableIsStateNewBtn}\r\n                      >\r\n                        Cancelar\r\n                      </button>\r\n                      <button\r\n                        className={\r\n                          'primary big-form' +\r\n                          (loadingUpdate ? ' no-padding' : '')\r\n                        }\r\n                        onClick={() => {\r\n                          dispatch(\r\n                            updateProduct({ _id: product._id, isStateNew })\r\n                          );\r\n                          setDisableIsStateNewBtn(true);\r\n                        }}\r\n                        disabled={disableIsStateNewBtn}\r\n                      >\r\n                        {loadingUpdate ? (\r\n                          <LoadingCircle color='blue' />\r\n                        ) : (\r\n                          'Confirmar'\r\n                        )}\r\n                      </button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModifyProductScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  addQuestionProduct,\r\n  getUserQuestionProducts,\r\n} from '../Actions/productActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\n\r\nconst UserQuestionsScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const productGetUserQuestions = useSelector(\r\n    (state) => state.productGetUserQuestions\r\n  );\r\n  const { loading, error, products } = productGetUserQuestions;\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { loading: loadingUser, error: errorUser, user } = userLogin;\r\n  const productAddQuestion = useSelector((state) => state.productAddQuestion);\r\n  const {\r\n    product: productQuestionAdded,\r\n    loading: loadingAddQuestion,\r\n    error: errorAddingQuestion,\r\n  } = productAddQuestion;\r\n  const [localError, setLocalError] = useState(false);\r\n  const [disableQuestionBtn, setDisableQuestionBtn] = useState(true);\r\n  const [localProducts, setLocalProducts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getUserQuestionProducts());\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    products && setLocalProducts(products.reverse());\r\n  }, [products]);\r\n\r\n  useEffect(() => {\r\n    if (productQuestionAdded) {\r\n      const productToUpdate = localProducts.find(\r\n        (product) =>\r\n          product._id.toString() === productQuestionAdded._id.toString()\r\n      );\r\n      if (productToUpdate) {\r\n        const index = localProducts.indexOf(productToUpdate);\r\n        setLocalProducts([\r\n          ...localProducts.slice(0, index),\r\n          productQuestionAdded,\r\n          ...localProducts.slice(index + 1),\r\n        ]);\r\n        dispatch({ type: 'PRODUCT_ADD_QUESTION_RESET' });\r\n      } else {\r\n        setLocalError(true);\r\n      }\r\n    }\r\n  }, [productQuestionAdded, localProducts, dispatch]);\r\n  useEffect(() => {\r\n    (error || errorUser) && setLocalError(true);\r\n  }, [error, errorUser]);\r\n\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      {localError ? (\r\n        <MessageBox variant='danger'>Ha ocurrido un error</MessageBox>\r\n      ) : loadingUser || loading ? (\r\n        <LoadingCircle color='blue' />\r\n      ) : (\r\n        localProducts && (\r\n          <div className='screen question-screen'>\r\n            {localProducts.length > 0 && (\r\n              <div className='message-div blue row'>\r\n                <p className='paragraph-with-icon bold'>\r\n                  <img\r\n                    src='https://svgshare.com/i/UNm.svg'\r\n                    alt='tip'\r\n                    className='absolute-left-top circle badge'\r\n                  />\r\n                  No uses lenguaje inapropiado ni enves datos de contacto, como\r\n                  e-mails, telfonos, direcciones, links externos y redes\r\n                  sociales.\r\n                </p>\r\n              </div>\r\n            )}\r\n            {products &&\r\n              (localProducts.length > 0 ? (\r\n                localProducts.map((product, i) => (\r\n                  <div className='product-question-screen' key={product._id}>\r\n                    <div className='product-question-screen-header'>\r\n                      <div\r\n                        className={\r\n                          'row flex-start' +\r\n                          (!desktopScreenCondition ? ' width-100' : '')\r\n                        }\r\n                      >\r\n                        <div className='list-img-div margin-right'>\r\n                          <img\r\n                            className='center-cropped'\r\n                            src={product.cover}\r\n                            alt='product'\r\n                          />\r\n                        </div>{' '}\r\n                        <div className='question-product-name-price'>\r\n                          <div className='product-question-screen-header-name'>\r\n                            <a\r\n                              className='nodecoration'\r\n                              href={'/product/' + product._id}\r\n                            >\r\n                              {product.name}\r\n                            </a>\r\n                          </div>{' '}\r\n                          <div className='product-question-screen-header-price'>\r\n                            <p>{'$ ' + product.price}</p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div\r\n                        className={\r\n                          desktopScreenCondition\r\n                            ? 'row'\r\n                            : 'column flex-center width-100'\r\n                        }\r\n                      >\r\n                        <div className='product-question-screen-header-stock'>\r\n                          <p className={product.stock <= 10 ? 'low-stock' : ''}>\r\n                            {product.stock <= 10\r\n                              ? 'Quedan solo ' + product.stock + 'unidades!'\r\n                              : 'Hay stock disponible'}\r\n                          </p>\r\n                        </div>\r\n                        <div className='product-question-screen-header-condition'>\r\n                          {!product.active ? (\r\n                            <p>\r\n                              {' '}\r\n                              <img\r\n                                src='https://svgshare.com/i/UNm.svg'\r\n                                alt='tip'\r\n                                className='absolute-left-top circle badge orange'\r\n                              />\r\n                              Inactiva\r\n                            </p>\r\n                          ) : product.finished ? (\r\n                            <p>\r\n                              {' '}\r\n                              <img\r\n                                src='https://svgshare.com/i/UNm.svg'\r\n                                alt='tip'\r\n                                className='absolute-left-top circle badge'\r\n                              />\r\n                              Publicacin finalizada\r\n                            </p>\r\n                          ) : (\r\n                            <button\r\n                              className={\r\n                                'primary' +\r\n                                (!desktopScreenCondition ? ' block' : '')\r\n                              }\r\n                              onClick={() => {\r\n                                window.location.href = '/checkout/shipping';\r\n                                localStorage.setItem(\r\n                                  'localCheckout',\r\n                                  JSON.stringify({\r\n                                    products: [\r\n                                      {\r\n                                        _id: product._id,\r\n                                        seller: product.seller,\r\n                                        price: product.price,\r\n                                        quantity: 1,\r\n                                      },\r\n                                    ],\r\n                                    editingAddress: false,\r\n                                  })\r\n                                );\r\n                              }}\r\n                            >\r\n                              Comprar\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <ul className='product-question-screen-questions'>\r\n                      {!product.paused && !product.finished && (\r\n                        <li>\r\n                          <div\r\n                            id={'new-question-div-' + i}\r\n                            className='product-question-screen-other-question first-li-div'\r\n                            onClick={() => {\r\n                              if (\r\n                                document.querySelector('#new-question-' + i)\r\n                              ) {\r\n                                document.querySelector(\r\n                                  '#new-question-' + i\r\n                                ).style.display = 'flex';\r\n                                document.querySelector(\r\n                                  '#new-question-div-' + i\r\n                                ).style.display = 'none';\r\n                              }\r\n                            }}\r\n                          >\r\n                            <button className='anchor-lookalike'>\r\n                              Hacer otra pregunta\r\n                            </button>\r\n                          </div>\r\n                          <div\r\n                            id={'new-question-' + i}\r\n                            className='column new-question first-li-div'\r\n                            style={{ display: 'none' }}\r\n                          >\r\n                            <div className='row ask-div'>\r\n                              <textarea\r\n                                id={'new-question-input-' + i}\r\n                                type='text'\r\n                                maxLength='2000'\r\n                                placeholder={\r\n                                  'Escribe tu pregunta a ' +\r\n                                  product.seller.userName\r\n                                }\r\n                                onChange={(e) => {\r\n                                  const btn = document.querySelector(\r\n                                    '#new-question-btn-' + i\r\n                                  );\r\n                                  if (e.target.value.length < 10) {\r\n                                    btn.disabled = true;\r\n                                  } else {\r\n                                    if (!loadingAddQuestion) {\r\n                                      btn.disabled = false;\r\n                                      setDisableQuestionBtn(false);\r\n                                    }\r\n                                    btn.disabled = disableQuestionBtn;\r\n                                  }\r\n                                }}\r\n                              />\r\n                              <button\r\n                                id={'new-question-btn-' + i}\r\n                                disabled={disableQuestionBtn}\r\n                                className={\r\n                                  'primary big-form' +\r\n                                  (loadingAddQuestion ? ' no-padding' : '')\r\n                                }\r\n                                onClick={() => {\r\n                                  if (\r\n                                    document.querySelector(\r\n                                      '#new-question-input-' + i\r\n                                    ).value.length >= 10\r\n                                  ) {\r\n                                    dispatch(\r\n                                      addQuestionProduct(product, {\r\n                                        whoAsked: user._id,\r\n                                        question: document.querySelector(\r\n                                          '#new-question-input-' + i\r\n                                        ).value,\r\n                                      })\r\n                                    );\r\n                                    setDisableQuestionBtn(true);\r\n                                  }\r\n                                }}\r\n                              >\r\n                                {loadingAddQuestion ? (\r\n                                  <LoadingCircle color='blue' />\r\n                                ) : (\r\n                                  'Preguntar'\r\n                                )}\r\n                              </button>\r\n                              <button\r\n                                className='cross-btn'\r\n                                onClick={() => {\r\n                                  if (\r\n                                    document.querySelector('#new-question-' + i)\r\n                                  ) {\r\n                                    document.querySelector(\r\n                                      '#new-question-' + i\r\n                                    ).style.display = 'none';\r\n                                    document.querySelector(\r\n                                      '#new-question-div-' + i\r\n                                    ).style.display = 'block';\r\n                                  }\r\n                                }}\r\n                              >\r\n                                <i className='fa fa-times'></i>\r\n                              </button>\r\n                            </div>\r\n                            {errorAddingQuestion && (\r\n                              <MessageBox variant='danger'>\r\n                                Ha ocurrido un error con tu pregunta\r\n                              </MessageBox>\r\n                            )}\r\n                          </div>\r\n                        </li>\r\n                      )}\r\n                      {product.questions.map((question, j) => (\r\n                        <li key={j}>\r\n                          <div className='product-question-screen-question-div first-li-div'>\r\n                            <div\r\n                              className='question-information'\r\n                              onClick={() => {\r\n                                const extendedInfo = document.querySelector(\r\n                                  '#question-information-extended-' +\r\n                                    i +\r\n                                    '-' +\r\n                                    j\r\n                                );\r\n                                const arrow = document.querySelector(\r\n                                  '#question-arrow-' + i + '-' + j\r\n                                );\r\n                                const unopenedAnswer = document.querySelector(\r\n                                  '#unopened-answer-' + i + '-' + j\r\n                                );\r\n                                if (question.answer && extendedInfo) {\r\n                                  if (extendedInfo.style.display === 'none') {\r\n                                    extendedInfo.style.display = 'flex';\r\n                                    unopenedAnswer.style.display = 'none';\r\n                                    arrow.style.transform = 'rotate(180deg)';\r\n                                  } else {\r\n                                    extendedInfo.style.display = 'none';\r\n                                    unopenedAnswer.style.display = 'block';\r\n                                    arrow.style.transform = 'rotate(0)';\r\n                                  }\r\n                                }\r\n                              }}\r\n                            >\r\n                              <p className='product-question-screen-question bold'>\r\n                                {question.question}\r\n                              </p>{' '}\r\n                              {question.answer && (\r\n                                <p\r\n                                  id={'unopened-answer-' + i + '-' + j}\r\n                                  className='margin-left product-question-screen-answer subtle-text'\r\n                                >\r\n                                  {question.answer}\r\n                                </p>\r\n                              )}\r\n                              <button className='absolute-right'>\r\n                                <i\r\n                                  id={'question-arrow-' + i + '-' + j}\r\n                                  className='fa fa-caret-down'\r\n                                ></i>\r\n                              </button>\r\n                            </div>\r\n\r\n                            {question.answer && (\r\n                              <div\r\n                                id={\r\n                                  'question-information-extended-' + i + '-' + j\r\n                                }\r\n                                className='question-information-extended'\r\n                                style={{ display: 'none' }}\r\n                              >\r\n                                <img\r\n                                  src='https://svgshare.com/i/Wv_.svg'\r\n                                  alt='svg'\r\n                                />\r\n                                <p>{question.answer}</p>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <div className='width-100 flex-center column'>\r\n                  <h2>No tenes ninguna pregunta</h2>\r\n                  <p style={{ textAlign: 'center' }}>\r\n                    Empeza a preguntar a los vendedores!\r\n                  </p>\r\n                </div>\r\n              ))}\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserQuestionsScreen;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nconst CheckoutRoute = ({ component: Component, ...rest }) => {\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user } = userLogin;\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        const localCheckout = localStorage.getItem('localCheckout');\r\n        return user && localCheckout ? (\r\n          <Component {...props}></Component>\r\n        ) : (\r\n          <Redirect to='/' />\r\n        );\r\n      }}\r\n    ></Route>\r\n  );\r\n};\r\n\r\nexport default CheckoutRoute;\r\n","import React, { useEffect, useState } from 'react';\r\nimport LoadingCircle from './LoadingCircle';\r\nimport { PayPalButton } from 'react-paypal-button-v2';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { newOrders } from '../Actions/orderActions';\r\nimport MessageBox from './MessageBox';\r\nimport {\r\n  cartRemoveMultiple,\r\n  pushNotificationUser,\r\n} from '../Actions/userActions';\r\nimport { updateProductsStock } from '../Actions/productActions';\r\n\r\nconst CheckoutSideBar = ({\r\n  totalPackages,\r\n  totalProducts,\r\n  totalPrice,\r\n  buying,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const orderCreate = useSelector((state) => state.orderCreate);\r\n  const {\r\n    loading: loadingCreatingOrder,\r\n    error: errorCreatingOrder,\r\n    success: successCreatingOrder,\r\n  } = orderCreate;\r\n  const productsUpdateStock = useSelector((state) => state.productsUpdateStock);\r\n  const {\r\n    loading: loadingUpdateStock,\r\n    error: errorUpdatingStock,\r\n    success: successUpdatingStock,\r\n  } = productsUpdateStock;\r\n  const [sdkReady, setSdkReady] = useState(false);\r\n  const [checkoutError, setCheckoutError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      if (window.scrollY >= 85 && !document.querySelector('#paypal-btns')) {\r\n        document.querySelector('#fixed') &&\r\n          document.querySelector('#fixed').classList.add('fixed');\r\n      } else {\r\n        document.querySelector('#fixed') &&\r\n          document.querySelector('#fixed').classList.remove('fixed');\r\n      }\r\n    };\r\n    document.addEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!window.paypal) {\r\n      const script = document.createElement('script');\r\n      script.type = 'text/javascript';\r\n      script.src = `https://www.paypal.com/sdk/js?client-id=${\r\n        process.env.REACT_APP_PAYPAL_CLIENT_ID || 'sb'\r\n      }`;\r\n      script.async = true;\r\n      script.onload = () => {\r\n        setSdkReady(true);\r\n      };\r\n      document.body.appendChild(script);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (errorCreatingOrder) {\r\n      const checkout = localStorage.getItem('localCheckout')\r\n        ? JSON.parse(localStorage.getItem('localCheckout'))\r\n        : null;\r\n      if (checkout) {\r\n        checkout.products.forEach((product) => {\r\n          pushNotificationUser(product.seller._id, {\r\n            text:\r\n              'Ha ocurrido un error con una order, es posible que el stock de uno de tus productos haya cambiado',\r\n            linkTo: '/product/' + product._id,\r\n          });\r\n        });\r\n      } else {\r\n        setCheckoutError(true);\r\n      }\r\n    }\r\n  }, [errorCreatingOrder]);\r\n\r\n  useEffect(() => {\r\n    if (successUpdatingStock) {\r\n      const checkout = localStorage.getItem('localCheckout')\r\n        ? JSON.parse(localStorage.getItem('localCheckout'))\r\n        : null;\r\n      if (checkout) {\r\n        const orders = [];\r\n        checkout.packages.forEach((pckg, i) => {\r\n          orders.push({\r\n            orderItems: [],\r\n            shippingAddress: checkout.address._id,\r\n          });\r\n          let itemsPriceAcumulator = 0;\r\n          console.log('Checking out');\r\n          pckg.products.forEach((product) => {\r\n            itemsPriceAcumulator += product.price * product.quantity;\r\n            orders[i].orderItems.push({\r\n              name: product.name,\r\n              image: product.image,\r\n              quantity: product.quantity,\r\n              price: product.price,\r\n              product: product._id,\r\n            });\r\n          });\r\n          orders[i].itemsPrice = itemsPriceAcumulator;\r\n          orders[i].shippingPrice = 300;\r\n          orders[i].totalPrice = itemsPriceAcumulator + 300;\r\n          orders[i].seller = pckg.seller;\r\n        });\r\n        dispatch(newOrders(orders));\r\n      } else {\r\n        setCheckoutError(true);\r\n      }\r\n    }\r\n  }, [successUpdatingStock, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (successCreatingOrder) {\r\n      dispatch({ type: 'CREATE_ORDER_RESET' });\r\n      dispatch({ type: 'PRODUCT_UPDATE_STOCK_RESET' });\r\n      window.location.href = '/mis-compras';\r\n    }\r\n  }, [successCreatingOrder, dispatch]);\r\n\r\n  const handleSuccessPayment = () => {\r\n    const checkout = localStorage.getItem('localCheckout')\r\n      ? JSON.parse(localStorage.getItem('localCheckout'))\r\n      : null;\r\n    if (checkout) {\r\n      const productsBought = [];\r\n      checkout.products.forEach((product) =>\r\n        productsBought.push({\r\n          _id: product._id,\r\n          quantityToSubstract: product.quantity,\r\n        })\r\n      );\r\n      dispatch(\r\n        cartRemoveMultiple(productsBought.map((product) => product._id))\r\n      );\r\n      dispatch(updateProductsStock(productsBought));\r\n    } else {\r\n      setCheckoutError(true);\r\n    }\r\n  };\r\n  return (\r\n    <div className='checkout-sidebar'>\r\n      <div id='fixed'>\r\n        <h2>Resumen de compra</h2>\r\n        <div className='width-100 separator'>\r\n          <div className='checkout-details'>\r\n            {' '}\r\n            <p>\r\n              {(totalProducts === 1 ? 'Producto ' : 'Productos ') +\r\n                '(' +\r\n                totalProducts +\r\n                ')'}\r\n            </p>\r\n            <p>{'$ ' + totalPrice}</p>\r\n          </div>\r\n          <div className='checkout-details'>\r\n            <p>Envo</p>\r\n            <p>{'$ ' + totalPackages * 300}</p>\r\n          </div>\r\n          <div className='checkout-total separator'>\r\n            <p>Total</p>\r\n            <p>{'$ ' + (totalPrice + totalPackages * 300)}</p>\r\n          </div>\r\n        </div>\r\n        {buying &&\r\n          (!sdkReady || loadingCreatingOrder || loadingUpdateStock ? (\r\n            <LoadingCircle color='blue' />\r\n          ) : errorCreatingOrder || errorUpdatingStock ? (\r\n            <MessageBox variant='danger'>\r\n              Ha ocurrido un error con la orden\r\n            </MessageBox>\r\n          ) : (\r\n            <div id='paypal-btns'>\r\n              <PayPalButton\r\n                amount={Math.ceil(totalPrice / 110)}\r\n                onSuccess={handleSuccessPayment}\r\n              />\r\n            </div>\r\n          ))}\r\n        {checkoutError && (\r\n          <MessageBox variant='danger'>\r\n            Ha ocurrido un error, por favor vuelve a empezar tu compra\r\n          </MessageBox>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckoutSideBar;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getUserAddresses, updateAddress } from '../Actions/addressActions';\r\nimport { listByIdsProducts } from '../Actions/productActions';\r\nimport { detailsUser } from '../Actions/userActions';\r\nimport CheckoutSideBar from '../Components/CheckoutSideBar';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\n\r\nconst CheckoutScreen = (props) => {\r\n  const dispatch = useDispatch();\r\n  const idListProduct = useSelector((state) => state.idListProduct);\r\n  const { loading, error, products } = idListProduct;\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { error: userError, user } = userLogin;\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const {\r\n    loading: loadingUserDetails,\r\n    error: userDetailsError,\r\n    user: details,\r\n  } = userDetails;\r\n  const userAddresses = useSelector((state) => state.userAddresses);\r\n  const {\r\n    loading: loadingAddresses,\r\n    error: errorAddresses,\r\n    addresses,\r\n  } = userAddresses;\r\n\r\n  const [localError, setLocalError] = useState(false);\r\n  const [checkout, setCheckout] = useState(null);\r\n  const [selectedAddress, setSelectedAddress] = useState(null);\r\n  const [editingAddress, setEditingAddress] = useState(false);\r\n  const [buying, setBuying] = useState(false);\r\n  const [totalPackages, setTotalPackages] = useState(0);\r\n  const [totalProducts, setTotalProducts] = useState(0);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [renderPackages, setRenderPackages] = useState([]);\r\n  const [packages, setPackages] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setCheckout(\r\n      localStorage.getItem('localCheckout')\r\n        ? JSON.parse(localStorage.getItem('localCheckout'))\r\n        : null\r\n    );\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (error || userDetailsError || userError || errorAddresses) &&\r\n      setLocalError(true);\r\n  }, [error, userError, userDetailsError, errorAddresses]);\r\n\r\n  useEffect(() => {\r\n    if (checkout) {\r\n      if (!loading && !products) {\r\n        dispatch(\r\n          listByIdsProducts([checkout.products.map((product) => product._id)])\r\n        );\r\n      }\r\n      localStorage.setItem(\r\n        'localCheckout',\r\n        JSON.stringify({ ...checkout, editingAddress: false })\r\n      );\r\n    }\r\n  }, [dispatch, checkout, loading, products]);\r\n\r\n  useEffect(() => {\r\n    user && dispatch(detailsUser(user._id));\r\n    user && dispatch(getUserAddresses());\r\n  }, [user, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (details && addresses) {\r\n      const lastUsedAddress = addresses.find(\r\n        (address) => address.lastUsed === true\r\n      );\r\n      if (lastUsedAddress) {\r\n        setSelectedAddress(lastUsedAddress);\r\n      } else {\r\n        setSelectedAddress(addresses[0]);\r\n      }\r\n    }\r\n  }, [details, addresses]);\r\n\r\n  useEffect(() => {\r\n    switch (props.history.location.pathname) {\r\n      case '/checkout/shipping/addressHub':\r\n        setEditingAddress(true);\r\n        setBuying(false);\r\n        break;\r\n      case '/checkout/buying':\r\n        setBuying(true);\r\n        setEditingAddress(false);\r\n        break;\r\n      default:\r\n        setBuying(false);\r\n        setEditingAddress(false);\r\n        break;\r\n    }\r\n  }, [props]);\r\n\r\n  useEffect(() => {\r\n    if (selectedAddress === undefined) {\r\n      setEditingAddress(true);\r\n    }\r\n  }, [selectedAddress]);\r\n\r\n  const checkoutShipping = () => {\r\n    return (\r\n      <div className='checkout-shipping'>\r\n        <h1>Opciones de envo a</h1>\r\n        <div className='checkout-address'>\r\n          {desktopScreenCondition && (\r\n            <div className='svg-container'>\r\n              <img src='https://svgshare.com/i/X3J.svg' alt='Ubicacin'></img>\r\n            </div>\r\n          )}\r\n          <div className='checkout-address-details'>\r\n            <span className='street'>\r\n              {selectedAddress.street +\r\n                ' ' +\r\n                (selectedAddress.streetNumber\r\n                  ? selectedAddress.streetNumber\r\n                  : '') +\r\n                (selectedAddress.reference\r\n                  ? ' - ' + selectedAddress.reference\r\n                  : '')}\r\n            </span>\r\n            <span>\r\n              {'C.P. ' +\r\n                selectedAddress.postalCode +\r\n                ' - ' +\r\n                selectedAddress.city +\r\n                ', ' +\r\n                selectedAddress.province}\r\n            </span>\r\n            <span>\r\n              {details.name +\r\n                ' ' +\r\n                details.surname +\r\n                (details.telephone ? details.telephone : '')}\r\n            </span>\r\n          </div>\r\n          <button\r\n            className='anchor-lookalike'\r\n            onClick={() => props.history.push('/checkout/shipping/addressHub')}\r\n          >\r\n            Editar o elegir otro\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const addressHub = () => {\r\n    return (\r\n      <div className='checkout-address-hub'>\r\n        <h1>Mis domicilios</h1>\r\n        {addresses.map((address) => (\r\n          <div\r\n            key={address._id}\r\n            className={\r\n              'checkout-address' +\r\n              (selectedAddress._id.toString() === address._id.toString()\r\n                ? ' selected'\r\n                : '')\r\n            }\r\n            onClick={() => setSelectedAddress(address)}\r\n          >\r\n            <div className='checkout-address-details'>\r\n              <span className='street'>\r\n                {address.street +\r\n                  ' ' +\r\n                  (address.streetNumber ? address.streetNumber : '') +\r\n                  (address.reference ? ' - ' + address.reference : '')}\r\n              </span>\r\n              <span>\r\n                {'C.P. ' +\r\n                  address.postalCode +\r\n                  ' - ' +\r\n                  address.city +\r\n                  ', ' +\r\n                  address.province}\r\n              </span>\r\n              <span>\r\n                {details.name +\r\n                  ' ' +\r\n                  details.surname +\r\n                  (details.telephone ? details.telephone : '')}\r\n              </span>\r\n            </div>\r\n            <button\r\n              className='anchor-lookalike'\r\n              onClick={() => {\r\n                dispatch(updateAddress({ ...address, lastUsed: true }));\r\n                localStorage.setItem(\r\n                  'localCheckout',\r\n                  JSON.stringify({\r\n                    ...checkout,\r\n                    editingAddress: true,\r\n                  })\r\n                );\r\n                localStorage.setItem('currentAddress', JSON.stringify(address));\r\n                window.location.href = '/nueva-direccion';\r\n              }}\r\n            >\r\n              Editar\r\n            </button>\r\n          </div>\r\n        ))}\r\n        {selectedAddress === undefined && (\r\n          <p>No tens ninguna direccin registrada</p>\r\n        )}\r\n        <div className='checkout-address-hub-buttons'>\r\n          {selectedAddress !== undefined && (\r\n            <button\r\n              className={\r\n                'primary' +\r\n                (desktopScreenCondition ? ' margin-right' : ' block')\r\n              }\r\n              onClick={() => {\r\n                dispatch(\r\n                  updateAddress({\r\n                    ...selectedAddress,\r\n                    lastUsed: true,\r\n                  })\r\n                );\r\n                props.history.push('/checkout/shipping');\r\n              }}\r\n            >\r\n              Continuar\r\n            </button>\r\n          )}\r\n          <button\r\n            className={\r\n              'secondary' + (!desktopScreenCondition ? ' margin-top block' : '')\r\n            }\r\n            onClick={() => {\r\n              localStorage.setItem(\r\n                'localCheckout',\r\n                JSON.stringify({\r\n                  ...checkout,\r\n                  editingAddress: true,\r\n                })\r\n              );\r\n              window.location.href = '/nueva-direccion';\r\n            }}\r\n          >\r\n            Agregar domicilio\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  React.useMemo(() => {\r\n    if (checkout && products) {\r\n      const sellers = [\r\n        ...new Set(checkout.products.map((product) => product.seller)),\r\n      ];\r\n      const sellersPackages = sellers.map((seller) => {\r\n        return { seller, products: [] };\r\n      });\r\n      checkout.products.forEach((product) => {\r\n        const thisProductSeller = sellersPackages.find(\r\n          (seller) => seller.seller === product.seller\r\n        );\r\n        sellersPackages[\r\n          sellersPackages.indexOf(thisProductSeller)\r\n        ].products.push({\r\n          _id: product._id,\r\n          price: product.price,\r\n          quantity: product.quantity,\r\n        });\r\n      });\r\n      let packageArray = [{ seller: sellersPackages[0].seller, products: [] }];\r\n      let totalPackagesCounter = 1;\r\n      let totalProductsAcumulator = 0;\r\n      let totalPriceAcumulator = 0;\r\n      sellersPackages.forEach((seller) => {\r\n        seller.products.forEach((product) => {\r\n          const productWithDetails = products.find(\r\n            (detProduct) => detProduct._id.toString() === product._id\r\n          );\r\n          let productQuantity = product.quantity;\r\n          while (productQuantity > 0) {\r\n            let lastPackage = packageArray[packageArray.length - 1];\r\n            let lastPackageTotalQuantity = 0;\r\n            lastPackage.products.forEach((product) => {\r\n              lastPackageTotalQuantity =\r\n                lastPackageTotalQuantity + product.quantity;\r\n            });\r\n            if (\r\n              lastPackageTotalQuantity + 1 <= 5 &&\r\n              seller.seller.toString() === lastPackage.seller.toString()\r\n            ) {\r\n              packageArray[packageArray.length - 1].products.push({\r\n                _id: product._id,\r\n                name: productWithDetails ? productWithDetails.name : '',\r\n                image: productWithDetails.cover ? productWithDetails.cover : '',\r\n                price: product.price,\r\n                quantity:\r\n                  productQuantity > 5 - lastPackageTotalQuantity\r\n                    ? 5 - lastPackageTotalQuantity\r\n                    : productQuantity,\r\n              });\r\n              const thisProductQuantity =\r\n                productQuantity > 5 - lastPackageTotalQuantity\r\n                  ? 5 - lastPackageTotalQuantity\r\n                  : productQuantity;\r\n              productQuantity = productQuantity - thisProductQuantity;\r\n              totalProductsAcumulator =\r\n                totalProductsAcumulator + thisProductQuantity;\r\n              totalPriceAcumulator =\r\n                totalPriceAcumulator + thisProductQuantity * product.price;\r\n            } else {\r\n              packageArray.push({\r\n                seller: seller.seller.toString(),\r\n                products: [\r\n                  {\r\n                    _id: product._id,\r\n                    name: productWithDetails.name\r\n                      ? productWithDetails.name\r\n                      : '',\r\n                    image: productWithDetails.cover\r\n                      ? productWithDetails.cover\r\n                      : '',\r\n                    price: product.price,\r\n                    quantity: productQuantity > 5 ? 5 : productQuantity,\r\n                  },\r\n                ],\r\n              });\r\n              const thisProductQuantity =\r\n                productQuantity > 5 ? 5 : productQuantity;\r\n              productQuantity = productQuantity - thisProductQuantity;\r\n              totalProductsAcumulator =\r\n                totalProductsAcumulator + thisProductQuantity;\r\n              totalPackagesCounter++;\r\n              totalPriceAcumulator =\r\n                totalPriceAcumulator + thisProductQuantity * product.price;\r\n            }\r\n          }\r\n        });\r\n      });\r\n      setTotalPackages(totalPackagesCounter);\r\n      setTotalProducts(totalProductsAcumulator);\r\n      setTotalPrice(totalPriceAcumulator);\r\n      setPackages(packageArray);\r\n      const packagesAcumulator = [];\r\n      packageArray.forEach((pckg, i) => {\r\n        packagesAcumulator.push(\r\n          <>\r\n            {!buying && <h4 className='margin-top'>{'Paquete ' + (i + 1)}</h4>}\r\n            <div\r\n              className={!buying ? 'screen-mini-card' : 'buying-package'}\r\n              key={i}\r\n            >\r\n              {!buying && (\r\n                <div className='screen-mini-card-header row'>\r\n                  <h2>Llega hoy</h2>\r\n                  <h4 className='package-price'>$ 300</h4>\r\n                </div>\r\n              )}\r\n              <div className={!buying ? 'screen-mini-card-body' : ''}>\r\n                {pckg.products.map((product) => (\r\n                  <div className='package-product'>\r\n                    <div className='list-img-div'>\r\n                      <img src={product.image} alt='product' />\r\n                    </div>\r\n                    <div className='package-product-details'>\r\n                      <span className='package-product-name'>\r\n                        {product.name}\r\n                      </span>\r\n                      {!buying && (\r\n                        <span className='package-product-quantity'>\r\n                          {'Cantidad: ' + product.quantity}\r\n                        </span>\r\n                      )}\r\n                      <span className='package-product-price'>\r\n                        {'$ ' + product.price + ' c/u'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </>\r\n        );\r\n      });\r\n      setRenderPackages(packagesAcumulator);\r\n    }\r\n  }, [checkout, products, buying]);\r\n  return (\r\n    <div className='width-100 flex-center height-100'>\r\n      {localError ? (\r\n        <MessageBox variant='danger'>Ha ocurrido un error</MessageBox>\r\n      ) : loading || loadingUserDetails || loadingAddresses ? (\r\n        <LoadingCircle color='blue' />\r\n      ) : (\r\n        products &&\r\n        checkout &&\r\n        addresses &&\r\n        selectedAddress !== null && (\r\n          <div\r\n            className={\r\n              'flex-start screen checkout-screen' +\r\n              (!desktopScreenCondition ? ' column' : '')\r\n            }\r\n          >\r\n            <div\r\n              className={\r\n                'column flex-start' +\r\n                (!desktopScreenCondition ? ' width-100' : '')\r\n              }\r\n            >\r\n              {editingAddress\r\n                ? addressHub()\r\n                : selectedAddress && (\r\n                    <>\r\n                      {checkoutShipping()}\r\n                      <div className='checkout-packages'>\r\n                        {renderPackages}\r\n                        {!buying && (\r\n                          <button\r\n                            className='primary'\r\n                            onClick={() => {\r\n                              props.history.push('/checkout/buying');\r\n                              localStorage.setItem(\r\n                                'localCheckout',\r\n                                JSON.stringify({\r\n                                  ...checkout,\r\n                                  packages,\r\n                                  address: selectedAddress,\r\n                                })\r\n                              );\r\n                            }}\r\n                          >\r\n                            Confirmar\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    </>\r\n                  )}\r\n            </div>\r\n            <CheckoutSideBar\r\n              totalProducts={totalProducts}\r\n              totalPackages={totalPackages}\r\n              totalPrice={totalPrice}\r\n              buying={buying}\r\n            />\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckoutScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { updateCart } from '../Actions/userActions';\r\nimport { desktopScreenCondition, formatNumber } from '../Utils/Utilities';\r\n\r\nconst CartItem = ({\r\n  i,\r\n  cartItem,\r\n  setLocalCart,\r\n  setLocalSaved,\r\n  localSaved,\r\n  localCart,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const [hasStock, setHasStock] = useState(\r\n    cartItem.quantity <= cartItem.product.stock\r\n  );\r\n  const [quantity, setQuantity] = useState(cartItem.quantity);\r\n  const [updateTimeout, setUpdateTimeout] = useState(null);\r\n  const [disableOtherBtn, setDisableOtherBtns] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setQuantity(cartItem.quantity);\r\n  }, [cartItem]);\r\n  useEffect(() => {\r\n    setHasStock(quantity <= cartItem.product.stock);\r\n  }, [quantity, cartItem]);\r\n\r\n  const removeFromSaved = (cartItem) => {\r\n    setLocalSaved([\r\n      ...localSaved.slice(0, localSaved.indexOf(cartItem)),\r\n      ...localSaved.slice(localSaved.indexOf(cartItem) + 1),\r\n    ]);\r\n  };\r\n  const removeFromCart = (cartItem) => {\r\n    setLocalCart([\r\n      ...localCart.slice(0, localCart.indexOf(cartItem)),\r\n      ...localCart.slice(localCart.indexOf(cartItem) + 1),\r\n    ]);\r\n  };\r\n  const resetTimer = (updateQuantity) => {\r\n    clearTimeout(updateTimeout);\r\n    setDisableOtherBtns(true);\r\n    setUpdateTimeout(\r\n      setTimeout(() => {\r\n        dispatch(\r\n          updateCart(\r\n            {\r\n              product: cartItem.product._id,\r\n              saved: cartItem.saved,\r\n              quantity: updateQuantity,\r\n            },\r\n            'update'\r\n          )\r\n        );\r\n        setDisableOtherBtns(false);\r\n      }, 500)\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={'cart-item' + (i === 0 ? ' first' : '')} key={i}>\r\n      <div className='cart-item-details'>\r\n        <div className='list-img-div'>\r\n          <img src={cartItem.product.images[0]} alt='Producto' />\r\n        </div>\r\n        <div className='column'>\r\n          <p\r\n            className='cart-item-name'\r\n            onClick={() => {\r\n              if (!desktopScreenCondition) {\r\n                window.location.href = '/product/' + cartItem.product._id;\r\n              }\r\n            }}\r\n          >\r\n            {cartItem.product.name}\r\n          </p>\r\n          <div className='cart-item-buttons'>\r\n            <button\r\n              className='anchor-lookalike'\r\n              onClick={() => {\r\n                if (!disableOtherBtn) {\r\n                  dispatch(\r\n                    updateCart(\r\n                      {\r\n                        product: cartItem.product._id,\r\n                      },\r\n                      'remove'\r\n                    )\r\n                  );\r\n                  cartItem.saved\r\n                    ? removeFromSaved(cartItem)\r\n                    : removeFromCart(cartItem);\r\n                }\r\n              }}\r\n            >\r\n              Eliminar\r\n            </button>\r\n            {desktopScreenCondition && (\r\n              <button\r\n                disabled={!hasStock}\r\n                className='anchor-lookalike'\r\n                onClick={() => {\r\n                  if (!disableOtherBtn) {\r\n                    if (cartItem.product.active && !cartItem.product.Finished) {\r\n                      window.location.href = '/checkout/shipping';\r\n                      localStorage.setItem(\r\n                        'localCheckout',\r\n                        JSON.stringify({\r\n                          products: [\r\n                            {\r\n                              _id: cartItem.product._id,\r\n                              seller: cartItem.product.seller,\r\n                              price: cartItem.product.price,\r\n                              quantity: cartItem.quantity,\r\n                            },\r\n                          ],\r\n                          editingAddress: false,\r\n                        })\r\n                      );\r\n                    }\r\n                    if (!cartItem.product.active || cartItem.product.Finished) {\r\n                      window.location.href = '/product' + cartItem.product._id;\r\n                    }\r\n                  }\r\n                }}\r\n              >\r\n                Comprar ahora\r\n              </button>\r\n            )}\r\n            <button\r\n              className='anchor-lookalike'\r\n              onClick={() => {\r\n                if (!disableOtherBtn) {\r\n                  dispatch(\r\n                    updateCart(\r\n                      {\r\n                        product: cartItem.product._id,\r\n                      },\r\n                      'changesave'\r\n                    )\r\n                  );\r\n                  if (cartItem.saved) {\r\n                    removeFromSaved(cartItem);\r\n                  }\r\n                  if (!cartItem.saved) {\r\n                    removeFromCart(cartItem);\r\n                  }\r\n                }\r\n              }}\r\n            >\r\n              {desktopScreenCondition\r\n                ? cartItem.saved\r\n                  ? 'Agregar al carrito'\r\n                  : 'Guardar para despus'\r\n                : cartItem.saved\r\n                ? 'Al carrito'\r\n                : 'Guardar'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className={\r\n          'flex-center' +\r\n          (desktopScreenCondition\r\n            ? ' column'\r\n            : ' row' + (window.screen.width < 768 ? ' margin-top' : ''))\r\n        }\r\n      >\r\n        <div\r\n          className={\r\n            'cart-quantity-changer' +\r\n            (!desktopScreenCondition ? ' margin-right' : '')\r\n          }\r\n        >\r\n          <button\r\n            disabled={quantity === 1}\r\n            onClick={() => {\r\n              if (hasStock) {\r\n                resetTimer(quantity - 1);\r\n                setQuantity(quantity - 1);\r\n              }\r\n            }}\r\n          >\r\n            -\r\n          </button>\r\n          {quantity && (\r\n            <input\r\n              id={'quantity-input-' + i}\r\n              type='number'\r\n              min='1'\r\n              value={quantity}\r\n              onChange={(e) => {\r\n                if (e.target.value <= cartItem.product.stock) {\r\n                  resetTimer(e.target.value);\r\n                }\r\n                setQuantity(e.target.value);\r\n              }}\r\n            />\r\n          )}\r\n          <button\r\n            disabled={quantity + 1 > cartItem.product.stock}\r\n            onClick={() => {\r\n              if (hasStock) {\r\n                resetTimer(quantity + 1);\r\n                setQuantity(quantity + 1);\r\n              }\r\n            }}\r\n          >\r\n            +\r\n          </button>\r\n        </div>\r\n        <p className={'subtle-text' + (!hasStock ? ' red' : '')}>\r\n          {hasStock\r\n            ? cartItem.product.stock + ' disponibles'\r\n            : 'No hay stock disponible'}\r\n        </p>\r\n      </div>\r\n      <h2>{'$ ' + formatNumber(cartItem.quantity * cartItem.product.price)}</h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getCartDetails } from '../Actions/userActions';\r\nimport CartItem from '../Components/CartItem';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\n\r\nconst CartScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const userCart = useSelector((state) => state.userCart);\r\n  const { loading: loadingCart, error: cartError, cart } = userCart;\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user } = userLogin;\r\n  const cartUpdate = useSelector((state) => state.cartUpdate);\r\n  const {\r\n    error: cartUpdateError,\r\n    loading: loadingUpdateCart,\r\n    item,\r\n  } = cartUpdate;\r\n\r\n  const [localCart, setLocalCart] = useState([]);\r\n  const [localSaved, setLocalSaved] = useState([]);\r\n  const [cartTotalQuantity, setCartTotalQuantity] = useState(0);\r\n  const [savedTotalQuantity, setSavedTotalQuantity] = useState(0);\r\n  const [cartSelected, setCartSelected] = useState('cart');\r\n\r\n  useEffect(() => {\r\n    user && !cart && dispatch(getCartDetails());\r\n  }, [user, dispatch, cart]);\r\n\r\n  useEffect(() => {\r\n    const replaceInCart = (cartItem) => {\r\n      const toBeReplaced = localCart.find(\r\n        (item) =>\r\n          item.product._id.toString() === cartItem.product._id.toString()\r\n      );\r\n      setLocalCart((localCart) => [\r\n        ...localCart.slice(0, localCart.indexOf(toBeReplaced)),\r\n        cartItem,\r\n        ...localCart.slice(localCart.indexOf(toBeReplaced) + 1),\r\n      ]);\r\n    };\r\n\r\n    const replaceInSaved = (cartItem) => {\r\n      const toBeReplaced = localSaved.find(\r\n        (item) =>\r\n          item.product._id.toString() === cartItem.product._id.toString()\r\n      );\r\n      setLocalSaved((localSaved) => [\r\n        ...localSaved.slice(0, localSaved.indexOf(toBeReplaced)),\r\n        cartItem,\r\n        ...localSaved.slice(localSaved.indexOf(toBeReplaced) + 1),\r\n      ]);\r\n    };\r\n    if (item) {\r\n      if (item.saved) {\r\n        replaceInSaved(item);\r\n      }\r\n      if (!item.saved) {\r\n        replaceInCart(item);\r\n      }\r\n      dispatch({ type: 'USER_CART_UPDATE_RESET' });\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [item, dispatch]);\r\n  useEffect(() => {\r\n    if (cart) {\r\n      const onlyCartArray = [];\r\n      const onlySavedArray = [];\r\n      cart.forEach((item) => {\r\n        if (item.saved) {\r\n          onlySavedArray.push(item);\r\n        }\r\n        if (!item.saved) {\r\n          onlyCartArray.push(item);\r\n        }\r\n      });\r\n      setLocalCart(onlyCartArray);\r\n      setLocalSaved(onlySavedArray);\r\n    }\r\n  }, [cart]);\r\n\r\n  useEffect(() => {\r\n    let cartTotalQuantityAcumulator = 0;\r\n    localCart.forEach(\r\n      (cartItem) => (cartTotalQuantityAcumulator += cartItem.quantity)\r\n    );\r\n    setCartTotalQuantity(cartTotalQuantityAcumulator);\r\n  }, [localCart]);\r\n\r\n  useEffect(() => {\r\n    let savedTotalQuantityAcumulator = 0;\r\n    localSaved.forEach(\r\n      (cartItem) => (savedTotalQuantityAcumulator += cartItem.quantity)\r\n    );\r\n    setSavedTotalQuantity(savedTotalQuantityAcumulator);\r\n  }, [localSaved]);\r\n\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      {loadingCart ? (\r\n        <LoadingCircle color='blue' />\r\n      ) : (\r\n        <div className='screen cart-screen'>\r\n          {cartError || cartUpdateError ? (\r\n            <MessageBox variant='danger'>\r\n              Ha ocurrido un error, prueba recargando el sitio\r\n            </MessageBox>\r\n          ) : (\r\n            loadingUpdateCart && (\r\n              <div className='absolute-loading'>\r\n                <LoadingCircle color='blue' />\r\n              </div>\r\n            )\r\n          )}\r\n          <div className='type-of-cart-btns'>\r\n            <button\r\n              className={cartSelected === 'cart' ? 'selected' : ''}\r\n              onClick={() => {\r\n                setCartSelected('cart');\r\n              }}\r\n            >\r\n              {'Carrito (' + cartTotalQuantity + ')'}\r\n            </button>\r\n            <button\r\n              className={cartSelected === 'saved' ? 'selected' : ''}\r\n              onClick={() => {\r\n                setCartSelected('saved');\r\n              }}\r\n            >\r\n              {'Guardados (' + savedTotalQuantity + ')'}\r\n            </button>\r\n          </div>\r\n          <div className='cart-items relative'>\r\n            {cartSelected === 'cart' ? (\r\n              localCart.length > 0 ? (\r\n                localCart.map((item, i) => (\r\n                  <CartItem\r\n                    cartItem={item}\r\n                    i={i}\r\n                    setLocalSaved={setLocalSaved}\r\n                    setLocalCart={setLocalCart}\r\n                    localCart={localCart}\r\n                    localSaved={localSaved}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <div className='width-100 flex-center column margin-top'>\r\n                  <h2 className='gray'>Tu carrito est vaco</h2>\r\n                  <p style={{ textAlign: 'center' }}>\r\n                    No sabs qu comprar? Miles de productos te esperan!\r\n                  </p>\r\n                </div>\r\n              )\r\n            ) : localSaved.length > 0 ? (\r\n              localSaved.map((item, i) => (\r\n                <CartItem\r\n                  cartItem={item}\r\n                  i={i}\r\n                  setLocalSaved={setLocalSaved}\r\n                  setLocalCart={setLocalCart}\r\n                  localCart={localCart}\r\n                  localSaved={localSaved}\r\n                />\r\n              ))\r\n            ) : (\r\n              <div className='width-100 flex-center column margin-top'>\r\n                <h2 className='gray'>No tens productos guardados</h2>\r\n                <p>\r\n                  Si an no ests decidido en comprar algn producto de tu\r\n                  carrito, pods dejarlo aqu.\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n          {cartSelected === 'cart' && localCart.length > 0 && (\r\n            <button\r\n              className={'primary' + (!desktopScreenCondition ? ' block' : '')}\r\n              onClick={() => {\r\n                window.location.href = '/checkout/shipping';\r\n                localStorage.setItem(\r\n                  'localCheckout',\r\n                  JSON.stringify({\r\n                    products: localCart.map((cartItem) => {\r\n                      return {\r\n                        _id: cartItem.product._id,\r\n                        seller: cartItem.product.seller,\r\n                        price: cartItem.product.price,\r\n                        quantity: cartItem.quantity,\r\n                      };\r\n                    }),\r\n                    editingAddress: false,\r\n                  })\r\n                );\r\n              }}\r\n            >\r\n              Continuar compra\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartScreen;\r\n","import React from 'react';\r\n\r\nconst GlobalRoute = () => {\r\n  const currentRoute = window.location.href.split('/')[3];\r\n  if (\r\n    !(\r\n      currentRoute.includes('register') ||\r\n      currentRoute.includes('email-validation')\r\n    )\r\n  ) {\r\n    localStorage.removeItem('RegisterCacheValues');\r\n  }\r\n  if (!currentRoute.includes('cambiar-contrasena')) {\r\n    localStorage.removeItem('emailCodeValidated');\r\n  }\r\n  if (!currentRoute.includes('email-validation')) {\r\n    localStorage.removeItem('hashCode');\r\n  }\r\n  if (!currentRoute.includes('nueva-direccion')) {\r\n    localStorage.removeItem('currentAddress');\r\n  }\r\n  if (\r\n    !(\r\n      currentRoute.includes('checkout') ||\r\n      currentRoute.includes('nueva-direccion')\r\n    )\r\n  ) {\r\n    localStorage.removeItem('__paypal_storage__');\r\n    localStorage.removeItem('localCheckout');\r\n  }\r\n  return <></>;\r\n};\r\n\r\nexport default GlobalRoute;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { updateProduct } from '../Actions/productActions';\r\n\r\nconst Rating = ({ product, userRating, userId }) => {\r\n  const dispatch = useDispatch();\r\n  const productUpdate = useSelector((state) => state.productUpdate);\r\n  const [localUserRating, setLocalUserRating] = useState(userRating);\r\n  const {\r\n    loading: loadingProductUpdate,\r\n    error: productUpdateError,\r\n  } = productUpdate;\r\n  useEffect(() => {\r\n    productUpdateError && setLocalUserRating((userRating) => userRating);\r\n  }, [productUpdateError]);\r\n  const updateReviews = (newRating) => {\r\n    const oldUserReview = product.reviews.find(\r\n      (review) => review.user.toString() === userId.toString()\r\n    );\r\n    const newReviews = (product.reviews[\r\n      product.reviews.indexOf(oldUserReview)\r\n    ] = { user: userId, rating: newRating });\r\n    dispatch(updateProduct({ _id: product._id, reviews: newReviews }));\r\n    setLocalUserRating(newRating);\r\n  };\r\n  return (\r\n    <div className='column flex-center'>\r\n      <h5 className='submit-rating-title'>Valorar el producto</h5>\r\n      <div className='rating submit'>\r\n        <span\r\n          key={0}\r\n          onClick={() => {\r\n            if (!loadingProductUpdate) {\r\n              updateReviews(1);\r\n            }\r\n          }}\r\n        >\r\n          <i\r\n            className={\r\n              localUserRating >= 1\r\n                ? 'fas fa-star'\r\n                : localUserRating >= 0.5\r\n                ? 'fas fa-star-half-alt'\r\n                : 'far fa-star'\r\n            }\r\n          ></i>\r\n        </span>\r\n        <span\r\n          key={1}\r\n          onClick={() => {\r\n            if (!loadingProductUpdate) {\r\n              updateReviews(2);\r\n            }\r\n          }}\r\n        >\r\n          <i\r\n            className={\r\n              localUserRating >= 2\r\n                ? 'fas fa-star'\r\n                : localUserRating >= 1.5\r\n                ? 'fas fa-star-half-alt'\r\n                : 'far fa-star'\r\n            }\r\n          ></i>\r\n        </span>\r\n        <span\r\n          key={2}\r\n          onClick={() => {\r\n            if (!loadingProductUpdate) {\r\n              updateReviews(3);\r\n            }\r\n          }}\r\n        >\r\n          <i\r\n            className={\r\n              localUserRating >= 3\r\n                ? 'fas fa-star'\r\n                : localUserRating >= 2.5\r\n                ? 'fas fa-star-half-alt'\r\n                : 'far fa-star'\r\n            }\r\n          ></i>\r\n        </span>\r\n        <span\r\n          key={3}\r\n          onClick={() => {\r\n            if (!loadingProductUpdate) {\r\n              updateReviews(4);\r\n            }\r\n          }}\r\n        >\r\n          <i\r\n            className={\r\n              localUserRating >= 4\r\n                ? 'fas fa-star'\r\n                : localUserRating >= 3.5\r\n                ? 'fas fa-star-half-alt'\r\n                : 'far fa-star'\r\n            }\r\n          ></i>\r\n        </span>\r\n        <span\r\n          key={4}\r\n          onClick={() => {\r\n            if (!loadingProductUpdate) {\r\n              updateReviews(5);\r\n            }\r\n          }}\r\n        >\r\n          <i\r\n            className={\r\n              localUserRating >= 5\r\n                ? 'fas fa-star'\r\n                : localUserRating >= 4.5\r\n                ? 'fas fa-star-half-alt'\r\n                : 'far fa-star'\r\n            }\r\n          ></i>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rating;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getUserOrders } from '../Actions/orderActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport SubmitRating from '../Components/SubmitRating';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\n\r\nconst UserOrdersScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const userOrders = useSelector((state) => state.userOrders);\r\n  const { loading, error, orders } = userOrders;\r\n  const [localOrders, setLocalOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    orders && setLocalOrders(orders.reverse());\r\n  }, [orders]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getUserOrders());\r\n  }, [dispatch]);\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      {loading ? (\r\n        <LoadingCircle color='blue' />\r\n      ) : error ? (\r\n        <MessageBox variant='danger'>Ha ocurrido un error</MessageBox>\r\n      ) : (\r\n        orders &&\r\n        (orders.length > 0 ? (\r\n          <div className='user-order-screen screen'>\r\n            <h1>Compras</h1>\r\n            {localOrders.map((order, i) => {\r\n              const months = [\r\n                'Enero',\r\n                'Febrero',\r\n                'Marzo',\r\n                'Abril',\r\n                'Mayo',\r\n                'Junio',\r\n                'Julio',\r\n                'Agosto',\r\n                'Septiembre',\r\n                'Octubre',\r\n                'Noviembre',\r\n                'Diciembre',\r\n              ];\r\n              const currentDate = new Date();\r\n              const deliveredAtDate = order.isDelivered\r\n                ? order.deliveredAt.split('T')[0]\r\n                : null;\r\n              const deliveredAtDateSplitted = deliveredAtDate\r\n                ? deliveredAtDate.split('-')\r\n                : null;\r\n              const deliveredAtFormated = deliveredAtDate\r\n                ? parseInt(deliveredAtDateSplitted[2]) +\r\n                  ' de ' +\r\n                  months[parseInt(deliveredAtDateSplitted[1])] +\r\n                  (currentDate.split('T')[0] === deliveredAtDate\r\n                    ? ' del ' + deliveredAtDateSplitted[0]\r\n                    : '')\r\n                : null;\r\n              return (\r\n                <div className='screen-mini-card medium' key={i}>\r\n                  <div className='screen-mini-card-header'>\r\n                    <h4>\r\n                      {order.isDelivered\r\n                        ? 'Entregado el ' + deliveredAtFormated\r\n                        : 'En camino'}\r\n                    </h4>\r\n                  </div>\r\n                  <div className='screen-mini-card-body column'>\r\n                    {order.orderItems.map((orderItem, j) => {\r\n                      const findUserReview = orderItem.product\r\n                        ? orderItem.product.reviews.find(\r\n                            (review) =>\r\n                              review.user.toString() === order.user.toString()\r\n                          )\r\n                        : null;\r\n                      const userRating = findUserReview\r\n                        ? findUserReview.rating\r\n                        : 0;\r\n                      return (\r\n                        <div className='order-item' key={j}>\r\n                          <div className='row'>\r\n                            <div className='list-img-div'>\r\n                              <img src={orderItem.image} alt='Producto' />\r\n                            </div>\r\n                            <div className='column user-order-info'>\r\n                              <a\r\n                                href={\r\n                                  orderItem.product\r\n                                    ? '/product/' + orderItem.product._id\r\n                                    : '#'\r\n                                }\r\n                                className={orderItem.product ? '' : 'disabled'}\r\n                              >\r\n                                {orderItem.name}\r\n                              </a>\r\n                              <span className='subtle-text'>\r\n                                {'$ ' +\r\n                                  orderItem.price * orderItem.quantity +\r\n                                  ' x ' +\r\n                                  orderItem.quantity +\r\n                                  (orderItem.quantity > 1\r\n                                    ? ' unidades'\r\n                                    : ' unidad')}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                          <div className='row'>\r\n                            <div\r\n                              className={\r\n                                desktopScreenCondition ? 'margin-right' : ''\r\n                              }\r\n                            >\r\n                              {orderItem.product ? (\r\n                                <SubmitRating\r\n                                  product={{\r\n                                    _id: orderItem.product._id,\r\n                                    reviews: orderItem.product.reviews,\r\n                                  }}\r\n                                  userId={order.user}\r\n                                  userRating={userRating}\r\n                                />\r\n                              ) : (\r\n                                <h5>Publicacin finalizada</h5>\r\n                              )}\r\n                            </div>\r\n                            <div className='column'>\r\n                              <span className='bold'>Vendedor</span>\r\n                              <span>\r\n                                {order.seller.name + ' ' + order.seller.surname}\r\n                              </span>\r\n                            </div>\r\n                            <button\r\n                              className={\r\n                                'primary' +\r\n                                (desktopScreenCondition\r\n                                  ? ' margin-left'\r\n                                  : ' block margin-top')\r\n                              }\r\n                              onClick={() =>\r\n                                (window.location.href =\r\n                                  '/product/' + orderItem._id)\r\n                              }\r\n                            >\r\n                              Volver a comprar\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        ) : (\r\n          <div className='margin-top width-100 flex-center column'>\r\n            <h1>No tienes compras an</h1>\r\n            <p>Empeza a comprar productos!</p>\r\n          </div>\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserOrdersScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getUserSells } from '../Actions/orderActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\n\r\nconst SellerOrdersScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const userSells = useSelector((state) => state.userSells);\r\n  const { loading, error, orders } = userSells;\r\n  const [localSells, setLocalSells] = useState([]);\r\n\r\n  useEffect(() => {\r\n    orders && setLocalSells(orders.reverse());\r\n  }, [orders]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getUserSells());\r\n  }, [dispatch]);\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      {loading ? (\r\n        <LoadingCircle color='blue' />\r\n      ) : error ? (\r\n        <MessageBox variant='danger'>Ha ocurrido un error</MessageBox>\r\n      ) : (\r\n        orders &&\r\n        (orders.length > 0 ? (\r\n          <div className='user-order-screen screen'>\r\n            <h1>Ventas</h1>\r\n            {localSells.map((order, i) => {\r\n              const months = [\r\n                'Enero',\r\n                'Febrero',\r\n                'Marzo',\r\n                'Abril',\r\n                'Mayo',\r\n                'Junio',\r\n                'Julio',\r\n                'Agosto',\r\n                'Septiembre',\r\n                'Octubre',\r\n                'Noviembre',\r\n                'Diciembre',\r\n              ];\r\n              const currentDate = new Date();\r\n              const deliveredAtDate = order.isDelivered\r\n                ? order.deliveredAt.split('T')[0]\r\n                : null;\r\n              const deliveredAtDateSplitted = deliveredAtDate\r\n                ? deliveredAtDate.split('-')\r\n                : null;\r\n              const deliveredAtFormated = deliveredAtDate\r\n                ? parseInt(deliveredAtDateSplitted[2]) +\r\n                  ' de ' +\r\n                  months[parseInt(deliveredAtDateSplitted[1])] +\r\n                  (currentDate.split('T')[0] === deliveredAtDate\r\n                    ? ' del ' + deliveredAtDateSplitted[0]\r\n                    : '')\r\n                : null;\r\n              return (\r\n                <div className='screen-mini-card medium' key={i}>\r\n                  <div className='screen-mini-card-header'>\r\n                    <h4>\r\n                      {order.isDelivered\r\n                        ? 'Entregado el ' + deliveredAtFormated\r\n                        : 'En camino'}\r\n                    </h4>\r\n                  </div>\r\n                  <div className='screen-mini-card-body column'>\r\n                    {order.orderItems.map((orderItem, j) => (\r\n                      <div className='order-item' key={j}>\r\n                        <div className='row'>\r\n                          <div className='list-img-div'>\r\n                            <img src={orderItem.image} alt='Producto' />\r\n                          </div>\r\n                          <div className='column user-order-info'>\r\n                            <a href={'/product/' + orderItem.product}>\r\n                              {orderItem.name}\r\n                            </a>\r\n                            <span className='subtle-text'>\r\n                              {'$ ' +\r\n                                orderItem.price * orderItem.quantity +\r\n                                ' x ' +\r\n                                orderItem.quantity +\r\n                                (orderItem.quantity > 1\r\n                                  ? ' unidades'\r\n                                  : ' unidad')}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                        <div\r\n                          className={\r\n                            desktopScreenCondition ? 'column' : 'row margin-top'\r\n                          }\r\n                        >\r\n                          <span className='bold'>Comprador</span>\r\n                          <span>\r\n                            {order.user.name + ' ' + order.user.surname}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        ) : (\r\n          <div className='width-100 flex-center column'>\r\n            <h1>No tienes ventas an</h1>\r\n            <p>Empeza a vender productos!</p>\r\n          </div>\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SellerOrdersScreen;\r\n","import React from 'react';\r\n\r\nconst NotFoundScreen = () => {\r\n  return (\r\n    <div className='height-100 width-100 flex-center'>\r\n      <div className='column flex-center'>\r\n        <img src='https://svgshare.com/i/XCT.svg' alt='Error 404' />\r\n        <h1 style={{ textAlign: 'center' }}>\r\n          Parece que esta pagina no existe\r\n        </h1>\r\n        <a href='/'>Ir a la pagina principal</a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFoundScreen;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deleteAddress, getUserAddresses } from '../Actions/addressActions';\r\nimport MessageBox from './MessageBox';\r\n\r\nconst UserDataAddress = ({ i, address }) => {\r\n  const dispatch = useDispatch();\r\n  const addressDelete = useSelector((state) => state.addressDelete);\r\n  const { loading, error, deleted } = addressDelete;\r\n\r\n  const [openOptions, setOpenOptions] = useState(false);\r\n\r\n  const optionsRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (deleted) {\r\n      dispatch(getUserAddresses());\r\n      dispatch({ type: 'DELETE_ADDRESS_RESET' });\r\n    }\r\n  }, [deleted, dispatch]);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      const { current: wrap } = optionsRef;\r\n      if (wrap && !wrap.contains(event.target)) {\r\n        setOpenOptions(false);\r\n      }\r\n    };\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  return (\r\n    <div className='row width-100'>\r\n      <div\r\n        className={\r\n          'column data-screen-address-div' +\r\n          (i > 0 ? ' separator padding-top' : '')\r\n        }\r\n      >\r\n        <p className='data-screen-data bold'>\r\n          {address.street +\r\n            ' ' +\r\n            (address.streetNumber\r\n              ? address.streetNumber\r\n              : '(' + address.reference + ')')}\r\n        </p>\r\n        <p className='subtle-text data-screen-data'>\r\n          {address.province + '(' + address.postalCode + '), ' + address.city}\r\n        </p>\r\n      </div>\r\n      <div className='three-dots-btn' ref={optionsRef}>\r\n        <button onClick={() => setOpenOptions(!openOptions)}>\r\n          <img src='https://svgshare.com/i/Wuc.svg' alt='three dots' />\r\n        </button>\r\n        {openOptions && (\r\n          <ul className='three-dots-options '>\r\n            <li\r\n              onClick={() => {\r\n                localStorage.setItem('currentAddress', JSON.stringify(address));\r\n                window.location.href = '/nueva-direccion';\r\n              }}\r\n            >\r\n              Modificar\r\n            </li>\r\n            <li\r\n              onClick={() => {\r\n                if (!loading) {\r\n                  setOpenOptions(false);\r\n                  dispatch(deleteAddress(address._id));\r\n                }\r\n              }}\r\n            >\r\n              Eliminar\r\n            </li>\r\n            {error && (\r\n              <MessageBox variant='danger'>\r\n                Ha ocurrido un error eliminando el domicilio\r\n              </MessageBox>\r\n            )}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserDataAddress;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getUserAddresses } from '../Actions/addressActions';\r\nimport { detailsUser } from '../Actions/userActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport UserDataAddress from '../Components/UserDataAddress';\r\n\r\nconst UserDataScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user } = userLogin;\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const { loading, error, user: details } = userDetails;\r\n  const userAddresses = useSelector((state) => state.userAddresses);\r\n  const {\r\n    loading: loadingAddresses,\r\n    error: errorAddresses,\r\n    addresses,\r\n  } = userAddresses;\r\n\r\n  useEffect(() => {\r\n    user && dispatch(getUserAddresses());\r\n    user && dispatch(detailsUser(user._id));\r\n  }, [user, dispatch]);\r\n\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      {loading ? (\r\n        <LoadingCircle color='blue' />\r\n      ) : error ? (\r\n        <MessageBox variant='danger'>Ha ocurrido un error</MessageBox>\r\n      ) : (\r\n        details && (\r\n          <div className='screen data-screen flex-start column'>\r\n            <h1>Mis datos</h1>\r\n            <div className='column width-100'>\r\n              <h2>Datos de cuenta</h2>\r\n              <div className='screen-mini-card width-100 row'>\r\n                <div className='column width-100'>\r\n                  <div\r\n                    className='row width-100 relative pointer'\r\n                    onClick={() =>\r\n                      (window.location.href = '/authentication?Type=username')\r\n                    }\r\n                  >\r\n                    <p className='bold '>Usuario</p>\r\n                    <p className='data-screen-data '>{details.userName}</p>\r\n                    <i className='fas fa-caret-right '></i>\r\n                  </div>\r\n                  <div\r\n                    className='row width-100 relative separator pointer'\r\n                    onClick={() =>\r\n                      (window.location.href = '/authentication?Type=email')\r\n                    }\r\n                  >\r\n                    <p className='bold '>E-mail</p>\r\n                    <p className='data-screen-data '>{details.email}</p>\r\n                    <i className='fas fa-caret-right '></i>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className='column width-100'>\r\n              <h2>Datos de personales</h2>\r\n              <div className='screen-mini-card width-100 row'>\r\n                <div className='column width-100'>\r\n                  <div className='row width-100 relative'>\r\n                    <p className='bold '>Nombre y apellido</p>\r\n                    <p className='data-screen-data '>\r\n                      {details.name + ' ' + details.surname}\r\n                    </p>\r\n                    <i className='fas fa-caret-right '></i>\r\n                  </div>\r\n                  <div className='row width-100 relative separator'>\r\n                    <p className='bold '>Documento</p>\r\n                    <p className='data-screen-data '>{'DNI ' + details.dni}</p>\r\n                    <i className='fas fa-caret-right '></i>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className='column width-100'>\r\n              <h2>Domicilios</h2>\r\n              <div className='screen-mini-card width-100'>\r\n                {loadingAddresses ? (\r\n                  <LoadingCircle color='blue' />\r\n                ) : errorAddresses ? (\r\n                  <MessageBox variant='danger'>\r\n                    Ha ocurrido un error cargando los domicilios\r\n                  </MessageBox>\r\n                ) : (\r\n                  addresses && (\r\n                    <div className='column width-100'>\r\n                      {addresses.map((address, i) => (\r\n                        <UserDataAddress i={i} address={address} />\r\n                      ))}\r\n                      <div className='separator width-100 padding-top'>\r\n                        <a href='nueva-direccion'>Agregar domicilio</a>\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserDataScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  authenticateUser,\r\n  checkUserName,\r\n  loginUser,\r\n  userVerifyEmailExists,\r\n} from '../Actions/userActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport { generateAuthenticateToken } from '../Utils/Utilities';\r\n\r\nconst AuthenticationScreen = (props) => {\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user } = userLogin;\r\n  const userAuthenticate = useSelector((state) => state.userAuthenticate);\r\n  const { loading, error, success } = userAuthenticate;\r\n  const userVerifyEmail = useSelector((state) => state.userVerifyEmail);\r\n  const {\r\n    loading: loadingVerifyEmail,\r\n    error: errorVerifyingEmail,\r\n    success: successVerifyingEmail,\r\n  } = userVerifyEmail;\r\n  const urlParams = new URLSearchParams(props.location.search);\r\n  const [type] = useState(urlParams.get('Type'));\r\n\r\n  const [loginInfo] = useState(\r\n    user &&\r\n      (user.userName\r\n        ? user.userName\r\n        : user.email\r\n        ? user.email\r\n        : user.telephone\r\n        ? user.telephone\r\n        : '')\r\n  );\r\n  const [password, setPassword] = useState('');\r\n  const [localError, setLocalError] = useState('');\r\n  const [buttonClicked, setButtonClicked] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!(type === 'username' || type === 'email')) {\r\n      window.location.href = '/mis-datos';\r\n    }\r\n  }, [type]);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      setLocalError(error);\r\n    }\r\n  }, [error]);\r\n  useEffect(() => {\r\n    if (successVerifyingEmail) {\r\n      window.location.href = '/email-validation?authType=changepsw';\r\n    }\r\n  }, [successVerifyingEmail]);\r\n  useEffect(() => {\r\n    if (success) {\r\n      localStorage.setItem(\r\n        'authenticateToken',\r\n        JSON.stringify({ token: generateAuthenticateToken(user) })\r\n      );\r\n      dispatch({ type: 'USER_AUTHENTICATE_RESET' });\r\n      if (type === 'username') {\r\n        window.location.href = '/mis-datos/cambiar-usuario';\r\n      }\r\n      if (type === 'email') {\r\n        window.location.href = '/mis-datos/cambiar-email';\r\n      }\r\n    }\r\n  }, [success, dispatch, user, type, successVerifyingEmail]);\r\n\r\n  useEffect(() => {\r\n    if (errorVerifyingEmail) {\r\n      setLocalError('Ha ocurrido un error');\r\n    }\r\n  }, [errorVerifyingEmail]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (buttonClicked === 'login') {\r\n      if (password !== '') {\r\n        dispatch(authenticateUser({ _id: user._id, password: password }));\r\n      }\r\n      if (password === '') {\r\n        setLocalError('Ingres la clave');\r\n      }\r\n    } else if (buttonClicked === 'dontknowpass') {\r\n      dispatch(checkUserName(loginInfo));\r\n      dispatch(userVerifyEmailExists(user.email));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      <div className='extra-header'></div>\r\n      <form onSubmit={submitHandler} className='screen-card login-screen'>\r\n        <div>\r\n          <h1>Ahora, tu clave</h1>\r\n          <div className='email-badge row top'>\r\n            <i className='fa fa-user'></i>\r\n            <p className='email-badge__user-name'>{loginInfo}</p>\r\n            <a href='/mis-datos'>\r\n              <i className='fa fa-times' style={{ color: 'black' }}></i>\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div className='wrapper password'>\r\n          <div className='underline-label-input'>\r\n            <input\r\n              id='password'\r\n              type='password'\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              onKeyDown={(e) => {\r\n                if (e.keyCode === 13) {\r\n                  if (password) {\r\n                    dispatch(loginUser({ _id: user._id, password }));\r\n                  } else {\r\n                    setLocalError('Ingres la clave');\r\n                  }\r\n                }\r\n              }}\r\n              autoFocus\r\n            ></input>\r\n            <div className={'underline' + (localError ? ' error' : '')}></div>\r\n            <label>Clave</label>\r\n            <span className={localError ? ' error' : ' noerror'}>\r\n              {localError && localError}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <button\r\n            type='submit'\r\n            className={'primary block' + (loading ? ' loading-padding' : '')}\r\n            onClick={() => {\r\n              setButtonClicked('login');\r\n            }}\r\n            disabled={loading}\r\n          >\r\n            {loading ? <LoadingCircle color='blue' /> : 'Continuar'}\r\n          </button>\r\n          <button\r\n            type='submit'\r\n            className={\r\n              'secondary block' + (loadingVerifyEmail ? ' no-padding' : '')\r\n            }\r\n            onClick={() => {\r\n              setButtonClicked('dontknowpass');\r\n            }}\r\n            disabled={loadingVerifyEmail}\r\n          >\r\n            {loadingVerifyEmail ? (\r\n              <LoadingCircle color='blue' />\r\n            ) : (\r\n              'No s mi clave'\r\n            )}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthenticationScreen;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { verifyAuthenticationToken } from '../../Utils/Utilities';\r\n\r\nconst ChangeUserInfoRoute = ({ component: Component, ...rest }) => {\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user } = userLogin;\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        const authenticateToken = localStorage.getItem('authenticateToken')\r\n          ? JSON.parse(localStorage.getItem('authenticateToken'))\r\n          : null;\r\n        return user && verifyAuthenticationToken(authenticateToken.token) ? (\r\n          <Component {...props}></Component>\r\n        ) : (\r\n          <Redirect to='/mis-datos' />\r\n        );\r\n      }}\r\n    ></Route>\r\n  );\r\n};\r\n\r\nexport default ChangeUserInfoRoute;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { updateUser } from '../Actions/userActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\n\r\nconst ChangeUserScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user } = userLogin;\r\n  const userUpdate = useSelector((state) => state.userUpdate);\r\n  const { loading, error, success } = userUpdate;\r\n\r\n  const [userName, setUserName] = useState('');\r\n  const [userNameError, setUserNameError] = useState('');\r\n  const [disableBtn, setDisableBtn] = useState(true);\r\n\r\n  useEffect(() => {\r\n    user && setUserName(user.userName);\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (userName !== user.userName) {\r\n      if (loading) {\r\n        setDisableBtn(true);\r\n      }\r\n      if (!loading) {\r\n        setDisableBtn(false);\r\n      }\r\n      if (userName.length < 3) {\r\n        setDisableBtn(true);\r\n      }\r\n      if (userName.length >= 3 && !loading) {\r\n        setDisableBtn(false);\r\n      }\r\n      if (!userNameError && !loading && userName.length >= 3) {\r\n        setDisableBtn(false);\r\n      }\r\n    }\r\n    if (userNameError) {\r\n      setDisableBtn(true);\r\n    }\r\n  }, [loading, userName, userNameError, user]);\r\n\r\n  useEffect(() => {\r\n    if (success) {\r\n      window.location.href = '/mis-datos';\r\n    }\r\n  }, [success]);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      setDisableBtn(true);\r\n      if (error.includes('duplicate key error')) {\r\n        setUserNameError('Este usuario ya existe, elige otro.');\r\n      }\r\n      if (!error.includes('duplicate key error')) {\r\n        setUserNameError(error);\r\n      }\r\n    }\r\n    if (!error) {\r\n      setDisableBtn(true);\r\n      setUserNameError('');\r\n    }\r\n  }, [error]);\r\n\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      {user && (\r\n        <div className='screen flex-center screen-padding-top'>\r\n          <div className='flex-start column'>\r\n            <h1>Modificar usuario</h1>\r\n            <div className='screen-mini-card change-user'>\r\n              <div className='wrapper login margin-top'>\r\n                <div className='underline-label-input big-form'>\r\n                  <input\r\n                    className={userNameError ? ' error' : ''}\r\n                    value={userName}\r\n                    type='text'\r\n                    maxLength='50'\r\n                    onChange={(e) => {\r\n                      setUserName(e.target.value);\r\n                      if (e.target.value === user.userName) {\r\n                        setUserNameError(\r\n                          'Ingresa un usuario distinto al que ests usando.'\r\n                        );\r\n                      }\r\n                      if (e.target.value !== user.userName) {\r\n                        setUserNameError('');\r\n                      }\r\n                    }}\r\n                  ></input>\r\n                  <div\r\n                    className={'underline' + (userNameError ? ' error' : '')}\r\n                  ></div>\r\n                  <label>Nombre de usuario</label>\r\n                  <span\r\n                    className={\r\n                      'reg-info-after' + (userNameError ? ' error' : '')\r\n                    }\r\n                  >\r\n                    {userNameError\r\n                      ? userNameError\r\n                      : 'Ingresalo tal como figura en tu documento.'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className='padding-top'>\r\n                <p className='bold'>\r\n                  Para modificar tu usuario, ten en cuenta lo siguiente:\r\n                </p>\r\n                <ul className='with-style'>\r\n                  <li className='margin-left'>\r\n                    No debe tener palabras inapropiadas o vulgares\r\n                  </li>\r\n                  <li className='margin-left'>\r\n                    Debe tener 1 espacio solamente\r\n                  </li>\r\n                  <li className='margin-left'>\r\n                    Debe tener entre 3 y 50 caracteres\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div className='row flex-start margin-top padding-top'>\r\n                <button\r\n                  className={\r\n                    'primary big-form' + (loading ? ' no-padding' : '')\r\n                  }\r\n                  disabled={disableBtn}\r\n                  onClick={() => {\r\n                    dispatch(updateUser({ userName: userName }));\r\n                  }}\r\n                >\r\n                  {loading ? <LoadingCircle color='blue' /> : 'Modificar'}\r\n                </button>\r\n                <button\r\n                  className={\r\n                    'secondary big-form' +\r\n                    (desktopScreenCondition ? ' margin-left' : '')\r\n                  }\r\n                  onClick={() => (window.location.href = '/mis-datos')}\r\n                >\r\n                  Cancelar\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangeUserScreen;\r\n","import React, { useEffect, useState } from 'react';\r\n// import axios from 'axios';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { updateUser } from '../Actions/userActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport { desktopScreenCondition } from '../Utils/Utilities';\r\n\r\nconst ChangeEmailScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user } = userLogin;\r\n  const userUpdate = useSelector((state) => state.userUpdate);\r\n  const { loading, error, success } = userUpdate;\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [confirmEmail, setConfirmEmail] = useState('');\r\n  const [emailError, setEmailError] = useState('');\r\n  const [confirmEmailError, setConfirmEmailError] = useState('');\r\n  const [disableBtn, setDisableBtn] = useState(true);\r\n  const [verifiedEmail, setVerifiedEmail] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (verifiedEmail) {\r\n      dispatch(updateUser({ email: email }));\r\n    }\r\n  }, [verifiedEmail, dispatch, email]);\r\n\r\n  useEffect(() => {\r\n    if (email !== user.email) {\r\n      if (loading) {\r\n        setDisableBtn(true);\r\n      }\r\n      if (!loading) {\r\n        setDisableBtn(false);\r\n      }\r\n      if (email.length < 6) {\r\n        setDisableBtn(true);\r\n      }\r\n      if (email.length >= 6 && !loading) {\r\n        setDisableBtn(false);\r\n      }\r\n      if (!emailError && !loading && email.length >= 6) {\r\n        setDisableBtn(false);\r\n      }\r\n    }\r\n    if (emailError) {\r\n      setDisableBtn(true);\r\n    }\r\n  }, [loading, email, emailError, user]);\r\n\r\n  useEffect(() => {\r\n    if (success) {\r\n      window.location.href = '/mis-datos';\r\n    }\r\n  }, [success]);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      setDisableBtn(true);\r\n      if (error.includes('duplicate key error')) {\r\n        setEmailError('Este e-mail ya esta en uso, elige otro.');\r\n      }\r\n      if (!error.includes('duplicate key error')) {\r\n        setEmailError(error);\r\n      }\r\n    }\r\n    if (!error) {\r\n      setDisableBtn(true);\r\n      setEmailError('');\r\n    }\r\n  }, [error]);\r\n  const verifyEmail = async (email) => {\r\n    setDisableBtn(true);\r\n    if (\r\n      /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(\r\n        email\r\n      )\r\n    ) {\r\n      // try {\r\n      //   const data = await axios.get(\r\n      //     'https://emailvalidation.abstractapi.com/v1/?api_key=' +\r\n      //       process.env.REACT_APP_EMAIL_VALIDATION_API_KEY +\r\n      //       '&email=' +\r\n      //       email\r\n      //   );\r\n      //   if (\r\n      //     data &&\r\n      //     data.data &&\r\n      //     data.data.deliverability &&\r\n      //     (data.data.deliverability === 'DELIVERABLE' ||\r\n      //       data.data.deliverability === 'UNKNOWN')\r\n      //   ) {\r\n      //     setVerifiedEmail(true);\r\n      //   } else {\r\n      //     setDisableBtn(false);\r\n      //     setEmailError('Ha ocurrido un error, intenta nuevamente');\r\n      //   }\r\n      // } catch (error) {\r\n      //   setDisableBtn(false);\r\n      //   setEmailError('Ha ocurrido un error, intenta nuevamente');\r\n      // }\r\n      // REACHED API QUOTA LIMIT FOR THE MONTH\r\n      setVerifiedEmail(true);\r\n    } else {\r\n      setDisableBtn(false);\r\n      setEmailError('Us el formato nombre@ejemplo.com');\r\n    }\r\n  };\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      {user && (\r\n        <div className='screen flex-center' style={{ marginTop: '8rem' }}>\r\n          <div className='flex-start column'>\r\n            <h1>Modificar e-mail</h1>\r\n            <div className='screen-mini-card change-user'>\r\n              <div className='wrapper login margin-top'>\r\n                <div className='underline-label-input big-form'>\r\n                  <input\r\n                    className={emailError ? ' error' : ''}\r\n                    value={email}\r\n                    type='text'\r\n                    maxLength='50'\r\n                    onChange={(e) => {\r\n                      setEmail(e.target.value);\r\n                      if (e.target.value === user.emailError) {\r\n                        setEmailError(\r\n                          'Ingresa un e-mail distinto al que ests usando.'\r\n                        );\r\n                      }\r\n                      if (e.target.value !== user.email) {\r\n                        setEmailError('');\r\n                      }\r\n                    }}\r\n                    onKeyDown={(e) => {\r\n                      if (e.keyCode === 13) {\r\n                        if (email === confirmEmail) {\r\n                          verifyEmail(email);\r\n                        }\r\n                        if (email !== confirmEmail) {\r\n                          setConfirmEmailError(\r\n                            'El e-mail debe coincidir con el de arriba.'\r\n                          );\r\n                        }\r\n                      }\r\n                    }}\r\n                  ></input>\r\n                  <div\r\n                    className={'underline' + (emailError ? ' error' : '')}\r\n                  ></div>\r\n                  <label>Ingresa tu nuevo e-mail</label>\r\n                  <span\r\n                    className={'reg-info-after' + (emailError ? ' error' : '')}\r\n                  >\r\n                    {emailError\r\n                      ? emailError\r\n                      : 'Ingresalo tal como figura en tu documento.'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className='wrapper login' style={{ marginTop: '5rem' }}>\r\n                <div className='underline-label-input big-form'>\r\n                  <input\r\n                    className={confirmEmailError ? ' error' : ''}\r\n                    value={confirmEmail}\r\n                    type='text'\r\n                    maxLength='50'\r\n                    onChange={(e) => {\r\n                      setConfirmEmail(e.target.value);\r\n                      setConfirmEmailError('');\r\n                    }}\r\n                    onKeyDown={(e) => {\r\n                      if (e.keyCode === 13) {\r\n                        if (email === confirmEmail) {\r\n                          verifyEmail(email);\r\n                        }\r\n                        if (email !== confirmEmail) {\r\n                          setConfirmEmailError(\r\n                            'El e-mail debe coincidir con el de arriba.'\r\n                          );\r\n                        }\r\n                      }\r\n                    }}\r\n                  ></input>\r\n                  <div\r\n                    className={\r\n                      'underline' + (confirmEmailError ? ' error' : '')\r\n                    }\r\n                  ></div>\r\n                  <label>Repite tu e-mail</label>\r\n                  <span\r\n                    className={\r\n                      'reg-info-after' + (confirmEmailError ? ' error' : '')\r\n                    }\r\n                  >\r\n                    {confirmEmailError\r\n                      ? confirmEmailError\r\n                      : 'Ingresalo tal como figura en tu documento.'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className='row flex-start margin-top padding-top'>\r\n                <button\r\n                  className={\r\n                    'primary big-form margin-top' +\r\n                    (loading ? ' no-padding' : '')\r\n                  }\r\n                  disabled={disableBtn}\r\n                  onClick={() => {\r\n                    if (email === confirmEmail) {\r\n                      verifyEmail(email);\r\n                    }\r\n                    if (email !== confirmEmail) {\r\n                      setConfirmEmailError(\r\n                        'El e-mail debe coincidir con el de arriba.'\r\n                      );\r\n                    }\r\n                  }}\r\n                >\r\n                  {loading ? <LoadingCircle color='blue' /> : 'Guardar'}\r\n                </button>\r\n                <button\r\n                  className={\r\n                    'secondary margin-left' +\r\n                    (!desktopScreenCondition\r\n                      ? ' margin-top block margin-right'\r\n                      : '')\r\n                  }\r\n                  onClick={() => (window.location.href = '/mis-datos')}\r\n                >\r\n                  Cancelar\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangeEmailScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deleteNotificationUser } from '../Actions/userActions';\r\nimport LoadingCircle from '../Components/LoadingCircle';\r\nimport MessageBox from '../Components/MessageBox';\r\nimport {\r\n  formatDate,\r\n  justMinutesFromDate,\r\n  removeMinutesFromDate,\r\n} from '../Utils/Utilities';\r\n\r\nconst NotificationScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { user } = userLogin;\r\n  const userDeleteNotification = useSelector(\r\n    (state) => state.userDeleteNotification\r\n  );\r\n  const {\r\n    loading: loadingDeleteNotification,\r\n    error: errorDeletingNotification,\r\n  } = userDeleteNotification;\r\n  const [localNotifications, setLocalNotifications] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setLocalNotifications(user.userData.notifications);\r\n    }\r\n  }, [user]);\r\n\r\n  var currentTime = new Date();\r\n  return (\r\n    <div className='width-100 flex-center'>\r\n      {user &&\r\n        (localNotifications.length > 0 ? (\r\n          errorDeletingNotification ? (\r\n            <MessageBox variant='danger'>Ha ocurrido un error</MessageBox>\r\n          ) : (\r\n            <div className='screen'>\r\n              {loadingDeleteNotification && (\r\n                <div className='absolute-loading'>\r\n                  <LoadingCircle color='blue' />\r\n                </div>\r\n              )}\r\n              <div className='notification-screen-list'>\r\n                <h2>Notificaciones</h2>\r\n                <ul>\r\n                  {localNotifications.map((noti) => (\r\n                    <li\r\n                      className='separator'\r\n                      key={noti._id}\r\n                      style={{ position: 'relative' }}\r\n                    >\r\n                      <div className='absolute-right-bottom'>\r\n                        <button\r\n                          className='anchor-lookalike'\r\n                          onClick={() => {\r\n                            dispatch(deleteNotificationUser(noti._id));\r\n                            setLocalNotifications(\r\n                              localNotifications.filter(\r\n                                (localNoti) => localNoti._id !== noti._id\r\n                              )\r\n                            );\r\n                          }}\r\n                        >\r\n                          Eliminar\r\n                        </button>\r\n                      </div>\r\n                      <a\r\n                        className='row top nodecoration'\r\n                        href={noti.linkTo}\r\n                        onClick={() =>\r\n                          dispatch(deleteNotificationUser(noti._id))\r\n                        }\r\n                      >\r\n                        <h4>\r\n                          {noti.text.split(':')[0]}\r\n                          <br />\r\n                          {noti.text.split(':')[1]}\r\n                        </h4>\r\n                      </a>\r\n                      <p className='notification-date absolute-right-top no-margin'>\r\n                        <i className='fas fa-clock'></i>\r\n                        {formatDate(currentTime) ===\r\n                        removeMinutesFromDate(noti.createdAt)\r\n                          ? justMinutesFromDate(noti.createdAt)\r\n                          : removeMinutesFromDate(noti.createdAt)}\r\n                      </p>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          )\r\n        ) : (\r\n          <h2>No tienes notificaciones</h2>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationScreen;\r\n","import { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\nimport SimpleFooter from './Components/Footers/SimpleFooter';\r\nimport Header from './Components/Headers/Header';\r\nimport EmptyHeader from './Components/Headers/EmptyHeader';\r\nimport LessHeader from './Components/Headers/LessHeader';\r\nimport PrivateRoute from './Components/Routes/PrivateRoute';\r\nimport NotLogedRoute from './Components/Routes/NotLogedRoute';\r\nimport ChangePasswordRoute from './Components/Routes/ChangePasswordRoute';\r\nimport EnterPassScreen from './Screens/EnterPassScreen';\r\nimport HomeScreen from './Screens/HomeScreen';\r\nimport LoginScreen from './Screens/LoginScreen';\r\nimport ProductScreen from './Screens/ProductScreen';\r\nimport RegisterScreen from './Screens/RegisterScreen';\r\nimport EmailValidationScreen from './Screens/EmailValidationScreen';\r\nimport NewProductScreen from './Screens/NewProductScreen';\r\nimport EnterPassRoute from './Components/Routes/EnterPassRoute';\r\nimport EmailValidationRoute from './Components/Routes/EmailValidationRoute';\r\nimport HomeScreenRoute from './Components/Routes/HomeScreenRoute';\r\nimport DraftsScreen from './Screens/DraftsScreen';\r\nimport PostScreen from './Screens/PostScreen';\r\nimport AddressScreen from './Screens/AddressScreen';\r\nimport ChangePasswordScreen from './Screens/ChangePasswordScreen';\r\nimport SearchScreen from './Screens/SearchScreen';\r\nimport ProductPublishedScreen from './Screens/ProductPublishedScreen';\r\nimport HistoryScreen from './Screens/HistoryScreen';\r\nimport FavoritesScreen from './Screens/FavoritesScreen';\r\nimport PublishedScreen from './Screens/PublishedScreen';\r\nimport ModifyProductScreen from './Screens/ModifyProductScreen';\r\nimport UserQuestionsScreen from './Screens/UserQuestionsScreen';\r\nimport CheckoutRoute from './Components/Routes/CheckoutRoute';\r\nimport CheckoutScreen from './Screens/CheckoutScreen';\r\nimport CartScreen from './Screens/CartScreen';\r\nimport GlobalRoute from './Components/Routes/GlobalRoute';\r\nimport UserOrdersScreen from './Screens/UserOrdersScreen';\r\nimport SellerOrdersScreen from './Screens/SellerOrdersScreen';\r\nimport NotFoundScreen from './Screens/NotFoundScreen';\r\nimport UserDataScreen from './Screens/UserDataScreen';\r\nimport AuthenticationScreen from './Screens/AuthenticationScreen';\r\nimport ChangeUserInfoRoute from './Components/Routes/ChangeUserInfoRoute';\r\nimport ChangeUserScreen from './Screens/ChangeUserScreen';\r\nimport ChangeEmailScreen from './Screens/ChangeEmailScreen';\r\nimport NotificationScreen from './Screens/NotificationScreen';\r\n\r\nconst App = () => {\r\n  useEffect(() => {\r\n    const updateFontSize = () => {\r\n      document.querySelector('html').style.fontSize =\r\n        62.5 * window.devicePixelRatio + '%';\r\n    };\r\n    updateFontSize();\r\n    window.addEventListener('resize', updateFontSize);\r\n    return () => {\r\n      window.removeEventListener('resize', updateFontSize);\r\n    };\r\n  }, []);\r\n  if (window.location.pathname !== '/cambiar-contrasena')\r\n    localStorage.removeItem('emailCodeValidated');\r\n  return (\r\n    <BrowserRouter key={window.location.pathname}>\r\n      <div className='grid-container'>\r\n        <GlobalRoute />\r\n        <Switch>\r\n          <Route path='/' exact component={Header}></Route>\r\n          <Route path='/product/:id' component={Header}></Route>\r\n          <Route path='/user/:id' component={Header}></Route>\r\n          <Route path='/notificaciones' component={Header}></Route>\r\n          <Route path='/productos' component={Header}></Route>\r\n          <Route path='/historial' component={Header}></Route>\r\n          <Route path='/favoritos' component={Header}></Route>\r\n          <Route path='/publicaciones' component={Header}></Route>\r\n          <Route path='/preguntas' component={Header}></Route>\r\n          <Route path='/carrito' component={Header}></Route>\r\n          <Route path='/mis-compras' component={Header}></Route>\r\n          <Route path='/mis-ventas' component={Header}></Route>\r\n          <Route path='/mis-datos' component={Header}></Route>\r\n          <PrivateRoute\r\n            path='/vender'\r\n            exact\r\n            component={LessHeader}\r\n          ></PrivateRoute>\r\n          <PrivateRoute\r\n            path='/vender/producto'\r\n            component={LessHeader}\r\n          ></PrivateRoute>\r\n          <PrivateRoute path='/publicar' component={LessHeader}></PrivateRoute>\r\n          <PrivateRoute\r\n            path='/nueva-direccion'\r\n            component={LessHeader}\r\n          ></PrivateRoute>\r\n          <PrivateRoute\r\n            path='/producto-publicado/:id'\r\n            component={LessHeader}\r\n          ></PrivateRoute>\r\n          <PrivateRoute\r\n            path='/producto/modificar/:id'\r\n            component={LessHeader}\r\n          ></PrivateRoute>\r\n          <Route path='*' component={EmptyHeader}></Route>\r\n        </Switch>\r\n        <main id='main'>\r\n          <Switch>\r\n            <HomeScreenRoute\r\n              path='/'\r\n              component={HomeScreen}\r\n              exact\r\n            ></HomeScreenRoute>\r\n            <Route path='/product/:id' component={ProductScreen}></Route>\r\n            <NotLogedRoute\r\n              path='/register'\r\n              component={RegisterScreen}\r\n              exact\r\n            ></NotLogedRoute>\r\n            <EmailValidationRoute\r\n              path='/email-validation'\r\n              component={EmailValidationScreen}\r\n              exact\r\n            ></EmailValidationRoute>\r\n            <NotLogedRoute\r\n              path='/login'\r\n              component={LoginScreen}\r\n              exact\r\n            ></NotLogedRoute>\r\n            <EnterPassRoute\r\n              path='/login/enterpass'\r\n              component={EnterPassScreen}\r\n            ></EnterPassRoute>\r\n            <PrivateRoute\r\n              path='/vender'\r\n              exact\r\n              component={DraftsScreen}\r\n              redirectTo={'?loginType=vender'}\r\n            ></PrivateRoute>\r\n            <PrivateRoute\r\n              path='/vender/producto'\r\n              component={NewProductScreen}\r\n              redirectTo={'?loginType=vender'}\r\n            ></PrivateRoute>\r\n            <PrivateRoute\r\n              path='/publicar'\r\n              component={PostScreen}\r\n              redirectTo={'?loginType=vender'}\r\n            ></PrivateRoute>\r\n            <PrivateRoute\r\n              path='/nueva-direccion'\r\n              component={AddressScreen}\r\n              redirectTo={'?loginType=new-address'}\r\n              exact\r\n            ></PrivateRoute>\r\n            <ChangePasswordRoute\r\n              path='/cambiar-contrasena'\r\n              component={ChangePasswordScreen}\r\n              exact\r\n            ></ChangePasswordRoute>\r\n            <Route path='/productos' component={SearchScreen}></Route>\r\n            <PrivateRoute\r\n              path='/producto-publicado/:id'\r\n              component={ProductPublishedScreen}\r\n            ></PrivateRoute>\r\n            <PrivateRoute\r\n              path='/historial'\r\n              component={HistoryScreen}\r\n            ></PrivateRoute>\r\n            <PrivateRoute\r\n              path='/favoritos'\r\n              component={FavoritesScreen}\r\n            ></PrivateRoute>\r\n            <PrivateRoute\r\n              path='/publicaciones'\r\n              component={PublishedScreen}\r\n            ></PrivateRoute>\r\n            <PrivateRoute\r\n              path='/producto/modificar/:id'\r\n              component={ModifyProductScreen}\r\n            ></PrivateRoute>\r\n            <PrivateRoute\r\n              path='/preguntas'\r\n              component={UserQuestionsScreen}\r\n            ></PrivateRoute>\r\n            <CheckoutRoute\r\n              path='/checkout'\r\n              component={CheckoutScreen}\r\n            ></CheckoutRoute>\r\n            <PrivateRoute path='/carrito' component={CartScreen}></PrivateRoute>\r\n            <PrivateRoute\r\n              path='/mis-compras'\r\n              component={UserOrdersScreen}\r\n            ></PrivateRoute>\r\n            <PrivateRoute\r\n              path='/mis-ventas'\r\n              component={SellerOrdersScreen}\r\n            ></PrivateRoute>\r\n            <PrivateRoute\r\n              path='/mis-datos'\r\n              exact\r\n              component={UserDataScreen}\r\n            ></PrivateRoute>\r\n            <ChangeUserInfoRoute\r\n              path='/mis-datos/cambiar-usuario'\r\n              component={ChangeUserScreen}\r\n            ></ChangeUserInfoRoute>\r\n            <ChangeUserInfoRoute\r\n              path='/mis-datos/cambiar-email'\r\n              component={ChangeEmailScreen}\r\n            ></ChangeUserInfoRoute>\r\n            <PrivateRoute\r\n              path='/authentication'\r\n              component={AuthenticationScreen}\r\n            ></PrivateRoute>\r\n            <PrivateRoute\r\n              path='/notificaciones'\r\n              component={NotificationScreen}\r\n            ></PrivateRoute>\r\n            <Route path='*' component={NotFoundScreen}></Route>\r\n          </Switch>\r\n        </main>\r\n        <Route path='*' exact component={SimpleFooter}></Route>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport {\r\n  deleteAddressReducer,\r\n  getUserAddressesReducer,\r\n  newAddressReducer,\r\n  updateAddressReducer,\r\n} from './Reducers/addressReducers';\r\nimport { categoryListReducer } from './Reducers/categoryReducers';\r\nimport {\r\n  getUserOrdersReducer,\r\n  getUserSellsReducer,\r\n  newOrderReducer,\r\n} from './Reducers/orderReducers';\r\nimport {\r\n  productDetailsReducer,\r\n  productListReducer,\r\n  newProductReducer,\r\n  deleteProductReducer,\r\n  customProductListReducer,\r\n  updateProductReducer,\r\n  productAddQuestionReducer,\r\n  productAnswerQuestionReducer,\r\n  productGetUserQuestionReducer,\r\n  productIdListReducer,\r\n  productsUpdateStockReducer,\r\n} from './Reducers/productReducers';\r\nimport {\r\n  userCheckNameReducer,\r\n  userDeleteProductDraftsReducer,\r\n  userDetailsReducer,\r\n  userLoginReducer,\r\n  userRegisterReducer,\r\n  userAddProductsReducer,\r\n  userUpdateFavoritesReducer,\r\n  userUpdateProductsDraftsReducer,\r\n  userVerifyEmailExistsReducer,\r\n  userDeleteProducsReducer,\r\n  userUpdateReducer,\r\n  userUpdateHistoryReducer,\r\n  userGetHistoryDetailsReducer,\r\n  userRemoveHistoryReducer,\r\n  userGetPublishedProductsReducer,\r\n  userPushNotificationReducer,\r\n  userDeleteNotificationReducer,\r\n  userUpdateCartReducer,\r\n  usergetCartDetailsReducer,\r\n  userCartRemoveMultipleReducer,\r\n  userAuthenticateReducer,\r\n} from './Reducers/userReducers';\r\n\r\nconst initialState = {\r\n  userCheckName: {\r\n    user: localStorage.getItem('userCheckNameInfo')\r\n      ? JSON.parse(localStorage.getItem('userCheckNameInfo'))\r\n      : null,\r\n  },\r\n  userLogin: {\r\n    user: localStorage.getItem('userInfo')\r\n      ? JSON.parse(localStorage.getItem('userInfo'))\r\n      : null,\r\n  },\r\n  userVerifyEmail: {\r\n    checkedEmail: localStorage.getItem('verifyEmail')\r\n      ? JSON.parse(localStorage.getItem('verifyEmail'))\r\n      : null,\r\n  },\r\n};\r\n\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst reducer = combineReducers({\r\n  productList: productListReducer,\r\n  productDetails: productDetailsReducer,\r\n  newProduct: newProductReducer,\r\n  userDetails: userDetailsReducer,\r\n  userCheckName: userCheckNameReducer,\r\n  userLogin: userLoginReducer,\r\n  userUpdateFavs: userUpdateFavoritesReducer,\r\n  userRegister: userRegisterReducer,\r\n  userVerifyEmail: userVerifyEmailExistsReducer,\r\n  categoryList: categoryListReducer,\r\n  userUpdateProductDrafts: userUpdateProductsDraftsReducer,\r\n  userDeleteProductDrafts: userDeleteProductDraftsReducer,\r\n  userAddProducts: userAddProductsReducer,\r\n  deleteProduct: deleteProductReducer,\r\n  userDeleteProduct: userDeleteProducsReducer,\r\n  userUpdate: userUpdateReducer,\r\n  customProductList: customProductListReducer,\r\n  historyUpdate: userUpdateHistoryReducer,\r\n  userHistory: userGetHistoryDetailsReducer,\r\n  removeHistory: userRemoveHistoryReducer,\r\n  publishedProducts: userGetPublishedProductsReducer,\r\n  productUpdate: updateProductReducer,\r\n  productAddQuestion: productAddQuestionReducer,\r\n  productAnswerQuestion: productAnswerQuestionReducer,\r\n  productGetUserQuestions: productGetUserQuestionReducer,\r\n  userPushNotification: userPushNotificationReducer,\r\n  userDeleteNotification: userDeleteNotificationReducer,\r\n  idListProduct: productIdListReducer,\r\n  addressNew: newAddressReducer,\r\n  addressUpdate: updateAddressReducer,\r\n  addressDelete: deleteAddressReducer,\r\n  userAddresses: getUserAddressesReducer,\r\n  orderCreate: newOrderReducer,\r\n  cartUpdate: userUpdateCartReducer,\r\n  userCart: usergetCartDetailsReducer,\r\n  cartRemoveMultiple: userCartRemoveMultipleReducer,\r\n  userOrders: getUserOrdersReducer,\r\n  productsUpdateStock: productsUpdateStockReducer,\r\n  userSells: getUserSellsReducer,\r\n  userAuthenticate: userAuthenticateReducer,\r\n});\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  initialState,\r\n  composeEnhancer(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","export const productListReducer = (\r\n  state = { loading: true, products: [] },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case 'PRODUCT_LIST_REQUEST':\r\n      return { loading: true };\r\n    case 'PRODUCT_LIST_SUCCESS':\r\n      return { loading: false, products: action.payload };\r\n    case 'PRODUCT_LIST_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const customProductListReducer = (\r\n  state = { loading: true, products: [] },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case 'CUSTOM_PRODUCT_LIST_REQUEST':\r\n      return { loading: true };\r\n    case 'CUSTOM_PRODUCT_LIST_SUCCESS':\r\n      return { loading: false, products: action.payload };\r\n    case 'CUSTOM_PRODUCT_LIST_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const productDetailsReducer = (state = { loading: true }, action) => {\r\n  switch (action.type) {\r\n    case 'PRODUCT_DETAILS_REQUEST':\r\n      return { loading: true };\r\n    case 'PRODUCT_DETAILS_SUCCESS':\r\n      return { loading: false, product: action.payload };\r\n    case 'PRODUCT_DETAILS_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const newProductReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'NEW_PRODUCT_REQUEST':\r\n      return { loading: true };\r\n    case 'NEW_PRODUCT_SUCCESS':\r\n      return { loading: false, product: action.payload };\r\n    case 'NEW_PRODUCT_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const deleteProductReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'NEW_PRODUCT_REQUEST':\r\n      return { loading: true };\r\n    case 'NEW_PRODUCT_SUCCESS':\r\n      return { loading: false, product: action.payload };\r\n    case 'NEW_PRODUCT_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const updateProductReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'UPDATE_PRODUCT_REQUEST':\r\n      return { loading: true };\r\n    case 'UPDATE_PRODUCT_SUCCESS':\r\n      return { loading: false, product: action.payload };\r\n    case 'UPDATE_PRODUCT_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    case 'UPDATE_PRODUCT_RESET':\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const productAddQuestionReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'PRODUCT_ADD_QUESTION_REQUEST':\r\n      return { loading: true };\r\n    case 'PRODUCT_ADD_QUESTION_SUCCESS':\r\n      return { loading: false, product: action.payload };\r\n    case 'PRODUCT_ADD_QUESTION_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    case 'PRODUCT_ADD_QUESTION_RESET':\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const productAnswerQuestionReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'PRODUCT_ANSWER_QUESTION_REQUEST':\r\n      return { loading: true };\r\n    case 'PRODUCT_ANSWER_QUESTION_SUCCESS':\r\n      return { loading: false, product: action.payload };\r\n    case 'PRODUCT_ANSWER_QUESTION_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const productGetUserQuestionReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'PRODUCT_USER_QUESTIONS_REQUEST':\r\n      return { loading: true };\r\n    case 'PRODUCT_USER_QUESTIONS_SUCCESS':\r\n      return { loading: false, products: action.payload };\r\n    case 'PRODUCT_USER_QUESTIONS_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const productIdListReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'PRODUCT_ID_LIST_REQUEST':\r\n      return { loading: true };\r\n    case 'PRODUCT_ID_LIST_SUCCESS':\r\n      return { loading: false, products: action.payload };\r\n    case 'PRODUCT_ID_LIST_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    case 'PRODUCT_ID_LIST_RESET':\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const productsUpdateStockReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'PRODUCT_UPDATE_STOCK_REQUEST':\r\n      return { loading: true };\r\n    case 'PRODUCT_UPDATE_STOCK_SUCCESS':\r\n      return { loading: false, products: action.payload, success: true };\r\n    case 'PRODUCT_UPDATE_STOCK_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    case 'PRODUCT_UPDATE_STOCK_RESET':\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const userDetailsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_DETAILS_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_DETAILS_SUCCESS':\r\n      return { loading: false, user: action.payload };\r\n    case 'USER_DETAILS_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userCheckNameReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_CHECKNAME_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_CHECKNAME_SUCCESS':\r\n      return { loading: false, user: action.payload, success: true };\r\n    case 'USER_CHECKNAME_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    case 'USER_CHECKNAME_RESET_SUCCESS':\r\n      return { ...state, success: null };\r\n    case 'USER_CHECKNAME_RESET':\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userLoginReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_LOGIN_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_LOGIN_SUCCESS':\r\n      return { loading: false, user: action.payload };\r\n    case 'USER_LOGIN_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    case 'USER_LOGIN_RESET':\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userAuthenticateReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_AUTHENTICATE_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_AUTHENTICATE_SUCCESS':\r\n      return { loading: false, success: action.payload.success };\r\n    case 'USER_AUTHENTICATE_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    case 'USER_AUTHENTICATE_RESET':\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userUpdateFavoritesReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'UPDATE_USER_FAVORITES_REQUEST':\r\n      return { loading: true };\r\n    case 'UPDATE_USER_FAVORITES_SUCCESS':\r\n      return { loading: false, user: action.payload };\r\n    case 'UPDATE_USER_FAVORITES_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    case 'UPDATE_USER_FAVORITES_RESET':\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userVerifyEmailExistsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_VERIFYEMAILEXISTS_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_VERIFYEMAILEXISTS_SUCCESS':\r\n      return { loading: false, checkedEmail: action.payload, success: true };\r\n    case 'USER_VERIFYEMAILEXISTS_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    case 'USER_VERIFYEMAILEXISTS_RESET_SUCCESS':\r\n      return { ...state, success: null };\r\n    case 'USER_VERIFYEMAILEXISTS_RESET':\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userRegisterReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_REGISTER_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_REGISTER_SUCCESS':\r\n      return { loading: false, user: action.payload };\r\n    case 'USER_REGISTER_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    case 'USER_REGISTER_RESET':\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userUpdateProductsDraftsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_UPDATE_PRODUCT_DRAFTS_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_UPDATE_PRODUCT_DRAFTS_SUCCESS':\r\n      return { loading: false, user: action.payload };\r\n    case 'USER_UPDATE_PRODUCT_DRAFTS_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userUpdateReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_UPDATE_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_UPDATE_SUCCESS':\r\n      return { loading: false, user: action.payload, success: true };\r\n    case 'USER_UPDATE_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userDeleteProductDraftsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_DELETE_PRODUCT_DRAFTS_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_DELETE_PRODUCT_DRAFTS_SUCCESS':\r\n      return { loading: false, user: action.payload, deleted: true };\r\n    case 'USER_DELETE_PRODUCT_DRAFTS_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userDeleteProducsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_DELETE_PRODUCTS_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_DELETE_PRODUCTS_SUCCESS':\r\n      return { loading: false, user: action.payload, deleted: true };\r\n    case 'USER_DELETE_PRODUCTS_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userAddProductsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_ADD_PRODUCTS_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_ADD_PRODUCTS_SUCCESS':\r\n      return { loading: false, added: true, user: action.payload };\r\n    case 'USER_ADD_PRODUCTS_FAIL':\r\n      return { loading: false, added: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userGetPublishedProductsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_PUBLISHED_PRODUCTS_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_PUBLISHED_PRODUCTS_SUCCESS':\r\n      return { loading: false, products: action.payload };\r\n    case 'USER_PUBLISHED_PRODUCTS_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userUpdateHistoryReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_HISTORY_UPDATE_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_HISTORY_UPDATE_SUCCESS':\r\n      return { loading: false, user: action.payload };\r\n    case 'USER_HISTORY_UPDATE_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userGetHistoryDetailsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_HISTORY_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_HISTORY_SUCCESS':\r\n      return { loading: false, history: action.payload };\r\n    case 'USER_HISTORY_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userRemoveHistoryReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_HISTORY_REMOVE_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_HISTORY_REMOVE_SUCCESS':\r\n      return { loading: false, history: action.payload };\r\n    case 'USER_HISTORY_REMOVE_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userPushNotificationReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_PUSH_NOTIFICATION_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_PUSH_NOTIFICATION_SUCCESS':\r\n      return { loading: false, user: action.payload };\r\n    case 'USER_PUSH_NOTIFICATION_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userDeleteNotificationReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_DELETE_NOTIFICATION_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_DELETE_NOTIFICATION_SUCCESS':\r\n      return { loading: false, success: true };\r\n    case 'USER_DELETE_NOTIFICATION_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userUpdateCartReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_CART_UPDATE_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_CART_UPDATE_SUCCESS':\r\n      return { loading: false, success: true, item: action.payload };\r\n    case 'USER_CART_UPDATE_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    case 'USER_CART_UPDATE_RESET':\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const usergetCartDetailsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_CART_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_CART_SUCCESS':\r\n      return { loading: false, cart: action.payload };\r\n    case 'USER_CART_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userCartRemoveMultipleReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_CART_REMOVE_MULTIPLE_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_CART_REMOVE_MULTIPLE_SUCCESS':\r\n      return { loading: false, success: true };\r\n    case 'USER_CART_REMOVE_MULTIPLE_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    case 'USER_CART_REMOVE_MULTIPLE_RESET':\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const categoryListReducer = (\r\n  state = { loading: true, categories: [] },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case 'CATEGORY_LIST_REQUEST':\r\n      return { loading: true };\r\n    case 'CATEGORY_LIST_SUCCESS':\r\n      return { loading: false, categories: action.payload };\r\n    case 'CATEGORY_LIST_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const newAddressReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'NEW_ADDRESS_REQUEST':\r\n      return { loading: true };\r\n    case 'NEW_ADDRESS_SUCCESS':\r\n      return { loading: false, address: action.payload };\r\n    case 'NEW_ADDRESS_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const updateAddressReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'UPDATE_ADDRESS_REQUEST':\r\n      return { loading: true };\r\n    case 'UPDATE_ADDRESS_SUCCESS':\r\n      return { loading: false, address: action.payload };\r\n    case 'UPDATE_ADDRESS_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const deleteAddressReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'DELETE_ADDRESS_REQUEST':\r\n      return { loading: true };\r\n    case 'DELETE_ADDRESS_SUCCESS':\r\n      return { loading: false, deleted: true };\r\n    case 'DELETE_ADDRESS_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    case 'DELETE_ADDRESS_RESET':\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getUserAddressesReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_ADDRESSES_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_ADDRESSES_SUCCESS':\r\n      return { loading: false, addresses: action.payload };\r\n    case 'USER_ADDRESSES_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const newOrderReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'CREATE_ORDER_REQUEST':\r\n      return { loading: true };\r\n    case 'CREATE_ORDER_SUCCESS':\r\n      return { loading: false, success: true, orders: action.payload };\r\n    case 'CREATE_ORDER_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    case 'CREATE_ORDER_RESET':\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getUserOrdersReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_ORDER_LIST_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_ORDER_LIST_SUCCESS':\r\n      return { loading: false, orders: action.payload };\r\n    case 'USER_ORDER_LIST_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getUserSellsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'USER_SELLS_LIST_REQUEST':\r\n      return { loading: true };\r\n    case 'USER_SELLS_LIST_SUCCESS':\r\n      return { loading: false, orders: action.payload };\r\n    case 'USER_ORDER_LIST_FAIL':\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport store from './store';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}